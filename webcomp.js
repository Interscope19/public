(()=>{"use strict";var e,d={},b={};function t(e){var n=b[e];if(void 0!==n)return n.exports;var r=b[e]={id:e,loaded:!1,exports:{}};return d[e](r,r.exports,t),r.loaded=!0,r.exports}t.m=d,e=[],t.O=(n,r,s,l)=>{if(!r){var f=1/0;for(a=0;a<e.length;a++){for(var[r,s,l]=e[a],c=!0,o=0;o<r.length;o++)(!1&l||f>=l)&&Object.keys(t.O).every(p=>t.O[p](r[o]))?r.splice(o--,1):(c=!1,l<f&&(f=l));if(c){e.splice(a--,1);var u=s();void 0!==u&&(n=u)}}return n}l=l||0;for(var a=e.length;a>0&&e[a-1][2]>l;a--)e[a]=e[a-1];e[a]=[r,s,l]},t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={666:0};t.O.j=s=>0===e[s];var n=(s,l)=>{var o,u,[a,f,c]=l,i=0;for(o in f)t.o(f,o)&&(t.m[o]=f[o]);if(c)var v=c(t);for(s&&s(l);i<a.length;i++)t.o(e,u=a[i])&&e[u]&&e[u][0](),e[a[i]]=0;return t.O(v)},r=self.webpackChunkelements=self.webpackChunkelements||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))})()})();
(self.webpackChunkelements=self.webpackChunkelements||[]).push([[429],{142:()=>{!function(ne,ve){"use strict";function Ze(){var t=pt.splice(0,pt.length);for($=0;t.length;)t.shift().call(null,t.shift())}function Ue(t,s){for(var c=0,T=t.length;c<T;c++)Pe(t[c],s)}function ht(t){return function(s){I(s)&&(Pe(s,t),Ie.length&&Ue(s.querySelectorAll(Ie),t))}}function vt(t){var s=F.call(t,"is"),c=t.nodeName.toUpperCase(),T=qe.call(Ge,s?Ye+s.toUpperCase():Oe+c);return s&&-1<T&&!ce(c,s)?-1:T}function ce(t,s){return-1<Ie.indexOf(t+'[is="'+s+'"]')}function ft(t){var s=t.currentTarget,c=t.attrChange,T=t.attrName,l=t.target,a=t[st]||2,f=t[at]||3;!o||l&&l!==s||!s[Xe]||"style"===T||t.prevValue===t.newValue&&(""!==t.newValue||c!==a&&c!==f)||s[Xe](T,c===a?null:t.prevValue,c===f?null:t.newValue)}function Mt(t){var s=ht(t);return function(c){pt.push(s,c.target),$&&clearTimeout($),$=setTimeout(Ze,1)}}function xe(t){N&&(N=!1,t.currentTarget.removeEventListener(mt,xe)),Ie.length&&Ue((t.target||G).querySelectorAll(Ie),t.detail===We?We:$e),ee&&function(){for(var t,s=0,c=b.length;s<c;s++)lt.contains(t=b[s])||(c--,b.splice(s--,1),Pe(t,We))}()}function Me(t,s){var c=this;se.call(c,t,s),Se.call(c,{target:c})}function De(t,s,c){var T=s.apply(t,c),l=vt(T);return-1<l&&Le(T,_e[l]),c.pop()&&Ie.length&&function(t){for(var s,c=0,T=t.length;c<T;c++)Le(s=t[c],_e[vt(s)])}(T.querySelectorAll(Ie)),T}function it(t,s){D(t,s),tt?tt.observe(t,de):(U&&(t.setAttribute=Me,t[Ae]=ze(t),t[Be](ct,Se)),t[Be](Ve,ft)),t[oe]&&o&&(t.created=!0,t[oe](),t.created=!1)}function Y(t){throw new Error("A "+t+" type is already registered")}function Pe(t,s){var c,T,l=vt(t);-1<l&&!K.call(t,"TEMPLATE")&&(Fe(t,_e[l]),l=0,s!==$e||t[$e]?s!==We||t[We]||(t[$e]=!1,t[We]=!0,T="disconnected",l=1):(t[We]=!1,t[$e]=!0,T="connected",l=1,ee&&qe.call(b,t)<0&&b.push(t)),l&&(c=t[s+Ee]||t[T+Ee])&&c.call(t))}function je(){}function Q(t,s,c){var T=c&&c[fe]||"",l=s.prototype,a=w(l),f=s.observedAttributes||Je,v={prototype:a};z(a,oe,{value:function(){if(m)m=!1;else if(!this[Ct]){this[Ct]=!0,new s(this),l[oe]&&l[oe].call(this);var _=g[O.get(s)];(!i||_.create.length>1)&&ge(this)}}}),z(a,Xe,{value:function(_){-1<qe.call(f,_)&&l[Xe]&&l[Xe].apply(this,arguments)}}),l[Te]&&z(a,wt,{value:l[Te]}),l[Ke]&&z(a,ke,{value:l[Ke]}),T&&(v[fe]=T),t=t.toUpperCase(),g[t]={constructor:s,create:T?[T,R(t)]:[t]},O.set(s,t),G[be](t.toLowerCase(),v),_t(t),y[t].r()}function Nt(t){var s=g[t.toUpperCase()];return s&&s.constructor}function It(t){return"string"==typeof t?t:t&&t.is||""}function ge(t){for(var s,c=t[Xe],T=c?t.attributes:Je,l=T.length;l--;)c.call(t,(s=T[l]).name||s.nodeName,null,s.value||s.nodeValue)}function _t(t){return(t=t.toUpperCase())in y||(y[t]={},y[t].p=new h(function(s){y[t].r=s})),y[t].p}function yt(){Qe&&delete ne.customElements,ot(ne,"customElements",{configurable:!0,value:new je}),ot(ne,"CustomElementRegistry",{configurable:!0,value:je});for(var t=dt.get(/^HTML[A-Z]*[a-z]/),s=t.length;s--;function(c){var T=ne[c];if(T){ne[c]=function(l){var a,f;return l||(l=this),l[Ct]||(m=!0,a=g[O.get(l.constructor)],(l=(f=i&&1===a.create.length)?Reflect.construct(T,Je,a.constructor):G.createElement.apply(G,a.create))[Ct]=!0,m=!1,f||ge(l)),l},ne[c].prototype=T.prototype;try{T.prototype.constructor=ne[c]}catch(l){ot(T,Ct,{value:ne[c]})}}}(t[s]));G.createElement=function(c,T){var l=It(T);return l?H.call(this,c,R(l)):H.call(this,c)},we||(W=!0,G[be](""))}var G=ne.document,he=ne.Object,dt=function(t){var s,c,T,l,a=/^[A-Z]+[a-z]/,v=function(k,C){(C=C.toLowerCase())in _||(_[k]=(_[k]||[]).concat(C),_[C]=_[C.toUpperCase()]=k)},_=(he.create||he)(null),P={};for(c in t)for(l in t[c])for(_[l]=T=t[c][l],s=0;s<T.length;s++)_[T[s].toLowerCase()]=_[T[s].toUpperCase()]=l;return P.get=function(k){return"string"==typeof k?_[k]||(a.test(k)?[]:""):function(k){var C,L=[];for(C in _)k.test(C)&&L.push(C);return L}(k)},P.set=function(k,C){return a.test(k)?v(k,C):v(C,k),P},P}({collections:{HTMLAllCollection:["all"],HTMLCollection:["forms"],HTMLFormControlsCollection:["elements"],HTMLOptionsCollection:["options"]},elements:{Element:["element"],HTMLAnchorElement:["a"],HTMLAppletElement:["applet"],HTMLAreaElement:["area"],HTMLAttachmentElement:["attachment"],HTMLAudioElement:["audio"],HTMLBRElement:["br"],HTMLBaseElement:["base"],HTMLBodyElement:["body"],HTMLButtonElement:["button"],HTMLCanvasElement:["canvas"],HTMLContentElement:["content"],HTMLDListElement:["dl"],HTMLDataElement:["data"],HTMLDataListElement:["datalist"],HTMLDetailsElement:["details"],HTMLDialogElement:["dialog"],HTMLDirectoryElement:["dir"],HTMLDivElement:["div"],HTMLDocument:["document"],HTMLElement:["element","abbr","address","article","aside","b","bdi","bdo","cite","code","command","dd","dfn","dt","em","figcaption","figure","footer","header","i","kbd","mark","nav","noscript","rp","rt","ruby","s","samp","section","small","strong","sub","summary","sup","u","var","wbr"],HTMLEmbedElement:["embed"],HTMLFieldSetElement:["fieldset"],HTMLFontElement:["font"],HTMLFormElement:["form"],HTMLFrameElement:["frame"],HTMLFrameSetElement:["frameset"],HTMLHRElement:["hr"],HTMLHeadElement:["head"],HTMLHeadingElement:["h1","h2","h3","h4","h5","h6"],HTMLHtmlElement:["html"],HTMLIFrameElement:["iframe"],HTMLImageElement:["img"],HTMLInputElement:["input"],HTMLKeygenElement:["keygen"],HTMLLIElement:["li"],HTMLLabelElement:["label"],HTMLLegendElement:["legend"],HTMLLinkElement:["link"],HTMLMapElement:["map"],HTMLMarqueeElement:["marquee"],HTMLMediaElement:["media"],HTMLMenuElement:["menu"],HTMLMenuItemElement:["menuitem"],HTMLMetaElement:["meta"],HTMLMeterElement:["meter"],HTMLModElement:["del","ins"],HTMLOListElement:["ol"],HTMLObjectElement:["object"],HTMLOptGroupElement:["optgroup"],HTMLOptionElement:["option"],HTMLOutputElement:["output"],HTMLParagraphElement:["p"],HTMLParamElement:["param"],HTMLPictureElement:["picture"],HTMLPreElement:["pre"],HTMLProgressElement:["progress"],HTMLQuoteElement:["blockquote","q","quote"],HTMLScriptElement:["script"],HTMLSelectElement:["select"],HTMLShadowElement:["shadow"],HTMLSlotElement:["slot"],HTMLSourceElement:["source"],HTMLSpanElement:["span"],HTMLStyleElement:["style"],HTMLTableCaptionElement:["caption"],HTMLTableCellElement:["td","th"],HTMLTableColElement:["col","colgroup"],HTMLTableElement:["table"],HTMLTableRowElement:["tr"],HTMLTableSectionElement:["thead","tbody","tfoot"],HTMLTemplateElement:["template"],HTMLTextAreaElement:["textarea"],HTMLTimeElement:["time"],HTMLTitleElement:["title"],HTMLTrackElement:["track"],HTMLUListElement:["ul"],HTMLUnknownElement:["unknown","vhgroupv","vkeygen"],HTMLVideoElement:["video"]},nodes:{Attr:["node"],Audio:["audio"],CDATASection:["node"],CharacterData:["node"],Comment:["#comment"],Document:["#document"],DocumentFragment:["#document-fragment"],DocumentType:["node"],HTMLDocument:["#document"],Image:["img"],Option:["option"],ProcessingInstruction:["node"],ShadowRoot:["#shadow-root"],Text:["#text"],XMLDocument:["xml"]}});"object"!=typeof ve&&(ve={type:ve||"auto"});var pt,Se,et,ze,tt,Ne,Fe,Le,nt,t,s,c,T,l,be="registerElement",Ot=1e5*ne.Math.random()>>0,Ae="__"+be+Ot,Be="addEventListener",$e="attached",Ee="Callback",We="detached",fe="extends",Xe="attributeChanged"+Ee,wt=$e+Ee,Te="connected"+Ee,Ke="disconnected"+Ee,oe="created"+Ee,ke=We+Ee,st="ADDITION",at="REMOVAL",Ve="DOMAttrModified",mt="DOMContentLoaded",ct="DOMSubtreeModified",Oe="<",Ye="=",Dt=/^[A-Z][._A-Z0-9]*-[-._A-Z0-9]*$/,St=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],Ge=[],_e=[],Ie="",lt=G.documentElement,qe=Ge.indexOf||function(t){for(var s=this.length;s--&&this[s]!==t;);return s},Pt=he.prototype,rt=Pt.hasOwnProperty,bt=Pt.isPrototypeOf,ot=he.defineProperty,Je=[],Tt=he.getOwnPropertyDescriptor,re=he.getOwnPropertyNames,Lt=he.getPrototypeOf,kt=he.setPrototypeOf,ut=!!he.__proto__,Ct="__dreCEv1",Qe=ne.customElements,i=!/^force/.test(ve.type)&&!!(Qe&&Qe.define&&Qe.get&&Qe.whenDefined),u=he.create||he,p=ne.Map||function(){var t,s=[],c=[];return{get:function(T){return c[qe.call(s,T)]},set:function(T,l){(t=qe.call(s,T))<0?c[s.push(T)-1]=l:c[t]=l}}},h=ne.Promise||function(t){function s(a){for(T=!0;c.length;)c.shift()(a)}var c=[],T=!1,l={catch:function(){return l},then:function(a){return c.push(a),T&&setTimeout(s,1),l}};return t(s),l},m=!1,g=u(null),y=u(null),O=new p,R=function(t){return t.toLowerCase()},w=he.create||function t(s){return s?(t.prototype=s,new t):this},D=kt||(ut?function(t,s){return t.__proto__=s,t}:re&&Tt?function(){function t(s,c){for(var T,l=re(c),a=0,f=l.length;a<f;a++)rt.call(s,T=l[a])||ot(s,T,Tt(c,T))}return function(s,c){do{t(s,c)}while((c=Lt(c))&&!bt.call(c,s));return s}}():function(t,s){for(var c in s)t[c]=s[c];return t}),x=ne.MutationObserver||ne.WebKitMutationObserver,V=ne.HTMLAnchorElement,A=(ne.HTMLElement||ne.Element||ne.Node).prototype,ee=!bt.call(A,lt),z=ee?function(t,s,c){return t[s]=c.value,t}:ot,I=ee?function(t){return 1===t.nodeType}:function(t){return bt.call(A,t)},b=ee&&[],q=A.attachShadow,J=A.cloneNode,K=A.closest||function(t){for(var s=this;s&&s.nodeName!==t;)s=s.parentNode;return s},ie=A.dispatchEvent,F=A.getAttribute,le=A.hasAttribute,B=A.removeAttribute,se=A.setAttribute,S=G.createElement,j=G.importNode,H=S,de=x&&{attributes:!0,characterData:!0,attributeOldValue:!0},Re=x||function(t){U=!1,lt.removeEventListener(Ve,Re)},$=0,we=be in G&&!/^force-all/.test(ve.type),Ce=!0,W=!1,U=!0,N=!0,o=!0;if(x&&((nt=G.createElement("div")).innerHTML="<div><div></div></div>",new x(function(t,s){if(t[0]&&"childList"==t[0].type&&!t[0].removedNodes[0].childNodes.length){var c=(nt=Tt(A,"innerHTML"))&&nt.set;c&&ot(A,"innerHTML",{set:function(T){for(;this.lastChild;)this.removeChild(this.lastChild);c.call(this,T)}})}s.disconnect(),nt=null}).observe(nt,{childList:!0,subtree:!0}),nt.innerHTML=""),we||(kt||ut?(Fe=function(t,s){bt.call(s,t)||it(t,s)},Le=it):Le=Fe=function(t,s){t[Ae]||(t[Ae]=he(!0),it(t,s))},ee?(U=!1,t=Tt(A,Be),s=t.value,c=function(a){var f=new CustomEvent(Ve,{bubbles:!0});f.attrName=a,f.prevValue=F.call(this,a),f.newValue=null,f[at]=f.attrChange=2,B.call(this,a),ie.call(this,f)},T=function(a,f){var v=le.call(this,a),_=v&&F.call(this,a),P=new CustomEvent(Ve,{bubbles:!0});se.call(this,a,f),P.attrName=a,P.prevValue=v?_:null,P.newValue=f,v?P.MODIFICATION=P.attrChange=1:P[st]=P.attrChange=0,ie.call(this,P)},l=function(a){var f,v=a.currentTarget,_=v[Ae],P=a.propertyName;_.hasOwnProperty(P)&&(_=_[P],(f=new CustomEvent(Ve,{bubbles:!0})).attrName=_.name,f.prevValue=_.value||null,f.newValue=_.value=v[P]||null,null==f.prevValue?f[st]=f.attrChange=0:f.MODIFICATION=f.attrChange=1,ie.call(v,f))},t.value=function(a,f,v){a===Ve&&this[Xe]&&this.setAttribute!==T&&(this[Ae]={className:{name:"class",value:this.className}},this.setAttribute=T,this.removeAttribute=c,s.call(this,"propertychange",l)),s.call(this,a,f,v)},ot(A,Be,t)):x||(lt[Be](Ve,Re),lt.setAttribute(Ae,1),lt.removeAttribute(Ae),U&&(Se=function(t){var s,c,T,l=this;if(l===t.target){for(T in s=l[Ae],l[Ae]=c=ze(l),c){if(!(T in s))return et(0,l,T,s[T],c[T],st);if(c[T]!==s[T])return et(1,l,T,s[T],c[T],"MODIFICATION")}for(T in s)if(!(T in c))return et(2,l,T,s[T],c[T],at)}},et=function(t,s,c,T,l,a){var f={attrChange:t,currentTarget:s,attrName:c,prevValue:T,newValue:l};f[a]=t,ft(f)},ze=function(t){for(var s,c,T={},l=t.attributes,a=0,f=l.length;a<f;a++)"setAttribute"!==(c=(s=l[a]).name)&&(T[c]=s.value);return T})),G[be]=function(t,s){if(c=t.toUpperCase(),Ce&&(Ce=!1,x?(tt=function(_,P){function k(C,L){for(var Z=0,te=C.length;Z<te;L(C[Z++]));}return new x(function(C){for(var L,Z,te,pe=0,He=C.length;pe<He;pe++)"childList"===(L=C[pe]).type?(k(L.addedNodes,_),k(L.removedNodes,P)):(Z=L.target,o&&Z[Xe]&&"style"!==L.attributeName&&(te=F.call(Z,L.attributeName))!==L.oldValue&&Z[Xe](L.attributeName,L.oldValue,te))})}(ht($e),ht(We)),(Ne=function(_){return tt.observe(_,{childList:!0,subtree:!0}),_})(G),q&&(A.attachShadow=function(){return Ne(q.apply(this,arguments))})):(pt=[],G[Be]("DOMNodeInserted",Mt($e)),G[Be]("DOMNodeRemoved",Mt(We))),G[Be](mt,xe),G[Be]("readystatechange",xe),G.importNode=function(_,P){switch(_.nodeType){case 1:return De(G,j,[_,!!P]);case 11:for(var k=G.createDocumentFragment(),C=_.childNodes,L=C.length,Z=0;Z<L;Z++)k.appendChild(G.importNode(C[Z],!!P));return k;default:return J.call(_,!!P)}},A.cloneNode=function(_){return De(this,J,[!!_])}),W)return W=!1;if(-2<qe.call(Ge,Ye+c)+qe.call(Ge,Oe+c)&&Y(t),!Dt.test(c)||-1<qe.call(St,c))throw new Error("The type "+t+" is invalid");var c,T,l=function(){return f?G.createElement(v,c):G.createElement(v)},a=s||Pt,f=rt.call(a,fe),v=f?s[fe].toUpperCase():c;return f&&-1<qe.call(Ge,Oe+v)&&Y(v),T=Ge.push((f?Ye:Oe)+c)-1,Ie=Ie.concat(Ie.length?",":"",f?v+'[is="'+t.toLowerCase()+'"]':v),l.prototype=_e[T]=rt.call(a,"prototype")?a.prototype:w(A),Ie.length&&Ue(G.querySelectorAll(Ie),$e),l},G.createElement=H=function(t,s){var c=It(s),T=c?S.call(G,t,R(c)):S.call(G,t),l=""+t,a=qe.call(Ge,(c?Ye:Oe)+(c||l).toUpperCase()),f=-1<a;return c&&(T.setAttribute("is",c=c.toLowerCase()),f&&(f=ce(l.toUpperCase(),c))),o=!G.createElement.innerHTMLHelper,f&&Le(T,_e[a]),T}),addEventListener("beforeunload",function(){delete G.createElement,delete G.importNode,delete G[be]},!1),je.prototype={constructor:je,define:i?function(t,s,c){if(c)Q(t,s,c);else{var T=t.toUpperCase();g[T]={constructor:s,create:[T]},O.set(s,T),Qe.define(t,s)}}:Q,get:i?function(t){return Qe.get(t)||Nt(t)}:Nt,whenDefined:i?function(t){return h.race([Qe.whenDefined(t),_t(t)])}:_t},!Qe||/^force/.test(ve.type))yt();else if(!ve.noBuiltIn)try{!function(t,s,c){var T=new RegExp("^<a\\s+is=('|\")"+c+"\\1></a>$");if(s[fe]="a",(t.prototype=w(V.prototype)).constructor=t,ne.customElements.define(c,t,s),!T.test(G.createElement("a",{is:c}).outerHTML)||!T.test((new t).outerHTML))throw s}(function t(){return Reflect.construct(V,[],t)},{},"document-register-element-a"+Ot)}catch(t){yt()}if(!ve.noBuiltIn)try{if(S.call(G,"a","a").outerHTML.indexOf("is")<0)throw{}}catch(t){R=function(s){return{is:s.toLowerCase()}}}}(window)},1524:(ne,ve,Ze)=>{var Ue;!function(ye,ht,vt,ce){"use strict";var Q,ft=["","webkit","Moz","MS","ms","o"],Mt=ht.createElement("div"),Me=Math.round,De=Math.abs,it=Date.now;function gt(e,n,r){return setTimeout(_t(e,r),n)}function Y(e,n,r){return!!Array.isArray(e)&&(Pe(e,r[n],r),!0)}function Pe(e,n,r){var d;if(e)if(e.forEach)e.forEach(n,r);else if(e.length!==ce)for(d=0;d<e.length;)n.call(r,e[d],d,e),d++;else for(d in e)e.hasOwnProperty(d)&&n.call(r,e[d],d,e)}function je(e,n,r){var d="DEPRECATED METHOD: "+n+"\n"+r+" AT \n";return function(){var E=new Error("get-stack-trace"),M=E&&E.stack?E.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",X=ye.console&&(ye.console.warn||ye.console.log);return X&&X.call(ye.console,d,M),e.apply(this,arguments)}}Q="function"!=typeof Object.assign?function(n){if(n===ce||null===n)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(n),d=1;d<arguments.length;d++){var E=arguments[d];if(E!==ce&&null!==E)for(var M in E)E.hasOwnProperty(M)&&(r[M]=E[M])}return r}:Object.assign;var Nt=je(function(n,r,d){for(var E=Object.keys(r),M=0;M<E.length;)(!d||d&&n[E[M]]===ce)&&(n[E[M]]=r[E[M]]),M++;return n},"extend","Use `assign`."),It=je(function(n,r){return Nt(n,r,!0)},"merge","Use `assign`.");function ge(e,n,r){var E,d=n.prototype;(E=e.prototype=Object.create(d)).constructor=e,E._super=d,r&&Q(E,r)}function _t(e,n){return function(){return e.apply(n,arguments)}}function yt(e,n){return"function"==typeof e?e.apply(n&&n[0]||ce,n):e}function G(e,n){return e===ce?n:e}function he(e,n,r){Pe(et(n),function(d){e.addEventListener(d,r,!1)})}function dt(e,n,r){Pe(et(n),function(d){e.removeEventListener(d,r,!1)})}function pt(e,n){for(;e;){if(e==n)return!0;e=e.parentNode}return!1}function Se(e,n){return e.indexOf(n)>-1}function et(e){return e.trim().split(/\s+/g)}function ze(e,n,r){if(e.indexOf&&!r)return e.indexOf(n);for(var d=0;d<e.length;){if(r&&e[d][r]==n||!r&&e[d]===n)return d;d++}return-1}function tt(e){return Array.prototype.slice.call(e,0)}function Ne(e,n,r){for(var d=[],E=[],M=0;M<e.length;){var X=n?e[M][n]:e[M];ze(E,X)<0&&d.push(e[M]),E[M]=X,M++}return r&&(d=n?d.sort(function(ae,me){return ae[n]>me[n]}):d.sort()),d}function Fe(e,n){for(var r,d,E=n[0].toUpperCase()+n.slice(1),M=0;M<ft.length;){if((d=(r=ft[M])?r+E:n)in e)return d;M++}return ce}var Le=1;function be(e){var n=e.ownerDocument||e;return n.defaultView||n.parentWindow||ye}var Ae="ontouchstart"in ye,Be=Fe(ye,"PointerEvent")!==ce,$e=Ae&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Ee="touch",fe="mouse",St=["x","y"],Ge=["clientX","clientY"];function _e(e,n){var r=this;this.manager=e,this.callback=n,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(d){yt(e.options.enable,[e])&&r.handler(d)},this.init()}function lt(e,n,r){var d=r.pointers.length,E=r.changedPointers.length,M=1&n&&d-E==0,X=12&n&&d-E==0;r.isFirst=!!M,r.isFinal=!!X,M&&(e.session={}),r.eventType=n,function(e,n){var r=e.session,d=n.pointers,E=d.length;r.firstInput||(r.firstInput=bt(n)),E>1&&!r.firstMultiple?r.firstMultiple=bt(n):1===E&&(r.firstMultiple=!1);var M=r.firstInput,X=r.firstMultiple,ue=X?X.center:M.center,ae=n.center=ot(d);n.timeStamp=it(),n.deltaTime=n.timeStamp-M.timeStamp,n.angle=Lt(ue,ae),n.distance=re(ue,ae),function(e,n){var r=n.center,d=e.offsetDelta||{},E=e.prevDelta||{},M=e.prevInput||{};(1===n.eventType||4===M.eventType)&&(E=e.prevDelta={x:M.deltaX||0,y:M.deltaY||0},d=e.offsetDelta={x:r.x,y:r.y}),n.deltaX=E.x+(r.x-d.x),n.deltaY=E.y+(r.y-d.y)}(r,n),n.offsetDirection=Tt(n.deltaX,n.deltaY);var me=Je(n.deltaTime,n.deltaX,n.deltaY);n.overallVelocityX=me.x,n.overallVelocityY=me.y,n.overallVelocity=De(me.x)>De(me.y)?me.x:me.y,n.scale=X?function(e,n){return re(n[0],n[1],Ge)/re(e[0],e[1],Ge)}(X.pointers,d):1,n.rotation=X?function(e,n){return Lt(n[1],n[0],Ge)+Lt(e[1],e[0],Ge)}(X.pointers,d):0,n.maxPointers=r.prevInput?n.pointers.length>r.prevInput.maxPointers?n.pointers.length:r.prevInput.maxPointers:n.pointers.length,function(e,n){var E,M,X,ue,r=e.lastInterval||n,d=n.timeStamp-r.timeStamp;if(8!=n.eventType&&(d>25||r.velocity===ce)){var ae=n.deltaX-r.deltaX,me=n.deltaY-r.deltaY,Et=Je(d,ae,me);M=Et.x,X=Et.y,E=De(Et.x)>De(Et.y)?Et.x:Et.y,ue=Tt(ae,me),e.lastInterval=n}else E=r.velocity,M=r.velocityX,X=r.velocityY,ue=r.direction;n.velocity=E,n.velocityX=M,n.velocityY=X,n.direction=ue}(r,n);var Et=e.element;pt(n.srcEvent.target,Et)&&(Et=n.srcEvent.target),n.target=Et}(e,r),e.emit("hammer.input",r),e.recognize(r),e.session.prevInput=r}function bt(e){for(var n=[],r=0;r<e.pointers.length;)n[r]={clientX:Me(e.pointers[r].clientX),clientY:Me(e.pointers[r].clientY)},r++;return{timeStamp:it(),pointers:n,center:ot(n),deltaX:e.deltaX,deltaY:e.deltaY}}function ot(e){var n=e.length;if(1===n)return{x:Me(e[0].clientX),y:Me(e[0].clientY)};for(var r=0,d=0,E=0;E<n;)r+=e[E].clientX,d+=e[E].clientY,E++;return{x:Me(r/n),y:Me(d/n)}}function Je(e,n,r){return{x:n/e||0,y:r/e||0}}function Tt(e,n){return e===n?1:De(e)>=De(n)?e<0?2:4:n<0?8:16}function re(e,n,r){r||(r=St);var d=n[r[0]]-e[r[0]],E=n[r[1]]-e[r[1]];return Math.sqrt(d*d+E*E)}function Lt(e,n,r){return r||(r=St),180*Math.atan2(n[r[1]]-e[r[1]],n[r[0]]-e[r[0]])/Math.PI}_e.prototype={handler:function(){},init:function(){this.evEl&&he(this.element,this.evEl,this.domHandler),this.evTarget&&he(this.target,this.evTarget,this.domHandler),this.evWin&&he(be(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&dt(this.element,this.evEl,this.domHandler),this.evTarget&&dt(this.target,this.evTarget,this.domHandler),this.evWin&&dt(be(this.element),this.evWin,this.domHandler)}};var Rt={mousedown:1,mousemove:2,mouseup:4},Ct="mousedown",Qe="mousemove mouseup";function i(){this.evEl=Ct,this.evWin=Qe,this.pressed=!1,_e.apply(this,arguments)}ge(i,_e,{handler:function(n){var r=Rt[n.type];1&r&&0===n.button&&(this.pressed=!0),2&r&&1!==n.which&&(r=4),this.pressed&&(4&r&&(this.pressed=!1),this.callback(this.manager,r,{pointers:[n],changedPointers:[n],pointerType:fe,srcEvent:n}))}});var u={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},p={2:Ee,3:"pen",4:fe,5:"kinect"},h="pointerdown",m="pointermove pointerup pointercancel";function g(){this.evEl=h,this.evWin=m,_e.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}ye.MSPointerEvent&&!ye.PointerEvent&&(h="MSPointerDown",m="MSPointerMove MSPointerUp MSPointerCancel"),ge(g,_e,{handler:function(n){var r=this.store,d=!1,E=n.type.toLowerCase().replace("ms",""),M=u[E],X=p[n.pointerType]||n.pointerType,ue=X==Ee,ae=ze(r,n.pointerId,"pointerId");1&M&&(0===n.button||ue)?ae<0&&(r.push(n),ae=r.length-1):12&M&&(d=!0),!(ae<0)&&(r[ae]=n,this.callback(this.manager,M,{pointers:r,changedPointers:[n],pointerType:X,srcEvent:n}),d&&r.splice(ae,1))}});var y={touchstart:1,touchmove:2,touchend:4,touchcancel:8},O="touchstart",R="touchstart touchmove touchend touchcancel";function w(){this.evTarget=O,this.evWin=R,this.started=!1,_e.apply(this,arguments)}function D(e,n){var r=tt(e.touches),d=tt(e.changedTouches);return 12&n&&(r=Ne(r.concat(d),"identifier",!0)),[r,d]}ge(w,_e,{handler:function(n){var r=y[n.type];if(1===r&&(this.started=!0),this.started){var d=D.call(this,n,r);12&r&&d[0].length-d[1].length==0&&(this.started=!1),this.callback(this.manager,r,{pointers:d[0],changedPointers:d[1],pointerType:Ee,srcEvent:n})}}});var x={touchstart:1,touchmove:2,touchend:4,touchcancel:8},V="touchstart touchmove touchend touchcancel";function A(){this.evTarget=V,this.targetIds={},_e.apply(this,arguments)}function ee(e,n){var r=tt(e.touches),d=this.targetIds;if(3&n&&1===r.length)return d[r[0].identifier]=!0,[r,r];var E,M,X=tt(e.changedTouches),ue=[],ae=this.target;if(M=r.filter(function(me){return pt(me.target,ae)}),1===n)for(E=0;E<M.length;)d[M[E].identifier]=!0,E++;for(E=0;E<X.length;)d[X[E].identifier]&&ue.push(X[E]),12&n&&delete d[X[E].identifier],E++;return ue.length?[Ne(M.concat(ue),"identifier",!0),ue]:void 0}function b(){_e.apply(this,arguments);var e=_t(this.handler,this);this.touch=new A(this.manager,e),this.mouse=new i(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function q(e,n){1&e?(this.primaryTouch=n.changedPointers[0].identifier,J.call(this,n)):12&e&&J.call(this,n)}function J(e){var n=e.changedPointers[0];if(n.identifier===this.primaryTouch){var r={x:n.clientX,y:n.clientY};this.lastTouches.push(r);var d=this.lastTouches;setTimeout(function(){var M=d.indexOf(r);M>-1&&d.splice(M,1)},2500)}}function K(e){for(var n=e.srcEvent.clientX,r=e.srcEvent.clientY,d=0;d<this.lastTouches.length;d++){var E=this.lastTouches[d],M=Math.abs(n-E.x),X=Math.abs(r-E.y);if(M<=25&&X<=25)return!0}return!1}ge(A,_e,{handler:function(n){var r=x[n.type],d=ee.call(this,n,r);!d||this.callback(this.manager,r,{pointers:d[0],changedPointers:d[1],pointerType:Ee,srcEvent:n})}}),ge(b,_e,{handler:function(n,r,d){var M=d.pointerType==fe;if(!(M&&d.sourceCapabilities&&d.sourceCapabilities.firesTouchEvents)){if(d.pointerType==Ee)q.call(this,r,d);else if(M&&K.call(this,d))return;this.callback(n,r,d)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ie=Fe(Mt.style,"touchAction"),F=ie!==ce,le="compute",B="auto",se="manipulation",S="none",j="pan-x",H="pan-y",de=function(){if(!F)return!1;var e={},n=ye.CSS&&ye.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){e[r]=!n||ye.CSS.supports("touch-action",r)}),e}();function Re(e,n){this.manager=e,this.set(n)}Re.prototype={set:function(e){e==le&&(e=this.compute()),F&&this.manager.element.style&&de[e]&&(this.manager.element.style[ie]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return Pe(this.manager.recognizers,function(n){yt(n.options.enable,[n])&&(e=e.concat(n.getTouchAction()))}),function(e){if(Se(e,S))return S;var n=Se(e,j),r=Se(e,H);return n&&r?S:n||r?n?j:H:Se(e,se)?se:B}(e.join(" "))},preventDefaults:function(e){var n=e.srcEvent,r=e.offsetDirection;if(!this.manager.session.prevented){var d=this.actions,E=Se(d,S)&&!de[S],M=Se(d,H)&&!de[H],X=Se(d,j)&&!de[j];if(E&&1===e.pointers.length&&e.distance<2&&e.deltaTime<250)return;return X&&M||!(E||M&&6&r||X&&24&r)?void 0:this.preventSrc(n)}n.preventDefault()},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var s=32;function c(e){this.options=Q({},this.defaults,e||{}),this.id=Le++,this.manager=null,this.options.enable=G(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function T(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function l(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function a(e,n){var r=n.manager;return r?r.get(e):e}function f(){c.apply(this,arguments)}function v(){f.apply(this,arguments),this.pX=null,this.pY=null}function _(){f.apply(this,arguments)}function P(){c.apply(this,arguments),this._timer=null,this._input=null}function k(){f.apply(this,arguments)}function C(){f.apply(this,arguments)}function L(){c.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Z(e,n){return(n=n||{}).recognizers=G(n.recognizers,Z.defaults.preset),new He(e,n)}function He(e,n){this.options=Q({},Z.defaults,n||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=function(e){return new(e.options.inputClass||(Be?g:$e?A:Ae?b:i))(e,lt)}(this),this.touchAction=new Re(this,this.options.touchAction),At(this,!0),Pe(this.options.recognizers,function(r){var d=this.add(new r[0](r[1]));r[2]&&d.recognizeWith(r[2]),r[3]&&d.requireFailure(r[3])},this)}function At(e,n){var d,r=e.element;r.style&&(Pe(e.options.cssProps,function(E,M){d=Fe(r.style,M),n?(e.oldCssProps[d]=r.style[d],r.style[d]=E):r.style[d]=e.oldCssProps[d]||""}),n||(e.oldCssProps={}))}c.prototype={defaults:{},set:function(e){return Q(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(Y(e,"recognizeWith",this))return this;var n=this.simultaneous;return n[(e=a(e,this)).id]||(n[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return Y(e,"dropRecognizeWith",this)||(e=a(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(Y(e,"requireFailure",this))return this;var n=this.requireFail;return-1===ze(n,e=a(e,this))&&(n.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(Y(e,"dropRequireFailure",this))return this;e=a(e,this);var n=ze(this.requireFail,e);return n>-1&&this.requireFail.splice(n,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var n=this,r=this.state;function d(E){n.manager.emit(E,e)}r<8&&d(n.options.event+T(r)),d(n.options.event),e.additionalEvent&&d(e.additionalEvent),r>=8&&d(n.options.event+T(r))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=s},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var n=Q({},e);if(!yt(this.options.enable,[this,n]))return this.reset(),void(this.state=s);56&this.state&&(this.state=1),this.state=this.process(n),30&this.state&&this.tryEmit(n)},process:function(e){},getTouchAction:function(){},reset:function(){}},ge(f,c,{defaults:{pointers:1},attrTest:function(e){var n=this.options.pointers;return 0===n||e.pointers.length===n},process:function(e){var n=this.state,r=e.eventType,d=6&n,E=this.attrTest(e);return d&&(8&r||!E)?16|n:d||E?4&r?8|n:2&n?4|n:2:s}}),ge(v,f,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,n=[];return 6&e&&n.push(H),24&e&&n.push(j),n},directionTest:function(e){var n=this.options,r=!0,d=e.distance,E=e.direction,M=e.deltaX,X=e.deltaY;return E&n.direction||(6&n.direction?(E=0===M?1:M<0?2:4,r=M!=this.pX,d=Math.abs(e.deltaX)):(E=0===X?1:X<0?8:16,r=X!=this.pY,d=Math.abs(e.deltaY))),e.direction=E,r&&d>n.threshold&&E&n.direction},attrTest:function(e){return f.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var n=l(e.direction);n&&(e.additionalEvent=this.options.event+n),this._super.emit.call(this,e)}}),ge(_,f,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[S]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){1!==e.scale&&(e.additionalEvent=this.options.event+(e.scale<1?"in":"out")),this._super.emit.call(this,e)}}),ge(P,c,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[B]},process:function(e){var n=this.options,r=e.pointers.length===n.pointers,d=e.distance<n.threshold,E=e.deltaTime>n.time;if(this._input=e,!d||!r||12&e.eventType&&!E)this.reset();else if(1&e.eventType)this.reset(),this._timer=gt(function(){this.state=8,this.tryEmit()},n.time,this);else if(4&e.eventType)return 8;return s},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=it(),this.manager.emit(this.options.event,this._input)))}}),ge(k,f,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[S]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),ge(C,f,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return v.prototype.getTouchAction.call(this)},attrTest:function(e){var r,n=this.options.direction;return 30&n?r=e.overallVelocity:6&n?r=e.overallVelocityX:24&n&&(r=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&De(r)>this.options.velocity&&4&e.eventType},emit:function(e){var n=l(e.offsetDirection);n&&this.manager.emit(this.options.event+n,e),this.manager.emit(this.options.event,e)}}),ge(L,c,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[se]},process:function(e){var n=this.options,r=e.pointers.length===n.pointers,d=e.distance<n.threshold,E=e.deltaTime<n.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(d&&E&&r){if(4!=e.eventType)return this.failTimeout();var M=!this.pTime||e.timeStamp-this.pTime<n.interval,X=!this.pCenter||re(this.pCenter,e.center)<n.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,X&&M?this.count+=1:this.count=1,this._input=e,0==this.count%n.taps)return this.hasRequireFailures()?(this._timer=gt(function(){this.state=8,this.tryEmit()},n.interval,this),2):8}return s},failTimeout:function(){return this._timer=gt(function(){this.state=s},this.options.interval,this),s},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Z.VERSION="2.0.7",Z.defaults={domEvents:!1,touchAction:le,enable:!0,inputTarget:null,inputClass:null,preset:[[k,{enable:!1}],[_,{enable:!1},["rotate"]],[C,{direction:6}],[v,{direction:6},["swipe"]],[L],[L,{event:"doubletap",taps:2},["tap"]],[P]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},He.prototype={set:function(e){return Q(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var n=this.session;if(!n.stopped){this.touchAction.preventDefaults(e);var r,d=this.recognizers,E=n.curRecognizer;(!E||E&&8&E.state)&&(E=n.curRecognizer=null);for(var M=0;M<d.length;)r=d[M],2===n.stopped||E&&r!=E&&!r.canRecognizeWith(E)?r.reset():r.recognize(e),!E&&14&r.state&&(E=n.curRecognizer=r),M++}},get:function(e){if(e instanceof c)return e;for(var n=this.recognizers,r=0;r<n.length;r++)if(n[r].options.event==e)return n[r];return null},add:function(e){if(Y(e,"add",this))return this;var n=this.get(e.options.event);return n&&this.remove(n),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(Y(e,"remove",this))return this;if(e=this.get(e)){var n=this.recognizers,r=ze(n,e);-1!==r&&(n.splice(r,1),this.touchAction.update())}return this},on:function(e,n){if(e!==ce&&n!==ce){var r=this.handlers;return Pe(et(e),function(d){r[d]=r[d]||[],r[d].push(n)}),this}},off:function(e,n){if(e!==ce){var r=this.handlers;return Pe(et(e),function(d){n?r[d]&&r[d].splice(ze(r[d],n),1):delete r[d]}),this}},emit:function(e,n){this.options.domEvents&&function(e,n){var r=ht.createEvent("Event");r.initEvent(e,!0,!0),r.gesture=n,n.target.dispatchEvent(r)}(e,n);var r=this.handlers[e]&&this.handlers[e].slice();if(r&&r.length){n.type=e,n.preventDefault=function(){n.srcEvent.preventDefault()};for(var d=0;d<r.length;)r[d](n),d++}},destroy:function(){this.element&&At(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},Q(Z,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:s,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:He,Input:_e,TouchAction:Re,TouchInput:A,MouseInput:i,PointerEventInput:g,TouchMouseInput:b,SingleTouchInput:w,Recognizer:c,AttrRecognizer:f,Tap:L,Pan:v,Swipe:C,Pinch:_,Rotate:k,Press:P,on:he,off:dt,each:Pe,merge:It,extend:Nt,assign:Q,inherit:ge,bindFn:_t,prefixed:Fe}),(void 0!==ye?ye:"undefined"!=typeof self?self:{}).Hammer=Z,(Ue=function(){return Z}.call(ve,Ze,ve,ne))!==ce&&(ne.exports=Ue)}(window,document)},7277:()=>{"use strict";!function(i){const u=i.performance;function p(U){u&&u.mark&&u.mark(U)}function h(U,N){u&&u.measure&&u.measure(U,N)}p("Zone");const m=i.__Zone_symbol_prefix||"__zone_symbol__";function g(U){return m+U}const y=!0===i[g("forceDuplicateZoneCheck")];if(i.Zone){if(y||"function"!=typeof i.Zone.__symbol__)throw new Error("Zone already loaded.");return i.Zone}let O=(()=>{class U{constructor(o,t){this._parent=o,this._name=t?t.name||"unnamed":"<root>",this._properties=t&&t.properties||{},this._zoneDelegate=new w(this,this._parent&&this._parent._zoneDelegate,t)}static assertZonePatched(){if(i.Promise!==de.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let o=U.current;for(;o.parent;)o=o.parent;return o}static get current(){return $.zone}static get currentTask(){return we}static __load_patch(o,t,s=!1){if(de.hasOwnProperty(o)){if(!s&&y)throw Error("Already loaded patch: "+o)}else if(!i["__Zone_disable_"+o]){const c="Zone:"+o;p(c),de[o]=t(i,U,Re),h(c,c)}}get parent(){return this._parent}get name(){return this._name}get(o){const t=this.getZoneWith(o);if(t)return t._properties[o]}getZoneWith(o){let t=this;for(;t;){if(t._properties.hasOwnProperty(o))return t;t=t._parent}return null}fork(o){if(!o)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,o)}wrap(o,t){if("function"!=typeof o)throw new Error("Expecting function got: "+o);const s=this._zoneDelegate.intercept(this,o,t),c=this;return function(){return c.runGuarded(s,this,arguments,t)}}run(o,t,s,c){$={parent:$,zone:this};try{return this._zoneDelegate.invoke(this,o,t,s,c)}finally{$=$.parent}}runGuarded(o,t=null,s,c){$={parent:$,zone:this};try{try{return this._zoneDelegate.invoke(this,o,t,s,c)}catch(T){if(this._zoneDelegate.handleError(this,T))throw T}}finally{$=$.parent}}runTask(o,t,s){if(o.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(o.zone||J).name+"; Execution: "+this.name+")");if(o.state===K&&(o.type===H||o.type===j))return;const c=o.state!=le;c&&o._transitionTo(le,F),o.runCount++;const T=we;we=o,$={parent:$,zone:this};try{o.type==j&&o.data&&!o.data.isPeriodic&&(o.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,o,t,s)}catch(l){if(this._zoneDelegate.handleError(this,l))throw l}}finally{o.state!==K&&o.state!==se&&(o.type==H||o.data&&o.data.isPeriodic?c&&o._transitionTo(F,le):(o.runCount=0,this._updateTaskCount(o,-1),c&&o._transitionTo(K,le,K))),$=$.parent,we=T}}scheduleTask(o){if(o.zone&&o.zone!==this){let s=this;for(;s;){if(s===o.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${o.zone.name}`);s=s.parent}}o._transitionTo(ie,K);const t=[];o._zoneDelegates=t,o._zone=this;try{o=this._zoneDelegate.scheduleTask(this,o)}catch(s){throw o._transitionTo(se,ie,K),this._zoneDelegate.handleError(this,s),s}return o._zoneDelegates===t&&this._updateTaskCount(o,1),o.state==ie&&o._transitionTo(F,ie),o}scheduleMicroTask(o,t,s,c){return this.scheduleTask(new D(S,o,t,s,c,void 0))}scheduleMacroTask(o,t,s,c,T){return this.scheduleTask(new D(j,o,t,s,c,T))}scheduleEventTask(o,t,s,c,T){return this.scheduleTask(new D(H,o,t,s,c,T))}cancelTask(o){if(o.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(o.zone||J).name+"; Execution: "+this.name+")");o._transitionTo(B,F,le);try{this._zoneDelegate.cancelTask(this,o)}catch(t){throw o._transitionTo(se,B),this._zoneDelegate.handleError(this,t),t}return this._updateTaskCount(o,-1),o._transitionTo(K,B),o.runCount=0,o}_updateTaskCount(o,t){const s=o._zoneDelegates;-1==t&&(o._zoneDelegates=null);for(let c=0;c<s.length;c++)s[c]._updateTaskCount(o.type,t)}}return U.__symbol__=g,U})();const R={name:"",onHasTask:(U,N,o,t)=>U.hasTask(o,t),onScheduleTask:(U,N,o,t)=>U.scheduleTask(o,t),onInvokeTask:(U,N,o,t,s,c)=>U.invokeTask(o,t,s,c),onCancelTask:(U,N,o,t)=>U.cancelTask(o,t)};class w{constructor(N,o,t){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=N,this._parentDelegate=o,this._forkZS=t&&(t&&t.onFork?t:o._forkZS),this._forkDlgt=t&&(t.onFork?o:o._forkDlgt),this._forkCurrZone=t&&(t.onFork?this.zone:o._forkCurrZone),this._interceptZS=t&&(t.onIntercept?t:o._interceptZS),this._interceptDlgt=t&&(t.onIntercept?o:o._interceptDlgt),this._interceptCurrZone=t&&(t.onIntercept?this.zone:o._interceptCurrZone),this._invokeZS=t&&(t.onInvoke?t:o._invokeZS),this._invokeDlgt=t&&(t.onInvoke?o:o._invokeDlgt),this._invokeCurrZone=t&&(t.onInvoke?this.zone:o._invokeCurrZone),this._handleErrorZS=t&&(t.onHandleError?t:o._handleErrorZS),this._handleErrorDlgt=t&&(t.onHandleError?o:o._handleErrorDlgt),this._handleErrorCurrZone=t&&(t.onHandleError?this.zone:o._handleErrorCurrZone),this._scheduleTaskZS=t&&(t.onScheduleTask?t:o._scheduleTaskZS),this._scheduleTaskDlgt=t&&(t.onScheduleTask?o:o._scheduleTaskDlgt),this._scheduleTaskCurrZone=t&&(t.onScheduleTask?this.zone:o._scheduleTaskCurrZone),this._invokeTaskZS=t&&(t.onInvokeTask?t:o._invokeTaskZS),this._invokeTaskDlgt=t&&(t.onInvokeTask?o:o._invokeTaskDlgt),this._invokeTaskCurrZone=t&&(t.onInvokeTask?this.zone:o._invokeTaskCurrZone),this._cancelTaskZS=t&&(t.onCancelTask?t:o._cancelTaskZS),this._cancelTaskDlgt=t&&(t.onCancelTask?o:o._cancelTaskDlgt),this._cancelTaskCurrZone=t&&(t.onCancelTask?this.zone:o._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const s=t&&t.onHasTask;(s||o&&o._hasTaskZS)&&(this._hasTaskZS=s?t:R,this._hasTaskDlgt=o,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=N,t.onScheduleTask||(this._scheduleTaskZS=R,this._scheduleTaskDlgt=o,this._scheduleTaskCurrZone=this.zone),t.onInvokeTask||(this._invokeTaskZS=R,this._invokeTaskDlgt=o,this._invokeTaskCurrZone=this.zone),t.onCancelTask||(this._cancelTaskZS=R,this._cancelTaskDlgt=o,this._cancelTaskCurrZone=this.zone))}fork(N,o){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,N,o):new O(N,o)}intercept(N,o,t){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,N,o,t):o}invoke(N,o,t,s,c){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,N,o,t,s,c):o.apply(t,s)}handleError(N,o){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,N,o)}scheduleTask(N,o){let t=o;if(this._scheduleTaskZS)this._hasTaskZS&&t._zoneDelegates.push(this._hasTaskDlgtOwner),t=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,N,o),t||(t=o);else if(o.scheduleFn)o.scheduleFn(o);else{if(o.type!=S)throw new Error("Task is missing scheduleFn.");b(o)}return t}invokeTask(N,o,t,s){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,N,o,t,s):o.callback.apply(t,s)}cancelTask(N,o){let t;if(this._cancelTaskZS)t=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,N,o);else{if(!o.cancelFn)throw Error("Task is not cancelable");t=o.cancelFn(o)}return t}hasTask(N,o){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,N,o)}catch(t){this.handleError(N,t)}}_updateTaskCount(N,o){const t=this._taskCounts,s=t[N],c=t[N]=s+o;if(c<0)throw new Error("More tasks executed then were scheduled.");0!=s&&0!=c||this.hasTask(this.zone,{microTask:t.microTask>0,macroTask:t.macroTask>0,eventTask:t.eventTask>0,change:N})}}class D{constructor(N,o,t,s,c,T){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=N,this.source=o,this.data=s,this.scheduleFn=c,this.cancelFn=T,!t)throw new Error("callback is not defined");this.callback=t;const l=this;this.invoke=N===H&&s&&s.useG?D.invokeTask:function(){return D.invokeTask.call(i,l,this,arguments)}}static invokeTask(N,o,t){N||(N=this),Ce++;try{return N.runCount++,N.zone.runTask(N,o,t)}finally{1==Ce&&q(),Ce--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(K,ie)}_transitionTo(N,o,t){if(this._state!==o&&this._state!==t)throw new Error(`${this.type} '${this.source}': can not transition to '${N}', expecting state '${o}'${t?" or '"+t+"'":""}, was '${this._state}'.`);this._state=N,N==K&&(this._zoneDelegates=null)}toString(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const x=g("setTimeout"),V=g("Promise"),A=g("then");let I,ee=[],z=!1;function b(U){if(0===Ce&&0===ee.length)if(I||i[V]&&(I=i[V].resolve(0)),I){let N=I[A];N||(N=I.then),N.call(I,q)}else i[x](q,0);U&&ee.push(U)}function q(){if(!z){for(z=!0;ee.length;){const U=ee;ee=[];for(let N=0;N<U.length;N++){const o=U[N];try{o.zone.runTask(o,null,null)}catch(t){Re.onUnhandledError(t)}}}Re.microtaskDrainDone(),z=!1}}const J={name:"NO ZONE"},K="notScheduled",ie="scheduling",F="scheduled",le="running",B="canceling",se="unknown",S="microTask",j="macroTask",H="eventTask",de={},Re={symbol:g,currentZoneFrame:()=>$,onUnhandledError:W,microtaskDrainDone:W,scheduleMicroTask:b,showUncaughtError:()=>!O[g("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:W,patchMethod:()=>W,bindArguments:()=>[],patchThen:()=>W,patchMacroTask:()=>W,patchEventPrototype:()=>W,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>W,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>W,wrapWithCurrentZone:()=>W,filterProperties:()=>[],attachOriginToPatched:()=>W,_redefineProperty:()=>W,patchCallbacks:()=>W};let $={parent:null,zone:new O(null,null)},we=null,Ce=0;function W(){}h("Zone","Zone"),i.Zone=O}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||global);const ve=Object.getOwnPropertyDescriptor,Ze=Object.defineProperty,Ue=Object.getPrototypeOf,ye=Object.create,ht=Array.prototype.slice,vt="addEventListener",ce="removeEventListener",ft=Zone.__symbol__(vt),Mt=Zone.__symbol__(ce),xe="true",Me="false",De=Zone.__symbol__("");function it(i,u){return Zone.current.wrap(i,u)}function gt(i,u,p,h,m){return Zone.current.scheduleMacroTask(i,u,p,h,m)}const Y=Zone.__symbol__,Pe="undefined"!=typeof window,je=Pe?window:void 0,Q=Pe&&je||"object"==typeof self&&self||global,It=[null];function ge(i,u){for(let p=i.length-1;p>=0;p--)"function"==typeof i[p]&&(i[p]=it(i[p],u+"_"+p));return i}function yt(i){return!i||!1!==i.writable&&!("function"==typeof i.get&&void 0===i.set)}const G="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,he=!("nw"in Q)&&void 0!==Q.process&&"[object process]"==={}.toString.call(Q.process),dt=!he&&!G&&!(!Pe||!je.HTMLElement),pt=void 0!==Q.process&&"[object process]"==={}.toString.call(Q.process)&&!G&&!(!Pe||!je.HTMLElement),Se={},et=function(i){if(!(i=i||Q.event))return;let u=Se[i.type];u||(u=Se[i.type]=Y("ON_PROPERTY"+i.type));const p=this||i.target||Q,h=p[u];let m;if(dt&&p===je&&"error"===i.type){const g=i;m=h&&h.call(this,g.message,g.filename,g.lineno,g.colno,g.error),!0===m&&i.preventDefault()}else m=h&&h.apply(this,arguments),null!=m&&!m&&i.preventDefault();return m};function ze(i,u,p){let h=ve(i,u);if(!h&&p&&ve(p,u)&&(h={enumerable:!0,configurable:!0}),!h||!h.configurable)return;const m=Y("on"+u+"patched");if(i.hasOwnProperty(m)&&i[m])return;delete h.writable,delete h.value;const g=h.get,y=h.set,O=u.substr(2);let R=Se[O];R||(R=Se[O]=Y("ON_PROPERTY"+O)),h.set=function(w){let D=this;!D&&i===Q&&(D=Q),D&&(D[R]&&D.removeEventListener(O,et),y&&y.apply(D,It),"function"==typeof w?(D[R]=w,D.addEventListener(O,et,!1)):D[R]=null)},h.get=function(){let w=this;if(!w&&i===Q&&(w=Q),!w)return null;const D=w[R];if(D)return D;if(g){let x=g&&g.call(this);if(x)return h.set.call(this,x),"function"==typeof w.removeAttribute&&w.removeAttribute(u),x}return null},Ze(i,u,h),i[m]=!0}function tt(i,u,p){if(u)for(let h=0;h<u.length;h++)ze(i,"on"+u[h],p);else{const h=[];for(const m in i)"on"==m.substr(0,2)&&h.push(m);for(let m=0;m<h.length;m++)ze(i,h[m],p)}}const Ne=Y("originalInstance");function Fe(i){const u=Q[i];if(!u)return;Q[Y(i)]=u,Q[i]=function(){const m=ge(arguments,i);switch(m.length){case 0:this[Ne]=new u;break;case 1:this[Ne]=new u(m[0]);break;case 2:this[Ne]=new u(m[0],m[1]);break;case 3:this[Ne]=new u(m[0],m[1],m[2]);break;case 4:this[Ne]=new u(m[0],m[1],m[2],m[3]);break;default:throw new Error("Arg list too long.")}},be(Q[i],u);const p=new u(function(){});let h;for(h in p)"XMLHttpRequest"===i&&"responseBlob"===h||function(m){"function"==typeof p[m]?Q[i].prototype[m]=function(){return this[Ne][m].apply(this[Ne],arguments)}:Ze(Q[i].prototype,m,{set:function(g){"function"==typeof g?(this[Ne][m]=it(g,i+"."+m),be(this[Ne][m],g)):this[Ne][m]=g},get:function(){return this[Ne][m]}})}(h);for(h in u)"prototype"!==h&&u.hasOwnProperty(h)&&(Q[i][h]=u[h])}function Le(i,u,p){let h=i;for(;h&&!h.hasOwnProperty(u);)h=Ue(h);!h&&i[u]&&(h=i);const m=Y(u);let g=null;if(h&&(!(g=h[m])||!h.hasOwnProperty(m))&&(g=h[m]=h[u],yt(h&&ve(h,u)))){const O=p(g,m,u);h[u]=function(){return O(this,arguments)},be(h[u],g)}return g}function nt(i,u,p){let h=null;function m(g){const y=g.data;return y.args[y.cbIdx]=function(){g.invoke.apply(this,arguments)},h.apply(y.target,y.args),g}h=Le(i,u,g=>function(y,O){const R=p(y,O);return R.cbIdx>=0&&"function"==typeof O[R.cbIdx]?gt(R.name,O[R.cbIdx],R,m):g.apply(y,O)})}function be(i,u){i[Y("OriginalDelegate")]=u}let Ot=!1,Ae=!1;function $e(){if(Ot)return Ae;Ot=!0;try{const i=je.navigator.userAgent;(-1!==i.indexOf("MSIE ")||-1!==i.indexOf("Trident/")||-1!==i.indexOf("Edge/"))&&(Ae=!0)}catch(i){}return Ae}Zone.__load_patch("ZoneAwarePromise",(i,u,p)=>{const h=Object.getOwnPropertyDescriptor,m=Object.defineProperty,y=p.symbol,O=[],R=!0===i[y("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],w=y("Promise"),D=y("then");p.onUnhandledError=l=>{if(p.showUncaughtError()){const a=l&&l.rejection;a?console.error("Unhandled Promise rejection:",a instanceof Error?a.message:a,"; Zone:",l.zone.name,"; Task:",l.task&&l.task.source,"; Value:",a,a instanceof Error?a.stack:void 0):console.error(l)}},p.microtaskDrainDone=()=>{for(;O.length;){const l=O.shift();try{l.zone.runGuarded(()=>{throw l.throwOriginal?l.rejection:l})}catch(a){A(a)}}};const V=y("unhandledPromiseRejectionHandler");function A(l){p.onUnhandledError(l);try{const a=u[V];"function"==typeof a&&a.call(this,l)}catch(a){}}function ee(l){return l&&l.then}function z(l){return l}function I(l){return o.reject(l)}const b=y("state"),q=y("value"),J=y("finally"),K=y("parentPromiseValue"),ie=y("parentPromiseState"),le=null,B=!0,se=!1;function j(l,a){return f=>{try{$(l,a,f)}catch(v){$(l,!1,v)}}}const Re=y("currentTaskTrace");function $(l,a,f){const v=function(){let l=!1;return function(f){return function(){l||(l=!0,f.apply(null,arguments))}}}();if(l===f)throw new TypeError("Promise resolved with itself");if(l[b]===le){let _=null;try{("object"==typeof f||"function"==typeof f)&&(_=f&&f.then)}catch(P){return v(()=>{$(l,!1,P)})(),l}if(a!==se&&f instanceof o&&f.hasOwnProperty(b)&&f.hasOwnProperty(q)&&f[b]!==le)Ce(f),$(l,f[b],f[q]);else if(a!==se&&"function"==typeof _)try{_.call(f,v(j(l,a)),v(j(l,!1)))}catch(P){v(()=>{$(l,!1,P)})()}else{l[b]=a;const P=l[q];if(l[q]=f,l[J]===J&&a===B&&(l[b]=l[ie],l[q]=l[K]),a===se&&f instanceof Error){const k=u.currentTask&&u.currentTask.data&&u.currentTask.data.__creationTrace__;k&&m(f,Re,{configurable:!0,enumerable:!1,writable:!0,value:k})}for(let k=0;k<P.length;)W(l,P[k++],P[k++],P[k++],P[k++]);if(0==P.length&&a==se){l[b]=0;let k=f;try{throw new Error("Uncaught (in promise): "+function(l){return l&&l.toString===Object.prototype.toString?(l.constructor&&l.constructor.name||"")+": "+JSON.stringify(l):l?l.toString():Object.prototype.toString.call(l)}(f)+(f&&f.stack?"\n"+f.stack:""))}catch(C){k=C}R&&(k.throwOriginal=!0),k.rejection=f,k.promise=l,k.zone=u.current,k.task=u.currentTask,O.push(k),p.scheduleMicroTask()}}}return l}const we=y("rejectionHandledHandler");function Ce(l){if(0===l[b]){try{const a=u[we];a&&"function"==typeof a&&a.call(this,{rejection:l[q],promise:l})}catch(a){}l[b]=se;for(let a=0;a<O.length;a++)l===O[a].promise&&O.splice(a,1)}}function W(l,a,f,v,_){Ce(l);const P=l[b],k=P?"function"==typeof v?v:z:"function"==typeof _?_:I;a.scheduleMicroTask("Promise.then",()=>{try{const C=l[q],L=!!f&&J===f[J];L&&(f[K]=C,f[ie]=P);const Z=a.run(k,void 0,L&&k!==I&&k!==z?[]:[C]);$(f,!0,Z)}catch(C){$(f,!1,C)}},f)}const N=function(){};class o{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(a){return $(new this(null),B,a)}static reject(a){return $(new this(null),se,a)}static race(a){let f,v,_=new this((C,L)=>{f=C,v=L});function P(C){f(C)}function k(C){v(C)}for(let C of a)ee(C)||(C=this.resolve(C)),C.then(P,k);return _}static all(a){return o.allWithCallback(a)}static allSettled(a){return(this&&this.prototype instanceof o?this:o).allWithCallback(a,{thenCallback:v=>({status:"fulfilled",value:v}),errorCallback:v=>({status:"rejected",reason:v})})}static allWithCallback(a,f){let v,_,P=new this((Z,te)=>{v=Z,_=te}),k=2,C=0;const L=[];for(let Z of a){ee(Z)||(Z=this.resolve(Z));const te=C;try{Z.then(pe=>{L[te]=f?f.thenCallback(pe):pe,k--,0===k&&v(L)},pe=>{f?(L[te]=f.errorCallback(pe),k--,0===k&&v(L)):_(pe)})}catch(pe){_(pe)}k++,C++}return k-=2,0===k&&v(L),P}constructor(a){const f=this;if(!(f instanceof o))throw new Error("Must be an instanceof Promise.");f[b]=le,f[q]=[];try{a&&a(j(f,B),j(f,se))}catch(v){$(f,!1,v)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return o}then(a,f){let v=this.constructor[Symbol.species];(!v||"function"!=typeof v)&&(v=this.constructor||o);const _=new v(N),P=u.current;return this[b]==le?this[q].push(P,_,a,f):W(this,P,_,a,f),_}catch(a){return this.then(null,a)}finally(a){let f=this.constructor[Symbol.species];(!f||"function"!=typeof f)&&(f=o);const v=new f(N);v[J]=J;const _=u.current;return this[b]==le?this[q].push(_,v,a,a):W(this,_,v,a,a),v}}o.resolve=o.resolve,o.reject=o.reject,o.race=o.race,o.all=o.all;const t=i[w]=i.Promise;i.Promise=o;const s=y("thenPatched");function c(l){const a=l.prototype,f=h(a,"then");if(f&&(!1===f.writable||!f.configurable))return;const v=a.then;a[D]=v,l.prototype.then=function(_,P){return new o((C,L)=>{v.call(this,C,L)}).then(_,P)},l[s]=!0}return p.patchThen=c,t&&(c(t),Le(i,"fetch",l=>function(l){return function(a,f){let v=l.apply(a,f);if(v instanceof o)return v;let _=v.constructor;return _[s]||c(_),v}}(l))),Promise[u.__symbol__("uncaughtPromiseErrors")]=O,o}),Zone.__load_patch("toString",i=>{const u=Function.prototype.toString,p=Y("OriginalDelegate"),h=Y("Promise"),m=Y("Error"),g=function(){if("function"==typeof this){const w=this[p];if(w)return"function"==typeof w?u.call(w):Object.prototype.toString.call(w);if(this===Promise){const D=i[h];if(D)return u.call(D)}if(this===Error){const D=i[m];if(D)return u.call(D)}}return u.call(this)};g[p]=u,Function.prototype.toString=g;const y=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":y.call(this)}});let Ee=!1;if("undefined"!=typeof window)try{const i=Object.defineProperty({},"passive",{get:function(){Ee=!0}});window.addEventListener("test",i,i),window.removeEventListener("test",i,i)}catch(i){Ee=!1}const We={useG:!0},fe={},Xe={},wt=new RegExp("^"+De+"(\\w+)(true|false)$"),Te=Y("propagationStopped");function Ke(i,u){const p=(u?u(i):i)+Me,h=(u?u(i):i)+xe,m=De+p,g=De+h;fe[i]={},fe[i][Me]=m,fe[i][xe]=g}function oe(i,u,p){const h=p&&p.add||vt,m=p&&p.rm||ce,g=p&&p.listeners||"eventListeners",y=p&&p.rmAll||"removeAllListeners",O=Y(h),R="."+h+":",x=function(I,b,q){if(I.isRemoved)return;const J=I.callback;"object"==typeof J&&J.handleEvent&&(I.callback=ie=>J.handleEvent(ie),I.originalDelegate=J),I.invoke(I,b,[q]);const K=I.options;K&&"object"==typeof K&&K.once&&b[m].call(b,q.type,I.originalDelegate?I.originalDelegate:I.callback,K)},V=function(I){if(!(I=I||i.event))return;const b=this||I.target||i,q=b[fe[I.type][Me]];if(q)if(1===q.length)x(q[0],b,I);else{const J=q.slice();for(let K=0;K<J.length&&(!I||!0!==I[Te]);K++)x(J[K],b,I)}},A=function(I){if(!(I=I||i.event))return;const b=this||I.target||i,q=b[fe[I.type][xe]];if(q)if(1===q.length)x(q[0],b,I);else{const J=q.slice();for(let K=0;K<J.length&&(!I||!0!==I[Te]);K++)x(J[K],b,I)}};function ee(I,b){if(!I)return!1;let q=!0;b&&void 0!==b.useG&&(q=b.useG);const J=b&&b.vh;let K=!0;b&&void 0!==b.chkDup&&(K=b.chkDup);let ie=!1;b&&void 0!==b.rt&&(ie=b.rt);let F=I;for(;F&&!F.hasOwnProperty(h);)F=Ue(F);if(!F&&I[h]&&(F=I),!F||F[O])return!1;const le=b&&b.eventNameToString,B={},se=F[O]=F[h],S=F[Y(m)]=F[m],j=F[Y(g)]=F[g],H=F[Y(y)]=F[y];let de;function Re(a,f){return!Ee&&"object"==typeof a&&a?!!a.capture:Ee&&f?"boolean"==typeof a?{capture:a,passive:!0}:a?"object"==typeof a&&!1!==a.passive?Object.assign(Object.assign({},a),{passive:!0}):a:{passive:!0}:a}b&&b.prepend&&(de=F[Y(b.prepend)]=F[b.prepend]);const N=q?function(a){if(!B.isExisting)return se.call(B.target,B.eventName,B.capture?A:V,B.options)}:function(a){return se.call(B.target,B.eventName,a.invoke,B.options)},o=q?function(a){if(!a.isRemoved){const f=fe[a.eventName];let v;f&&(v=f[a.capture?xe:Me]);const _=v&&a.target[v];if(_)for(let P=0;P<_.length;P++)if(_[P]===a){_.splice(P,1),a.isRemoved=!0,0===_.length&&(a.allRemoved=!0,a.target[v]=null);break}}if(a.allRemoved)return S.call(a.target,a.eventName,a.capture?A:V,a.options)}:function(a){return S.call(a.target,a.eventName,a.invoke,a.options)},s=b&&b.diff?b.diff:function(a,f){const v=typeof f;return"function"===v&&a.callback===f||"object"===v&&a.originalDelegate===f},c=Zone[Y("UNPATCHED_EVENTS")],T=i[Y("PASSIVE_EVENTS")],l=function(a,f,v,_,P=!1,k=!1){return function(){const C=this||i;let L=arguments[0];b&&b.transferEventName&&(L=b.transferEventName(L));let Z=arguments[1];if(!Z)return a.apply(this,arguments);if(he&&"uncaughtException"===L)return a.apply(this,arguments);let te=!1;if("function"!=typeof Z){if(!Z.handleEvent)return a.apply(this,arguments);te=!0}if(J&&!J(a,Z,C,arguments))return;const pe=Ee&&!!T&&-1!==T.indexOf(L),He=Re(arguments[2],pe);if(c)for(let me=0;me<c.length;me++)if(L===c[me])return pe?a.call(C,L,Z,He):a.apply(this,arguments);const At=!!He&&("boolean"==typeof He||He.capture),Ht=!(!He||"object"!=typeof He)&&He.once,Zt=Zone.current;let e=fe[L];e||(Ke(L,le),e=fe[L]);const n=e[At?xe:Me];let E,r=C[n],d=!1;if(r){if(d=!0,K)for(let me=0;me<r.length;me++)if(s(r[me],Z))return}else r=C[n]=[];const M=C.constructor.name,X=Xe[M];X&&(E=X[L]),E||(E=M+f+(le?le(L):L)),B.options=He,Ht&&(B.options.once=!1),B.target=C,B.capture=At,B.eventName=L,B.isExisting=d;const ue=q?We:void 0;ue&&(ue.taskData=B);const ae=Zt.scheduleEventTask(E,Z,ue,v,_);return B.target=null,ue&&(ue.taskData=null),Ht&&(He.once=!0),!Ee&&"boolean"==typeof ae.options||(ae.options=He),ae.target=C,ae.capture=At,ae.eventName=L,te&&(ae.originalDelegate=Z),k?r.unshift(ae):r.push(ae),P?C:void 0}};return F[h]=l(se,R,N,o,ie),de&&(F.prependListener=l(de,".prependListener:",function(a){return de.call(B.target,B.eventName,a.invoke,B.options)},o,ie,!0)),F[m]=function(){const a=this||i;let f=arguments[0];b&&b.transferEventName&&(f=b.transferEventName(f));const v=arguments[2],_=!!v&&("boolean"==typeof v||v.capture),P=arguments[1];if(!P)return S.apply(this,arguments);if(J&&!J(S,P,a,arguments))return;const k=fe[f];let C;k&&(C=k[_?xe:Me]);const L=C&&a[C];if(L)for(let Z=0;Z<L.length;Z++){const te=L[Z];if(s(te,P))return L.splice(Z,1),te.isRemoved=!0,0===L.length&&(te.allRemoved=!0,a[C]=null,"string"==typeof f)&&(a[De+"ON_PROPERTY"+f]=null),te.zone.cancelTask(te),ie?a:void 0}return S.apply(this,arguments)},F[g]=function(){const a=this||i;let f=arguments[0];b&&b.transferEventName&&(f=b.transferEventName(f));const v=[],_=ke(a,le?le(f):f);for(let P=0;P<_.length;P++){const k=_[P];v.push(k.originalDelegate?k.originalDelegate:k.callback)}return v},F[y]=function(){const a=this||i;let f=arguments[0];if(f){b&&b.transferEventName&&(f=b.transferEventName(f));const v=fe[f];if(v){const k=a[v[Me]],C=a[v[xe]];if(k){const L=k.slice();for(let Z=0;Z<L.length;Z++){const te=L[Z];this[m].call(this,f,te.originalDelegate?te.originalDelegate:te.callback,te.options)}}if(C){const L=C.slice();for(let Z=0;Z<L.length;Z++){const te=L[Z];this[m].call(this,f,te.originalDelegate?te.originalDelegate:te.callback,te.options)}}}}else{const v=Object.keys(a);for(let _=0;_<v.length;_++){const k=wt.exec(v[_]);let C=k&&k[1];C&&"removeListener"!==C&&this[y].call(this,C)}this[y].call(this,"removeListener")}if(ie)return this},be(F[h],se),be(F[m],S),H&&be(F[y],H),j&&be(F[g],j),!0}let z=[];for(let I=0;I<u.length;I++)z[I]=ee(u[I],p);return z}function ke(i,u){if(!u){const g=[];for(let y in i){const O=wt.exec(y);let R=O&&O[1];if(R&&(!u||R===u)){const w=i[y];if(w)for(let D=0;D<w.length;D++)g.push(w[D])}}return g}let p=fe[u];p||(Ke(u),p=fe[u]);const h=i[p[Me]],m=i[p[xe]];return h?m?h.concat(m):h.slice():m?m.slice():[]}function st(i,u){const p=i.Event;p&&p.prototype&&u.patchMethod(p.prototype,"stopImmediatePropagation",h=>function(m,g){m[Te]=!0,h&&h.apply(m,g)})}function at(i,u,p,h,m){const g=Zone.__symbol__(h);if(u[g])return;const y=u[g]=u[h];u[h]=function(O,R,w){return R&&R.prototype&&m.forEach(function(D){const x=`${p}.${h}::`+D,V=R.prototype;if(V.hasOwnProperty(D)){const A=i.ObjectGetOwnPropertyDescriptor(V,D);A&&A.value?(A.value=i.wrapWithCurrentZone(A.value,x),i._redefineProperty(R.prototype,D,A)):V[D]&&(V[D]=i.wrapWithCurrentZone(V[D],x))}else V[D]&&(V[D]=i.wrapWithCurrentZone(V[D],x))}),y.call(u,O,R,w)},i.attachOriginToPatched(u[h],y)}const ct=["absolutedeviceorientation","afterinput","afterprint","appinstalled","beforeinstallprompt","beforeprint","beforeunload","devicelight","devicemotion","deviceorientation","deviceorientationabsolute","deviceproximity","hashchange","languagechange","message","mozbeforepaint","offline","online","paint","pageshow","pagehide","popstate","rejectionhandled","storage","unhandledrejection","unload","userproximity","vrdisplayconnected","vrdisplaydisconnected","vrdisplaypresentchange"],Ye=["encrypted","waitingforkey","msneedkey","mozinterruptbegin","mozinterruptend"],Ie=["load"],lt=["blur","error","focus","load","resize","scroll","messageerror"],qe=["bounce","finish","start"],Pt=["loadstart","progress","abort","error","load","progress","timeout","loadend","readystatechange"],rt=["upgradeneeded","complete","abort","success","error","blocked","versionchange","close"],bt=["close","error","open","message"],ot=["error","message"],Je=["abort","animationcancel","animationend","animationiteration","auxclick","beforeinput","blur","cancel","canplay","canplaythrough","change","compositionstart","compositionupdate","compositionend","cuechange","click","close","contextmenu","curechange","dblclick","drag","dragend","dragenter","dragexit","dragleave","dragover","drop","durationchange","emptied","ended","error","focus","focusin","focusout","gotpointercapture","input","invalid","keydown","keypress","keyup","load","loadstart","loadeddata","loadedmetadata","lostpointercapture","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","mousewheel","orientationchange","pause","play","playing","pointercancel","pointerdown","pointerenter","pointerleave","pointerlockchange","mozpointerlockchange","webkitpointerlockerchange","pointerlockerror","mozpointerlockerror","webkitpointerlockerror","pointermove","pointout","pointerover","pointerup","progress","ratechange","reset","resize","scroll","seeked","seeking","select","selectionchange","selectstart","show","sort","stalled","submit","suspend","timeupdate","volumechange","touchcancel","touchmove","touchstart","touchend","transitioncancel","transitionend","waiting","wheel"].concat(["webglcontextrestored","webglcontextlost","webglcontextcreationerror"],["autocomplete","autocompleteerror"],["toggle"],["afterscriptexecute","beforescriptexecute","DOMContentLoaded","freeze","fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange","fullscreenerror","mozfullscreenerror","webkitfullscreenerror","msfullscreenerror","readystatechange","visibilitychange","resume"],ct,["beforecopy","beforecut","beforepaste","copy","cut","paste","dragstart","loadend","animationstart","search","transitionrun","transitionstart","webkitanimationend","webkitanimationiteration","webkitanimationstart","webkittransitionend"],["activate","afterupdate","ariarequest","beforeactivate","beforedeactivate","beforeeditfocus","beforeupdate","cellchange","controlselect","dataavailable","datasetchanged","datasetcomplete","errorupdate","filterchange","layoutcomplete","losecapture","move","moveend","movestart","propertychange","resizeend","resizestart","rowenter","rowexit","rowsdelete","rowsinserted","command","compassneedscalibration","deactivate","help","mscontentzoom","msmanipulationstatechanged","msgesturechange","msgesturedoubletap","msgestureend","msgesturehold","msgesturestart","msgesturetap","msgotpointercapture","msinertiastart","mslostpointercapture","mspointercancel","mspointerdown","mspointerenter","mspointerhover","mspointerleave","mspointermove","mspointerout","mspointerover","mspointerup","pointerout","mssitemodejumplistitemremoved","msthumbnailclick","stop","storagecommit"]);function Tt(i,u,p){if(!p||0===p.length)return u;const h=p.filter(g=>g.target===i);if(!h||0===h.length)return u;const m=h[0].ignoreProperties;return u.filter(g=>-1===m.indexOf(g))}function re(i,u,p,h){i&&tt(i,Tt(i,u,p),h)}Zone.__load_patch("util",(i,u,p)=>{p.patchOnProperties=tt,p.patchMethod=Le,p.bindArguments=ge,p.patchMacroTask=nt;const h=u.__symbol__("BLACK_LISTED_EVENTS"),m=u.__symbol__("UNPATCHED_EVENTS");i[m]&&(i[h]=i[m]),i[h]&&(u[h]=u[m]=i[h]),p.patchEventPrototype=st,p.patchEventTarget=oe,p.isIEOrEdge=$e,p.ObjectDefineProperty=Ze,p.ObjectGetOwnPropertyDescriptor=ve,p.ObjectCreate=ye,p.ArraySlice=ht,p.patchClass=Fe,p.wrapWithCurrentZone=it,p.filterProperties=Tt,p.attachOriginToPatched=be,p._redefineProperty=Object.defineProperty,p.patchCallbacks=at,p.getGlobalObjects=()=>({globalSources:Xe,zoneSymbolEventNames:fe,eventNames:Je,isBrowser:dt,isMix:pt,isNode:he,TRUE_STR:xe,FALSE_STR:Me,ZONE_SYMBOL_PREFIX:De,ADD_EVENT_LISTENER_STR:vt,REMOVE_EVENT_LISTENER_STR:ce})});const kt=Y("zoneTask");function ut(i,u,p,h){let m=null,g=null;p+=h;const y={};function O(w){const D=w.data;return D.args[0]=function(){return w.invoke.apply(this,arguments)},D.handleId=m.apply(i,D.args),w}function R(w){return g.call(i,w.data.handleId)}m=Le(i,u+=h,w=>function(D,x){if("function"==typeof x[0]){const V={isPeriodic:"Interval"===h,delay:"Timeout"===h||"Interval"===h?x[1]||0:void 0,args:x},A=x[0];x[0]=function(){try{return A.apply(this,arguments)}finally{V.isPeriodic||("number"==typeof V.handleId?delete y[V.handleId]:V.handleId&&(V.handleId[kt]=null))}};const ee=gt(u,x[0],V,O,R);if(!ee)return ee;const z=ee.data.handleId;return"number"==typeof z?y[z]=ee:z&&(z[kt]=ee),z&&z.ref&&z.unref&&"function"==typeof z.ref&&"function"==typeof z.unref&&(ee.ref=z.ref.bind(z),ee.unref=z.unref.bind(z)),"number"==typeof z||z?z:ee}return w.apply(i,x)}),g=Le(i,p,w=>function(D,x){const V=x[0];let A;"number"==typeof V?A=y[V]:(A=V&&V[kt],A||(A=V)),A&&"string"==typeof A.type?"notScheduled"!==A.state&&(A.cancelFn&&A.data.isPeriodic||0===A.runCount)&&("number"==typeof V?delete y[V]:V&&(V[kt]=null),A.zone.cancelTask(A)):w.apply(i,x)})}Zone.__load_patch("legacy",i=>{const u=i[Zone.__symbol__("legacyPatch")];u&&u()}),Zone.__load_patch("queueMicrotask",(i,u,p)=>{p.patchMethod(i,"queueMicrotask",h=>function(m,g){u.current.scheduleMicroTask("queueMicrotask",g[0])})}),Zone.__load_patch("timers",i=>{const u="set",p="clear";ut(i,u,p,"Timeout"),ut(i,u,p,"Interval"),ut(i,u,p,"Immediate")}),Zone.__load_patch("requestAnimationFrame",i=>{ut(i,"request","cancel","AnimationFrame"),ut(i,"mozRequest","mozCancel","AnimationFrame"),ut(i,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(i,u)=>{const p=["alert","prompt","confirm"];for(let h=0;h<p.length;h++)Le(i,p[h],(g,y,O)=>function(R,w){return u.current.run(g,i,w,O)})}),Zone.__load_patch("EventTarget",(i,u,p)=>{(function(i,u){u.patchEventPrototype(i,u)})(i,p),function(i,u){if(Zone[u.symbol("patchEventTarget")])return;const{eventNames:p,zoneSymbolEventNames:h,TRUE_STR:m,FALSE_STR:g,ZONE_SYMBOL_PREFIX:y}=u.getGlobalObjects();for(let R=0;R<p.length;R++){const w=p[R],V=y+(w+g),A=y+(w+m);h[w]={},h[w][g]=V,h[w][m]=A}const O=i.EventTarget;O&&O.prototype&&u.patchEventTarget(i,[O&&O.prototype])}(i,p);const h=i.XMLHttpRequestEventTarget;h&&h.prototype&&p.patchEventTarget(i,[h.prototype])}),Zone.__load_patch("MutationObserver",(i,u,p)=>{Fe("MutationObserver"),Fe("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",(i,u,p)=>{Fe("IntersectionObserver")}),Zone.__load_patch("FileReader",(i,u,p)=>{Fe("FileReader")}),Zone.__load_patch("on_property",(i,u,p)=>{!function(i,u){if(he&&!pt||Zone[i.symbol("patchEvents")])return;const p="undefined"!=typeof WebSocket,h=u.__Zone_ignore_on_properties;if(dt){const y=window,O=function(){try{const i=je.navigator.userAgent;if(-1!==i.indexOf("MSIE ")||-1!==i.indexOf("Trident/"))return!0}catch(i){}return!1}()?[{target:y,ignoreProperties:["error"]}]:[];re(y,Je.concat(["messageerror"]),h&&h.concat(O),Ue(y)),re(Document.prototype,Je,h),void 0!==y.SVGElement&&re(y.SVGElement.prototype,Je,h),re(Element.prototype,Je,h),re(HTMLElement.prototype,Je,h),re(HTMLMediaElement.prototype,Ye,h),re(HTMLFrameSetElement.prototype,ct.concat(lt),h),re(HTMLBodyElement.prototype,ct.concat(lt),h),re(HTMLFrameElement.prototype,Ie,h),re(HTMLIFrameElement.prototype,Ie,h);const R=y.HTMLMarqueeElement;R&&re(R.prototype,qe,h);const w=y.Worker;w&&re(w.prototype,ot,h)}const m=u.XMLHttpRequest;m&&re(m.prototype,Pt,h);const g=u.XMLHttpRequestEventTarget;g&&re(g&&g.prototype,Pt,h),"undefined"!=typeof IDBIndex&&(re(IDBIndex.prototype,rt,h),re(IDBRequest.prototype,rt,h),re(IDBOpenDBRequest.prototype,rt,h),re(IDBDatabase.prototype,rt,h),re(IDBTransaction.prototype,rt,h),re(IDBCursor.prototype,rt,h)),p&&re(WebSocket.prototype,bt,h)}(p,i)}),Zone.__load_patch("customElements",(i,u,p)=>{!function(i,u){const{isBrowser:p,isMix:h}=u.getGlobalObjects();(p||h)&&i.customElements&&"customElements"in i&&u.patchCallbacks(u,i.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(i,p)}),Zone.__load_patch("XHR",(i,u)=>{!function(w){const D=w.XMLHttpRequest;if(!D)return;const x=D.prototype;let A=x[ft],ee=x[Mt];if(!A){const S=w.XMLHttpRequestEventTarget;if(S){const j=S.prototype;A=j[ft],ee=j[Mt]}}const z="readystatechange",I="scheduled";function b(S){const j=S.data,H=j.target;H[g]=!1,H[O]=!1;const de=H[m];A||(A=H[ft],ee=H[Mt]),de&&ee.call(H,z,de);const Re=H[m]=()=>{if(H.readyState===H.DONE)if(!j.aborted&&H[g]&&S.state===I){const we=H[u.__symbol__("loadfalse")];if(0!==H.status&&we&&we.length>0){const Ce=S.invoke;S.invoke=function(){const W=H[u.__symbol__("loadfalse")];for(let U=0;U<W.length;U++)W[U]===S&&W.splice(U,1);!j.aborted&&S.state===I&&Ce.call(S)},we.push(S)}else S.invoke()}else!j.aborted&&!1===H[g]&&(H[O]=!0)};return A.call(H,z,Re),H[p]||(H[p]=S),B.apply(H,j.args),H[g]=!0,S}function q(){}function J(S){const j=S.data;return j.aborted=!0,se.apply(j.target,j.args)}const K=Le(x,"open",()=>function(S,j){return S[h]=0==j[2],S[y]=j[1],K.apply(S,j)}),F=Y("fetchTaskAborting"),le=Y("fetchTaskScheduling"),B=Le(x,"send",()=>function(S,j){if(!0===u.current[le]||S[h])return B.apply(S,j);{const H={target:S,url:S[y],isPeriodic:!1,args:j,aborted:!1},de=gt("XMLHttpRequest.send",q,H,b,J);S&&!0===S[O]&&!H.aborted&&de.state===I&&de.invoke()}}),se=Le(x,"abort",()=>function(S,j){const H=function(S){return S[p]}(S);if(H&&"string"==typeof H.type){if(null==H.cancelFn||H.data&&H.data.aborted)return;H.zone.cancelTask(H)}else if(!0===u.current[F])return se.apply(S,j)})}(i);const p=Y("xhrTask"),h=Y("xhrSync"),m=Y("xhrListener"),g=Y("xhrScheduled"),y=Y("xhrURL"),O=Y("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",i=>{i.navigator&&i.navigator.geolocation&&function(i,u){const p=i.constructor.name;for(let h=0;h<u.length;h++){const m=u[h],g=i[m];if(g){if(!yt(ve(i,m)))continue;i[m]=(O=>{const R=function(){return O.apply(this,ge(arguments,p+"."+m))};return be(R,O),R})(g)}}}(i.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(i,u)=>{function p(h){return function(m){ke(i,h).forEach(y=>{const O=i.PromiseRejectionEvent;if(O){const R=new O(h,{promise:m.promise,reason:m.rejection});y.invoke(R)}})}}i.PromiseRejectionEvent&&(u[Y("unhandledPromiseRejectionHandler")]=p("unhandledrejection"),u[Y("rejectionHandledHandler")]=p("rejectionhandled"))})},7435:(ne,ve,Ze)=>{"use strict";Ze(7277),Ze(142),Ze(1524)}},ne=>{ne(ne.s=7435)}]);
var Email={send:function(t){return new Promise(function(e,n){t.nocache=Math.floor(1e6*Math.random()+1),t.Action="Send";var o=JSON.stringify(t);Email.ajaxPost("https://smtpjs.com/v3/smtpjs.aspx?",o,function(t){e(t)})})},ajaxPost:function(t,e,n){var o=Email.createCORSRequest("POST",t);o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.onload=function(){var t=o.responseText;null!=n&&n(t)},o.send(e)},ajax:function(t,e){var n=Email.createCORSRequest("GET",t);n.onload=function(){var t=n.responseText;null!=e&&e(t)},n.send()},createCORSRequest:function(t,e){var n=new XMLHttpRequest;return"withCredentials"in n?n.open(t,e,!0):"undefined"!=typeof XDomainRequest?(n=new XDomainRequest).open(t,e):n=null,n}},scriptUrl="http://www.youtube.com/s/player/d33d444d/www-widgetapi.vflset/www-widgetapi.js";try{var ttPolicy=window.trustedTypes.createPolicy("youtube-widget-api",{createScriptURL:function(t){return t}});scriptUrl=ttPolicy.createScriptURL(scriptUrl)}catch(t){}if(!window.YT)var YT={loading:0,loaded:0};if(!window.YTConfig)var YTConfig={host:"https://www.youtube.com"};YT.loading||(YT.loading=1,function(){var t=[];YT.ready=function(e){YT.loaded?e():t.push(e)},window.onYTReady=function(){YT.loaded=1;for(var e=0;e<t.length;e++)try{t[e]()}catch(t){}},YT.setConfig=function(t){for(var e in t)t.hasOwnProperty(e)&&(YTConfig[e]=t[e])};var e=document.createElement("script");e.type="text/javascript",e.id="www-widgetapi-script",e.src=scriptUrl,e.async=!0;var n=document.currentScript;if(n){var o=n.nonce||n.getAttribute("nonce");o&&e.setAttribute("nonce",o)}var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(e,r)}());
(self.webpackChunkelements=self.webpackChunkelements||[]).push([[179],{8255:qe=>{function Ce(P){return Promise.resolve().then(()=>{var c=new Error("Cannot find module '"+P+"'");throw c.code="MODULE_NOT_FOUND",c})}Ce.keys=()=>[],Ce.resolve=Ce,Ce.id=8255,qe.exports=Ce},8720:(qe,Ce,P)=>{"use strict";P.d(Ce,{tb:()=>lb,AFp:()=>kI,ip1:()=>ab,CZH:()=>Ol,hGG:()=>Hh,z2F:()=>Bh,sBO:()=>R0,_Vd:()=>ac,EJc:()=>FI,SBq:()=>qs,qLn:()=>R,vpe:()=>Uo,L6J:()=>SI,gxx:()=>Al,tBr:()=>bu,OlP:()=>Dn,zs3:()=>_n,IIB:()=>xM,ZZ4:()=>hn,aQg:()=>ii,soG:()=>Pp,h0i:()=>Ia,PXZ:()=>zM,R0b:()=>mr,FiY:()=>gs,r_U:()=>IM,Lbi:()=>ri,g9A:()=>NM,Qsj:()=>I0,FYo:()=>lp,JOm:()=>So,Tiy:()=>oE,q3G:()=>ln,WD2:()=>nf,Rgc:()=>mh,dDg:()=>i_,q4F:()=>aE,GfV:()=>S0,i9L:()=>Rf,s_b:()=>_h,ifc:()=>Kt,eFA:()=>Ab,G48:()=>Up,Gpc:()=>X,f3M:()=>ud,X6Q:()=>$s,_c5:()=>yr,VLi:()=>Bp,c2e:()=>NI,zSh:()=>Vd,wAp:()=>ct,vHH:()=>Fe,EiD:()=>qf,mCW:()=>Mu,qzn:()=>ps,JVY:()=>UA,pB0:()=>HA,eBb:()=>cC,L6k:()=>GA,LAX:()=>dC,cg1:()=>rc,Tjo:()=>YI,kL8:()=>Kg,yhl:()=>ll,dqk:()=>At,sIi:()=>yl,CqO:()=>Ug,QGY:()=>Nm,F4k:()=>Jx,RDi:()=>lf,AaK:()=>Q,z3N:()=>Do,qOj:()=>Kv,TTD:()=>eu,_Bn:()=>ny,xp6:()=>Uu,uIk:()=>bm,ekj:()=>Po,Suo:()=>pI,Xpm:()=>On,lG2:()=>Ba,Yz7:()=>Jt,cJS:()=>Nr,oAB:()=>Jl,Yjl:()=>Pr,Y36:()=>va,_UZ:()=>Wx,GkF:()=>pw,BQk:()=>Wd,ynx:()=>Om,qZA:()=>gw,TgZ:()=>fw,EpF:()=>Fo,n5z:()=>IA,Ikx:()=>th,LFG:()=>en,$8M:()=>Au,$Z:()=>Yx,NdJ:()=>ec,CRH:()=>Fy,kcU:()=>Nn,O4$:()=>G_,oxw:()=>jg,ALo:()=>oI,lcZ:()=>Ry,Hsn:()=>Zd,F$t:()=>_w,Q6J:()=>Pn,VKq:()=>xy,WLB:()=>_c,kEZ:()=>Ma,l5B:()=>Iy,iGM:()=>gI,MAs:()=>Dm,evT:()=>tn,Jf7:()=>sg,CHM:()=>qa,oJD:()=>Ed,uOi:()=>qA,LSH:()=>Cd,kYT:()=>La,Akn:()=>qr,Jzz:()=>Nw,Udp:()=>xl,YNc:()=>qd,W1O:()=>mI,_uU:()=>Nt,Oqu:()=>Il,hij:()=>Yg,AsE:()=>Xn,Gf:()=>Ny});var c=P(9765),ae=P(5319),j=P(8891),le=P(6682),ye=P(6328),ce=P(1307);function oe(){return new c.xQ}function V(o){for(let a in o)if(o[a]===V)return a;throw Error("Could not find renamed property on target object.")}function L(o,a){for(const u in a)a.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&(o[u]=a[u])}function Q(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(Q).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const u=a.indexOf("\n");return-1===u?a:a.substring(0,u)}function Y(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const z=V({__forward_ref__:V});function X(o){return o.__forward_ref__=X,o.toString=function(){return Q(this())},o}function ue(o){return ve(o)?o():o}function ve(o){return"function"==typeof o&&o.hasOwnProperty(z)&&o.__forward_ref__===X}class Fe extends Error{constructor(a,u){super(function(o,a){return`${o?`NG0${o}: `:""}${a}`}(a,u)),this.code=a}}function Ee(o){return"string"==typeof o?o:null==o?"":String(o)}function Pe(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Ee(o)}function we(o,a){const u=a?` in ${a}`:"";throw new Fe("201",`No provider for ${Pe(o)} found${u}`)}function rn(o,a){null==o&&function(o,a,u,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${u} ${d} ${a} <=Actual]`))}(a,o,null,"!=")}function Jt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Nr(o){return{providers:o.providers||[],imports:o.imports||[]}}function Cn(o){return lo(o,ts)||lo(o,hi)}function lo(o,a){return o.hasOwnProperty(a)?o[a]:null}function uo(o){return o&&(o.hasOwnProperty(ns)||o.hasOwnProperty(xs))?o[ns]:null}const ts=V({\u0275prov:V}),ns=V({\u0275inj:V}),hi=V({ngInjectableDef:V}),xs=V({ngInjectorDef:V});var rt=(()=>((rt=rt||{})[rt.Default=0]="Default",rt[rt.Host=1]="Host",rt[rt.Self=2]="Self",rt[rt.SkipSelf=4]="SkipSelf",rt[rt.Optional=8]="Optional",rt))();let pt;function Pt(o){const a=pt;return pt=o,a}function sn(o,a,u){const d=Cn(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&rt.Optional?null:void 0!==a?a:void we(Q(o),"Injector")}function Rt(o){return{toString:o}.toString()}var je=(()=>((je=je||{})[je.OnPush=0]="OnPush",je[je.Default=1]="Default",je))(),Kt=(()=>((Kt=Kt||{})[Kt.Emulated=0]="Emulated",Kt[Kt.None=2]="None",Kt[Kt.ShadowDom=3]="ShadowDom",Kt))();const Fr="undefined"!=typeof globalThis&&globalThis,Wl="undefined"!=typeof window&&window,or="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Qo="undefined"!=typeof global&&global,At=Fr||Qo||Wl||or,ee={},re=[],ie=V({\u0275cmp:V}),Ve=V({\u0275dir:V}),lt=V({\u0275pipe:V}),Ct=V({\u0275mod:V}),kt=V({\u0275loc:V}),Dt=V({\u0275fac:V}),on=V({__NG_ELEMENT_ID__:V});let Gn=0;function On(o){return Rt(()=>{const u={},d={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===je.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||re,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Kt.Emulated,id:"c",styles:o.styles||re,_:null,setInput:null,schemas:o.schemas||null,tView:null},f=o.directives,p=o.features,v=o.pipes;return d.id+=Gn++,d.inputs=Nc(o.inputs,u),d.outputs=Nc(o.outputs),p&&p.forEach(E=>E(d)),d.directiveDefs=f?()=>("function"==typeof f?f():f).map(Zl):null,d.pipeDefs=v?()=>("function"==typeof v?v():v).map(Oc):null,d})}function Zl(o){return Ti(o)||function(o){return o[Ve]||null}(o)}function Oc(o){return function(o){return o[lt]||null}(o)}const Xh={};function Jl(o){return Rt(()=>{const a={type:o.type,bootstrap:o.bootstrap||re,declarations:o.declarations||re,imports:o.imports||re,exports:o.exports||re,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(Xh[o.id]=o.type),a})}function La(o,a){return Rt(()=>{const u=ji(o,!0);u.declarations=a.declarations||re,u.imports=a.imports||re,u.exports=a.exports||re})}function Nc(o,a){if(null==o)return ee;const u={};for(const d in o)if(o.hasOwnProperty(d)){let f=o[d],p=f;Array.isArray(f)&&(p=f[1],f=f[0]),u[f]=d,a&&(a[f]=p)}return u}const Ba=On;function Pr(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function Ti(o){return o[ie]||null}function ji(o,a){const u=o[Ct]||null;if(!u&&!0===a)throw new Error(`Type ${Q(o)} does not have '\u0275mod' property.`);return u}function Hn(o){return Array.isArray(o)&&"object"==typeof o[1]}function ki(o){return Array.isArray(o)&&!0===o[1]}function Va(o){return 0!=(8&o.flags)}function An(o){return 2==(2&o.flags)}function Ua(o){return 1==(1&o.flags)}function Lr(o){return null!==o.template}function os(o){return 0!=(512&o[2])}function ur(o,a){return o.hasOwnProperty(Dt)?o[Dt]:null}class nf{constructor(a,u,d){this.previousValue=a,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function eu(){return rf}function rf(o){return o.type.prototype.ngOnChanges&&(o.setInput=as),Br}function Br(){const o=gA(this),a=null==o?void 0:o.current;if(a){const u=o.previous;if(u===ee)o.previous=a;else for(let d in a)u[d]=a[d];o.current=null,this.ngOnChanges(a)}}function as(o,a,u,d){const f=gA(o)||function(o,a){return o[vr]=a}(o,{previous:ee,current:null}),p=f.current||(f.current={}),v=f.previous,E=this.declaredInputs[u],I=v[E];p[E]=new nf(I&&I.currentValue,a,v===ee),o[d]=a}eu.ngInherit=!0;const vr="__ngSimpleChanges__";function gA(o){return o[vr]||null}const af="http://www.w3.org/2000/svg";let ja;function lf(o){ja=o}function Zo(){return void 0!==ja?ja:"undefined"!=typeof document?document:void 0}function an(o){return!!o.listen}const Vc={createRenderer:(o,a)=>Zo()};function mn(o){for(;Array.isArray(o);)o=o[0];return o}function tu(o,a){return mn(a[o])}function qi(o,a){return mn(a[o.index])}function Hc(o,a){return o.data[a]}function nu(o,a){return o[a]}function Yn(o,a){const u=a[o];return Hn(u)?u:u[0]}function P_(o){return 4==(4&o[2])}function iu(o){return 128==(128&o[2])}function ls(o,a){return null==a?null:o[a]}function Qa(o){o[18]=0}function cf(o,a){o[5]+=a;let u=o,d=o[3];for(;null!==d&&(1===a&&1===u[5]||-1===a&&0===u[5]);)d[5]+=a,u=d,d=d[3]}const ht={lFrame:Af(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function za(){return ht.bindingsEnabled}function De(){return ht.lFrame.lView}function Ot(){return ht.lFrame.tView}function qa(o){return ht.lFrame.contextLView=o,o[8]}function xn(){let o=df();for(;null!==o&&64===o.type;)o=o.parent;return o}function df(){return ht.lFrame.currentTNode}function us(o,a){const u=ht.lFrame;u.currentTNode=o,u.isParent=a}function hf(){return ht.lFrame.isParent}function su(){ht.lFrame.isParent=!1}function ou(){return ht.isInCheckNoChangesMode}function au(o){ht.isInCheckNoChangesMode=o}function Wn(){const o=ht.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function Yi(){return ht.lFrame.bindingIndex}function _o(){return ht.lFrame.bindingIndex++}function cs(o){const a=ht.lFrame,u=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,u}function gf(o,a){const u=ht.lFrame;u.bindingIndex=u.bindingRootIndex=o,lu(a)}function lu(o){ht.lFrame.currentDirectiveIndex=o}function Qc(){return ht.lFrame.currentQueryIndex}function pf(o){ht.lFrame.currentQueryIndex=o}function Wa(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function _A(o,a,u){if(u&rt.SkipSelf){let f=a,p=o;for(;!(f=f.parent,null!==f||u&rt.Host||(f=Wa(p),null===f||(p=p[15],10&f.type))););if(null===f)return!1;a=f,o=p}const d=ht.lFrame=U_();return d.currentTNode=a,d.lView=o,!0}function zc(o){const a=U_(),u=o[1];ht.lFrame=a,a.currentTNode=u.firstChild,a.lView=o,a.tView=u,a.contextLView=o,a.bindingIndex=u.bindingStartIndex,a.inI18n=!1}function U_(){const o=ht.lFrame,a=null===o?null:o.child;return null===a?Af(o):a}function Af(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function vA(){const o=ht.lFrame;return ht.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const wA=vA;function qc(){const o=vA();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function cr(){return ht.lFrame.selectedIndex}function Za(o){ht.lFrame.selectedIndex=o}function In(){const o=ht.lFrame;return Hc(o.tView,o.selectedIndex)}function G_(){ht.lFrame.currentNamespace=af}function Nn(){ht.lFrame.currentNamespace=null}function Yc(o,a){for(let u=a.directiveStart,d=a.directiveEnd;u<d;u++){const p=o.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:I,ngAfterViewChecked:D,ngOnDestroy:M}=p;v&&(o.contentHooks||(o.contentHooks=[])).push(-u,v),E&&((o.contentHooks||(o.contentHooks=[])).push(u,E),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(u,E)),I&&(o.viewHooks||(o.viewHooks=[])).push(-u,I),D&&((o.viewHooks||(o.viewHooks=[])).push(u,D),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(u,D)),null!=M&&(o.destroyHooks||(o.destroyHooks=[])).push(u,M)}}function Wc(o,a,u){j_(o,a,3,u)}function Ja(o,a,u,d){(3&o[2])===u&&j_(o,a,u,d)}function cu(o,a){let u=o[2];(3&u)===a&&(u&=2047,u+=1,o[2]=u)}function j_(o,a,u,d){const p=null!=d?d:-1,v=a.length-1;let E=0;for(let I=void 0!==d?65535&o[18]:0;I<v;I++)if("number"==typeof a[I+1]){if(E=a[I],null!=d&&E>=d)break}else a[I]<0&&(o[18]+=65536),(E<p||-1==p)&&(vf(o,u,a,I),o[18]=(4294901760&o[18])+I+2),I++}function vf(o,a,u,d){const f=u[d]<0,p=u[d+1],E=o[f?-u[d]:u[d]];if(f){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{p.call(E)}finally{}}}else try{p.call(E)}finally{}}class du{constructor(a,u,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function vo(o,a,u){const d=an(o);let f=0;for(;f<u.length;){const p=u[f];if("number"==typeof p){if(0!==p)break;f++;const v=u[f++],E=u[f++],I=u[f++];d?o.setAttribute(a,E,I,v):a.setAttributeNS(v,E,I)}else{const v=p,E=u[++f];dn(v)?d&&o.setProperty(a,v,E):d?o.setAttribute(a,v,E):a.setAttribute(v,E),f++}}return f}function EA(o){return 3===o||4===o||6===o}function dn(o){return 64===o.charCodeAt(0)}function hu(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let u=-1;for(let d=0;d<a.length;d++){const f=a[d];"number"==typeof f?u=f:0===u||bf(o,u,f,null,-1===u||2===u?a[++d]:null)}}return o}function bf(o,a,u,d,f){let p=0,v=o.length;if(-1===a)v=-1;else for(;p<o.length;){const E=o[p++];if("number"==typeof E){if(E===a){v=-1;break}if(E>a){v=p-1;break}}}for(;p<o.length;){const E=o[p];if("number"==typeof E)break;if(E===u){if(null===d)return void(null!==f&&(o[p+1]=f));if(d===o[p+1])return void(o[p+2]=f)}p++,null!==d&&p++,null!==f&&p++}-1!==v&&(o.splice(v,0,a),p=v+1),o.splice(p++,0,u),null!==d&&o.splice(p++,0,d),null!==f&&o.splice(p++,0,f)}function z_(o){return-1!==o}function ea(o){return 32767&o}function fu(o,a){let u=function(o){return o>>16}(o),d=a;for(;u>0;)d=d[15],u--;return d}let Zc=!0;function Cf(o){const a=Zc;return Zc=o,a}let xf=0;function ta(o,a){const u=Rs(o,a);if(-1!==u)return u;const d=a[1];d.firstCreatePass&&(o.injectorIndex=a.length,wr(d.data,o),wr(a,null),wr(d.blueprint,null));const f=gu(o,a),p=o.injectorIndex;if(z_(f)){const v=ea(f),E=fu(f,a),I=E[1].data;for(let D=0;D<8;D++)a[p+D]=E[v+D]|I[v+D]}return a[p+8]=f,p}function wr(o,a){o.push(0,0,0,0,0,0,0,0,a)}function Rs(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function gu(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,d=null,f=a;for(;null!==f;){const p=f[1],v=p.type;if(d=2===v?p.declTNode:1===v?f[6]:null,null===d)return-1;if(u++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return-1}function Xa(o,a,u){!function(o,a,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(on)&&(d=u[on]),null==d&&(d=u[on]=xf++);const f=255&d;a.data[o+(f>>5)]|=1<<f}(o,a,u)}function xA(o,a,u){if(u&rt.Optional)return o;we(a,"NodeInjector")}function el(o,a,u,d){if(u&rt.Optional&&void 0===d&&(d=null),0==(u&(rt.Self|rt.Host))){const f=o[9],p=Pt(void 0);try{return f?f.get(a,d,u&rt.Optional):sn(a,d,u&rt.Optional)}finally{Pt(p)}}return xA(d,a,u)}function Bt(o,a,u,d=rt.Default,f){if(null!==o){const p=function(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(on)?o[on]:void 0;return"number"==typeof a?a>=0?255&a:ks:a}(u);if("function"==typeof p){if(!_A(a,o,d))return d&rt.Host?xA(f,u,d):el(a,u,d,f);try{const v=p(d);if(null!=v||d&rt.Optional)return v;we(u)}finally{wA()}}else if("number"==typeof p){let v=null,E=Rs(o,a),I=-1,D=d&rt.Host?a[16][6]:null;for((-1===E||d&rt.SkipSelf)&&(I=-1===E?gu(o,a):a[E+8],-1!==I&&Sf(d,!1)?(v=a[1],E=ea(I),a=fu(I,a)):E=-1);-1!==E;){const M=a[1];if(Df(p,E,M.data)){const O=Oi(E,a,u,v,d,D);if(O!==Zn)return O}I=a[E+8],-1!==I&&Sf(d,a[1].data[E+8]===D)&&Df(p,E,a)?(v=M,E=ea(I),a=fu(I,a)):E=-1}}}return el(a,u,d,f)}const Zn={};function ks(){return new tl(xn(),De())}function Oi(o,a,u,d,f,p){const v=a[1],E=v.data[o+8],M=Jc(E,v,u,null==d?An(E)&&Zc:d!=v&&0!=(3&E.type),f&rt.Host&&p===E);return null!==M?na(a,v,M,E):Zn}function Jc(o,a,u,d,f){const p=o.providerIndexes,v=a.data,E=1048575&p,I=o.directiveStart,M=p>>20,F=f?E+M:o.directiveEnd;for(let U=d?E:E+M;U<F;U++){const J=v[U];if(U<I&&u===J||U>=I&&J.type===u)return U}if(f){const U=v[I];if(U&&Lr(U)&&U.type===u)return I}return null}function na(o,a,u,d){let f=o[u];const p=a.data;if(function(o){return o instanceof du}(f)){const v=f;v.resolving&&function(o,a){throw new Fe("200",`Circular dependency in DI detected for ${o}`)}(Pe(p[u]));const E=Cf(v.canSeeViewProviders);v.resolving=!0;const I=v.injectImpl?Pt(v.injectImpl):null;_A(o,d,rt.Default);try{f=o[u]=v.factory(void 0,p,o,d),a.firstCreatePass&&u>=d.directiveStart&&function(o,a,u){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:p}=a.type.prototype;if(d){const v=rf(a);(u.preOrderHooks||(u.preOrderHooks=[])).push(o,v),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,v)}f&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-o,f),p&&((u.preOrderHooks||(u.preOrderHooks=[])).push(o,p),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,p))}(u,p[u],a)}finally{null!==I&&Pt(I),Cf(E),v.resolving=!1,wA()}}return f}function Df(o,a,u){return!!(u[a+(o>>5)]&1<<o)}function Sf(o,a){return!(o&rt.Self||o&rt.Host&&a)}class tl{constructor(a,u){this._tNode=a,this._lView=u}get(a,u){return Bt(this._tNode,this._lView,a,void 0,u)}}function IA(o){return Rt(()=>{const a=o.prototype.constructor,u=a[Dt]||pu(a),d=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==d;){const p=f[Dt]||pu(f);if(p&&p!==u)return p;f=Object.getPrototypeOf(f)}return p=>new p})}function pu(o){return ve(o)?()=>{const a=pu(ue(o));return a&&a()}:ur(o)}function Au(o){return function(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const u=o.attrs;if(u){const d=u.length;let f=0;for(;f<d;){const p=u[f];if(EA(p))break;if(0===p)f+=2;else if("number"==typeof p)for(f++;f<d&&"string"==typeof u[f];)f++;else{if(p===a)return u[f+1];f+=2}}}return null}(xn(),o)}const il="__parameters__",wo="__prop__metadata__";function Tf(o){return function(...u){if(o){const d=o(...u);for(const f in d)this[f]=d[f]}}}function ia(o,a,u){return Rt(()=>{const d=Tf(a);function f(...p){if(this instanceof f)return d.apply(this,p),this;const v=new f(...p);return E.annotation=v,E;function E(I,D,M){const O=I.hasOwnProperty(il)?I[il]:Object.defineProperty(I,il,{value:[]})[il];for(;O.length<=M;)O.push(null);return(O[M]=O[M]||[]).push(v),I}}return u&&(f.prototype=Object.create(u.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}function $c(o,a,u,d){return Rt(()=>{const f=Tf(a);function p(...v){if(this instanceof p)return f.apply(this,v),this;const E=new p(...v);return function(D,M){const O=D.constructor,F=O.hasOwnProperty(wo)?O[wo]:Object.defineProperty(O,wo,{value:{}})[wo];F[M]=F.hasOwnProperty(M)&&F[M]||[],F[M].unshift(E),d&&d(D,M,...v)}}return u&&(p.prototype=Object.create(u.prototype)),p.prototype.ngMetadataName=o,p.annotationCls=p,p})}class Dn{constructor(a,u){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Jt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}class Mf{}const Rf=$c("ViewChild",(o,a)=>Object.assign({selector:o,first:!0,isViewQuery:!0,descendants:!0},a),Mf);function dr(o,a){void 0===a&&(a=o);for(let u=0;u<o.length;u++){let d=o[u];Array.isArray(d)?(a===o&&(a=o.slice(0,u)),dr(d,a)):a!==o&&a.push(d)}return a}function yn(o,a){o.forEach(u=>Array.isArray(u)?yn(u,a):a(u))}function vu(o,a,u){a>=o.length?o.push(u):o.splice(a,0,u)}function fs(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Ns(o,a){const u=[];for(let d=0;d<o;d++)u.push(a);return u}function Zi(o,a,u){let d=Fs(o,a);return d>=0?o[1|d]=u:(d=~d,function(o,a,u,d){let f=o.length;if(f==a)o.push(u,d);else if(1===f)o.push(d,o[0]),o[0]=u;else{for(f--,o.push(o[f-1],o[f]);f>a;)o[f]=o[f-2],f--;o[a]=u,o[a+1]=d}}(o,d,a,u)),d}function ed(o,a){const u=Fs(o,a);if(u>=0)return o[1|u]}function Fs(o,a){return function(o,a,u){let d=0,f=o.length>>u;for(;f!==d;){const p=d+(f-d>>1),v=o[p<<u];if(a===v)return p<<u;v>a?f=p:d=p+1}return~(f<<u)}(o,a,1)}const xo={},od="__NG_DI_FLAG__",Ps="ngTempTokenPath",ui=/\n/gm,sl="__source",ad=V({provide:String,useValue:V});let sa;function Ls(o){const a=sa;return sa=o,a}function ld(o,a=rt.Default){if(void 0===sa)throw new Error("inject() must be called from an injection context");return null===sa?sn(o,void 0,a):sa.get(o,a&rt.Optional?null:void 0,a)}function en(o,a=rt.Default){return(pt||ld)(ue(o),a)}const ud=en;function Bs(o){const a=[];for(let u=0;u<o.length;u++){const d=ue(o[u]);if(Array.isArray(d)){if(0===d.length)throw new Error("Arguments array must have arguments.");let f,p=rt.Default;for(let v=0;v<d.length;v++){const E=d[v],I=lC(E);"number"==typeof I?-1===I?f=E.token:p|=I:f=E}a.push(en(f,p))}else a.push(en(d))}return a}function cd(o,a){return o[od]=a,o.prototype[od]=a,o}function lC(o){return o[od]}function J_(o,a,u,d){const f=o[Ps];throw a[sl]&&f.unshift(a[sl]),o.message=function(o,a,u,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let f=Q(a);if(Array.isArray(a))f=a.map(Q).join(" -> ");else if("object"==typeof a){let p=[];for(let v in a)if(a.hasOwnProperty(v)){let E=a[v];p.push(v+":"+("string"==typeof E?JSON.stringify(E):Q(E)))}f=`{${p.join(", ")}}`}return`${u}${d?"("+d+")":""}[${f}]: ${o.replace(ui,"\n  ")}`}("\n"+o.message,f,u,d),o.ngTokenPath=f,o[Ps]=null,o}const bu=cd(ia("Inject",o=>({token:o})),-1),gs=cd(ia("Optional"),8),Ji=cd(ia("SkipSelf"),4);let ua,Iu;function br(o){var a;return(null===(a=function(){if(void 0===ua&&(ua=null,At.trustedTypes))try{ua=At.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return ua}())||void 0===a?void 0:a.createHTML(o))||o}function Du(){if(void 0===Iu&&(Iu=null,At.trustedTypes))try{Iu=At.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return Iu}function Su(o){var a;return(null===(a=Du())||void 0===a?void 0:a.createHTML(o))||o}function Bf(o){var a;return(null===(a=Du())||void 0===a?void 0:a.createScriptURL(o))||o}class Vs{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Vf extends Vs{getTypeName(){return"HTML"}}class al extends Vs{getTypeName(){return"Style"}}class Tu extends Vs{getTypeName(){return"Script"}}class VA extends Vs{getTypeName(){return"URL"}}class ca extends Vs{getTypeName(){return"ResourceURL"}}function Do(o){return o instanceof Vs?o.changingThisBreaksApplicationSecurity:o}function ps(o,a){const u=ll(o);if(null!=u&&u!==a){if("ResourceURL"===u&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===a}function ll(o){return o instanceof Vs&&o.getTypeName()||null}function UA(o){return new Vf(o)}function GA(o){return new al(o)}function cC(o){return new Tu(o)}function dC(o){return new VA(o)}function HA(o){return new ca(o)}class QA{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const u=(new window.DOMParser).parseFromString(br(a),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(a):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class Uf{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const d=this.inertDocument.createElement("body");u.appendChild(d)}}getInertBodyElement(a){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=br(a),u;const d=this.inertDocument.createElement("body");return d.innerHTML=br(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(a){const u=a.attributes;for(let f=u.length-1;0<f;f--){const v=u.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&a.removeAttribute(v)}let d=a.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const zA=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Gf=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Mu(o){return(o=String(o)).match(zA)||o.match(Gf)?o:"unsafe:"+o}function Cr(o){const a={};for(const u of o.split(","))a[u]=!0;return a}function Ad(...o){const a={};for(const u of o)for(const d in u)u.hasOwnProperty(d)&&(a[d]=!0);return a}const Hf=Cr("area,br,col,hr,img,wbr"),md=Cr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ru=Cr("rp,rt"),jf=Ad(Hf,Ad(md,Cr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ad(Ru,Cr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ad(Ru,md)),yd=Cr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Qf=Cr("srcset"),_d=Ad(yd,Qf,Cr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Cr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),iv=Cr("script,style,template");class zf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let u=a.firstChild,d=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?d=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,d&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let f=this.checkClobberedElement(u,u.nextSibling);if(f){u=f;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(a){const u=a.nodeName.toLowerCase();if(!jf.hasOwnProperty(u))return this.sanitizedSomething=!0,!iv.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const d=a.attributes;for(let f=0;f<d.length;f++){const p=d.item(f),v=p.name,E=v.toLowerCase();if(!_d.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let I=p.value;yd[E]&&(I=Mu(I)),Qf[E]&&(o=I,I=(o=String(o)).split(",").map(a=>Mu(a.trim())).join(", ")),this.buf.push(" ",v,'="',ul(I),'"')}var o;return this.buf.push(">"),!0}endElement(a){const u=a.nodeName.toLowerCase();jf.hasOwnProperty(u)&&!Hf.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(a){this.buf.push(ul(a))}checkClobberedElement(a,u){if(u&&(a.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return u}}const Nu=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rv=/([^\#-~ |!])/g;function ul(o){return o.replace(/&/g,"&amp;").replace(Nu,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(rv,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let vd;function qf(o,a){let u=null;try{vd=vd||function(o){const a=new Uf(o);return function(){try{return!!(new window.DOMParser).parseFromString(br(""),"text/html")}catch(o){return!1}}()?new QA(a):a}(o);let d=a?String(a):"";u=vd.getInertBodyElement(d);let f=5,p=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=p,p=u.innerHTML,u=vd.getInertBodyElement(d)}while(d!==p);return br((new zf).sanitizeChildren(Yf(u)||u))}finally{if(u){const d=Yf(u)||u;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Yf(o){return"content"in o&&function(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var ln=(()=>((ln=ln||{})[ln.NONE=0]="NONE",ln[ln.HTML=1]="HTML",ln[ln.STYLE=2]="STYLE",ln[ln.SCRIPT=3]="SCRIPT",ln[ln.URL=4]="URL",ln[ln.RESOURCE_URL=5]="RESOURCE_URL",ln))();function Ed(o){const a=dl();return a?Su(a.sanitize(ln.HTML,o)||""):ps(o,"HTML")?Su(Do(o)):qf(Zo(),Ee(o))}function Cd(o){const a=dl();return a?a.sanitize(ln.URL,o)||"":ps(o,"URL")?Do(o):Mu(Ee(o))}function qA(o){const a=dl();if(a)return Bf(a.sanitize(ln.RESOURCE_URL,o)||"");if(ps(o,"ResourceURL"))return Bf(Do(o));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function dl(){const o=De();return o&&o[12]}const xd="__ngContext__";function gi(o,a){o[xd]=a}function Kf(o){const a=function(o){return o[xd]||null}(o);return a?Array.isArray(a)?a:a.lView:null}function m(o){return o.ngOriginalError}function x(o,...a){o.error(...a)}class R{constructor(){this._console=console}handleError(a){const u=this._findOriginalError(a),d=this._findContext(a),f=(o=a)&&o.ngErrorLogger||x;var o;f(this._console,"ERROR",a),u&&f(this._console,"ORIGINAL ERROR",u),d&&f(this._console,"ERROR CONTEXT",d)}_findContext(a){return a?a.ngDebugContext||this._findContext(m(a)):null}_findOriginalError(a){let u=a&&m(a);for(;u&&m(u);)u=m(u);return u||null}}const rg=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(At))();function sg(o){return o.ownerDocument.defaultView}function tn(o){return o.ownerDocument}function xr(o){return o instanceof Function?o():o}var So=(()=>((So=So||{})[So.Important=1]="Important",So[So.DashCase=2]="DashCase",So))();function av(o,a){return undefined(o,a)}function Md(o){const a=o[3];return ki(a)?a[3]:a}function fl(o){return lv(o[13])}function JA(o){return lv(o[4])}function lv(o){for(;null!==o&&!ki(o);)o=o[4];return o}function da(o,a,u,d,f){if(null!=d){let p,v=!1;ki(d)?p=d:Hn(d)&&(v=!0,d=d[0]);const E=mn(d);0===o&&null!==u?null==f?xC(a,u,E):Vu(a,u,E,f||null,!0):1===o&&null!==u?Vu(a,u,E,f||null,!0):2===o?function(o,a,u){const d=em(o,a);d&&function(o,a,u,d){an(o)?o.removeChild(a,u,d):a.removeChild(u)}(o,d,a,u)}(a,E,v):3===o&&a.destroyNode(E),null!=p&&function(o,a,u,d,f){const p=u[7];p!==mn(u)&&da(a,o,d,p,f);for(let E=10;E<u.length;E++){const I=u[E];cg(I[1],I,o,a,d,p)}}(a,o,p,u,f)}}function pi(o,a,u){return an(o)?o.createElement(a,u):null===u?o.createElement(a):o.createElementNS(u,a)}function og(o,a){const u=o[9],d=u.indexOf(a),f=a[3];1024&a[2]&&(a[2]&=-1025,cf(f,-1)),u.splice(d,1)}function $A(o,a){if(o.length<=10)return;const u=10+a,d=o[u];if(d){const f=d[17];null!==f&&f!==o&&og(f,d),a>0&&(o[u-1][4]=d[4]);const p=fs(o,10+a);!function(o,a){cg(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(d[1],d);const v=p[19];null!==v&&v.detachView(p[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function XA(o,a){if(!(256&a[2])){const u=a[11];an(u)&&u.destroyNode&&cg(o,a,u,3,null,null),function(o){let a=o[13];if(!a)return ag(o[1],o);for(;a;){let u=null;if(Hn(a))u=a[13];else{const d=a[10];d&&(u=d)}if(!u){for(;a&&!a[4]&&a!==o;)Hn(a)&&ag(a[1],a),a=a[3];null===a&&(a=o),Hn(a)&&ag(a[1],a),u=a&&a[4]}a=u}}(a)}}function ag(o,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function(o,a){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let d=0;d<u.length;d+=2){const f=a[u[d]];if(!(f instanceof du)){const p=u[d+1];if(Array.isArray(p))for(let v=0;v<p.length;v+=2){const E=f[p[v]],I=p[v+1];try{I.call(E)}finally{}}else try{p.call(f)}finally{}}}}(o,a),function(o,a){const u=o.cleanup,d=a[7];let f=-1;if(null!==u)for(let p=0;p<u.length-1;p+=2)if("string"==typeof u[p]){const v=u[p+1],E="function"==typeof v?v(a):mn(a[v]),I=d[f=u[p+2]],D=u[p+3];"boolean"==typeof D?E.removeEventListener(u[p],I,D):D>=0?d[f=D]():d[f=-D].unsubscribe(),p+=2}else{const v=d[f=u[p+1]];u[p].call(v)}if(null!==d){for(let p=f+1;p<d.length;p++)d[p]();a[7]=null}}(o,a),1===a[1].type&&an(a[11])&&a[11].destroy();const u=a[17];if(null!==u&&ki(a[3])){u!==a[3]&&og(u,a);const d=a[19];null!==d&&d.detachView(o)}}}function CC(o,a,u){return function(o,a,u){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return u[0];if(2&d.flags){const f=o.data[d.directiveStart].encapsulation;if(f===Kt.None||f===Kt.Emulated)return null}return qi(d,u)}(o,a.parent,u)}function Vu(o,a,u,d,f){an(o)?o.insertBefore(a,u,d,f):a.insertBefore(u,d,f)}function xC(o,a,u){an(o)?o.appendChild(a,u):a.appendChild(u)}function IC(o,a,u,d,f){null!==d?Vu(o,a,u,d,f):xC(o,a,u)}function em(o,a){return an(o)?o.parentNode(a):a.parentNode}function DC(o,a,u){return TC(o,a,u)}let TC=function(o,a,u){return 40&o.type?qi(o,u):null};function Rd(o,a,u,d){const f=CC(o,d,a),p=a[11],E=DC(d.parent||a[6],d,a);if(null!=f)if(Array.isArray(u))for(let I=0;I<u.length;I++)IC(p,f,u[I],E,!1);else IC(p,f,u,E,!1)}function ug(o,a){if(null!==a){const u=a.type;if(3&u)return qi(a,o);if(4&u)return nm(-1,o[a.index]);if(8&u){const d=a.child;if(null!==d)return ug(o,d);{const f=o[a.index];return ki(f)?nm(-1,f):mn(f)}}if(32&u)return av(a,o)()||mn(o[a.index]);{const d=MC(o,a);return null!==d?Array.isArray(d)?d[0]:ug(Md(o[16]),d):ug(o,a.next)}}return null}function MC(o,a){return null!==a?o[16][6].projection[a.projection]:null}function nm(o,a){const u=10+o+1;if(u<a.length){const d=a[u],f=d[1].firstChild;if(null!==f)return ug(d,f)}return a[7]}function dv(o,a,u,d,f,p,v){for(;null!=u;){const E=d[u.index],I=u.type;if(v&&0===a&&(E&&gi(mn(E),d),u.flags|=4),64!=(64&u.flags))if(8&I)dv(o,a,u.child,d,f,p,!1),da(a,o,f,E,p);else if(32&I){const D=av(u,d);let M;for(;M=D();)da(a,o,f,M,p);da(a,o,f,E,p)}else 16&I?Hs(o,a,d,u,f,p):da(a,o,f,E,p);u=v?u.projectionNext:u.next}}function cg(o,a,u,d,f,p){dv(u,d,o.firstChild,a,f,p,!1)}function Hs(o,a,u,d,f,p){const v=u[16],I=v[6].projection[d.projection];if(Array.isArray(I))for(let D=0;D<I.length;D++)da(a,o,f,I[D],p);else dv(o,a,I,v[3],f,p,!0)}function RC(o,a,u){an(o)?o.setAttribute(a,"style",u):a.style.cssText=u}function im(o,a,u){an(o)?""===u?o.removeAttribute(a,"class"):o.setAttribute(a,"class",u):a.className=u}function kC(o,a,u){let d=o.length;for(;;){const f=o.indexOf(a,u);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const p=a.length;if(f+p===d||o.charCodeAt(f+p)<=32)return f}u=f+1}}const dg="ng-template";function mS(o,a,u){let d=0;for(;d<o.length;){let f=o[d++];if(u&&"class"===f){if(f=o[d],-1!==kC(f.toLowerCase(),a,0))return!0}else if(1===f){for(;d<o.length&&"string"==typeof(f=o[d++]);)if(f.toLowerCase()===a)return!0;return!1}}return!1}function kd(o){return 4===o.type&&o.value!==dg}function yS(o,a,u){return a===(4!==o.type||u?o.value:dg)}function _S(o,a,u){let d=4;const f=o.attrs||[],p=function(o){for(let a=0;a<o.length;a++)if(EA(o[a]))return a;return o.length}(f);let v=!1;for(let E=0;E<a.length;E++){const I=a[E];if("number"!=typeof I){if(!v)if(4&d){if(d=2|1&d,""!==I&&!yS(o,I,u)||""===I&&1===a.length){if(As(d))return!1;v=!0}}else{const D=8&d?I:a[++E];if(8&d&&null!==o.attrs){if(!mS(o.attrs,D,u)){if(As(d))return!1;v=!0}continue}const O=vS(8&d?"class":I,f,kd(o),u);if(-1===O){if(As(d))return!1;v=!0;continue}if(""!==D){let F;F=O>p?"":f[O+1].toLowerCase();const U=8&d?F:null;if(U&&-1!==kC(U,D,0)||2&d&&D!==F){if(As(d))return!1;v=!0}}}}else{if(!v&&!As(d)&&!As(I))return!1;if(v&&As(I))continue;v=!1,d=I|1&d}}return As(d)||v}function As(o){return 0==(1&o)}function vS(o,a,u,d){if(null===a)return-1;let f=0;if(d||!u){let p=!1;for(;f<a.length;){const v=a[f];if(v===o)return f;if(3===v||6===v)p=!0;else{if(1===v||2===v){let E=a[++f];for(;"string"==typeof E;)E=a[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=p?1:2}return-1}return function(o,a){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const d=o[u];if("number"==typeof d)return-1;if(d===a)return u;u++}return-1}(a,o)}function rm(o,a,u=!1){for(let d=0;d<a.length;d++)if(_S(o,a[d],u))return!0;return!1}function ES(o,a){e:for(let u=0;u<a.length;u++){const d=a[u];if(o.length===d.length){for(let f=0;f<o.length;f++)if(o[f]!==d[f])continue e;return!0}}return!1}function To(o,a){return o?":not("+a.trim()+")":a}function Mo(o){let a=o[0],u=1,d=2,f="",p=!1;for(;u<o.length;){let v=o[u];if("string"==typeof v)if(2&d){const E=o[++u];f+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!As(v)&&(a+=To(p,f),f=""),d=v,p=p||!As(d);u++}return""!==f&&(a+=To(p,f)),a}const vt={};function Uu(o){hg(Ot(),De(),cr()+o,ou())}function hg(o,a,u,d){if(!d)if(3==(3&a[2])){const p=o.preOrderCheckHooks;null!==p&&Wc(a,p,u)}else{const p=o.preOrderHooks;null!==p&&Ja(a,p,0,u)}Za(u)}function fg(o,a){return o<<17|a<<2}function js(o){return o>>17&32767}function fv(o){return 2|o}function ha(o){return(131068&o)>>2}function om(o,a){return-131069&o|a<<2}function Od(o){return 1|o}function JC(o,a){const u=o.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const f=u[d],p=u[d+1];if(-1!==p){const v=o.data[p];pf(f),v.contentQueries(2,a[p],p)}}}function gg(o,a,u,d,f,p,v,E,I,D){const M=a.blueprint.slice();return M[0]=f,M[2]=140|d,Qa(M),M[3]=M[15]=o,M[8]=u,M[10]=v||o&&o[10],M[11]=E||o&&o[11],M[12]=I||o&&o[12]||null,M[9]=D||o&&o[9]||null,M[6]=p,M[16]=2==a.type?o[16]:M,M}function Nd(o,a,u,d,f){let p=o.data[a];if(null===p)p=function(o,a,u,d,f){const p=df(),v=hf(),I=o.data[a]=function(o,a,u,d,f,p){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?p:p&&p.parent,u,a,d,f);return null===o.firstChild&&(o.firstChild=I),null!==p&&(v?null==p.child&&null!==I.parent&&(p.child=I):null===p.next&&(p.next=I)),I}(o,a,u,d,f),ht.lFrame.inI18n&&(p.flags|=64);else if(64&p.type){p.type=u,p.value=d,p.attrs=f;const v=function(){const o=ht.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();p.injectorIndex=null===v?-1:v.injectorIndex}return us(p,!0),p}function ju(o,a,u,d){if(0===u)return-1;const f=a.length;for(let p=0;p<u;p++)a.push(d),o.blueprint.push(d),o.data.push(null);return f}function pg(o,a,u){zc(a);try{const d=o.viewQuery;null!==d&&Rv(1,d,u);const f=o.template;null!==f&&KC(o,a,f,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&JC(o,a),o.staticViewQueries&&Rv(2,o.viewQuery,u);const p=o.components;null!==p&&function(o,a){for(let u=0;u<a.length;u++)ux(o,a[u])}(a,p)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{a[2]&=-5,qc()}}function Ag(o,a,u,d){const f=a[2];if(256==(256&f))return;zc(a);const p=ou();try{Qa(a),function(o){ht.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&KC(o,a,u,2,d);const v=3==(3&f);if(!p)if(v){const D=o.preOrderCheckHooks;null!==D&&Wc(a,D,null)}else{const D=o.preOrderHooks;null!==D&&Ja(a,D,0,null),cu(a,0)}if(function(o){for(let a=fl(o);null!==a;a=JA(a)){if(!a[2])continue;const u=a[9];for(let d=0;d<u.length;d++){const f=u[d],p=f[3];0==(1024&f[2])&&cf(p,1),f[2]|=1024}}}(a),function(o){for(let a=fl(o);null!==a;a=JA(a))for(let u=10;u<a.length;u++){const d=a[u],f=d[1];iu(d)&&Ag(f,d,f.template,d[8])}}(a),null!==o.contentQueries&&JC(o,a),!p)if(v){const D=o.contentCheckHooks;null!==D&&Wc(a,D)}else{const D=o.contentHooks;null!==D&&Ja(a,D,1),cu(a,1)}!function(o,a){const u=o.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const f=u[d];if(f<0)Za(~f);else{const p=f,v=u[++d],E=u[++d];gf(v,p),E(2,a[p])}}}finally{Za(-1)}}(o,a);const E=o.components;null!==E&&function(o,a){for(let u=0;u<a.length;u++)Sv(o,a[u])}(a,E);const I=o.viewQuery;if(null!==I&&Rv(2,I,d),!p)if(v){const D=o.viewCheckHooks;null!==D&&Wc(a,D)}else{const D=o.viewHooks;null!==D&&Ja(a,D,2),cu(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),p||(a[2]&=-73),1024&a[2]&&(a[2]&=-1025,cf(a[3],-1))}finally{qc()}}function NS(o,a,u,d){const f=a[10],p=!ou(),v=P_(a);try{p&&!v&&f.begin&&f.begin(),v&&pg(o,a,d),Ag(o,a,u,d)}finally{p&&!v&&f.end&&f.end()}}function KC(o,a,u,d,f){const p=cr(),v=2&d;try{Za(-1),v&&a.length>20&&hg(o,a,20,ou()),u(d,f)}finally{Za(p)}}function $C(o,a,u){if(Va(a)){const f=a.directiveEnd;for(let p=a.directiveStart;p<f;p++){const v=o.data[p];v.contentQueries&&v.contentQueries(1,u[p],p)}}}function Fd(o,a,u){!za()||(function(o,a,u,d){const f=u.directiveStart,p=u.directiveEnd;o.firstCreatePass||ta(u,a),gi(d,a);const v=u.initialInputs;for(let E=f;E<p;E++){const I=o.data[E],D=Lr(I);D&&HS(a,u,I);const M=na(a,o,E,u);gi(M,a),null!==v&&jS(0,E-f,M,I,0,v),D&&(Yn(u.index,a)[8]=M)}}(o,a,u,qi(u,a)),128==(128&u.flags)&&function(o,a,u){const d=u.directiveStart,f=u.directiveEnd,v=u.index,E=ht.lFrame.currentDirectiveIndex;try{Za(v);for(let I=d;I<f;I++){const D=o.data[I],M=a[I];lu(I),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&Iv(D,M)}}finally{Za(-1),lu(E)}}(o,a,u))}function cm(o,a,u=qi){const d=a.localNames;if(null!==d){let f=a.index+1;for(let p=0;p<d.length;p+=2){const v=d[p+1],E=-1===v?u(a,o):o[v];o[f++]=E}}}function Ev(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=ms(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function ms(o,a,u,d,f,p,v,E,I,D){const M=20+d,O=M+f,F=function(o,a){const u=[];for(let d=0;d<a;d++)u.push(d<o?null:vt);return u}(M,O),U="function"==typeof D?D():D;return F[1]={type:o,blueprint:F,template:u,queries:null,viewQuery:E,declTNode:a,data:F.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:I,consts:U,incompleteFirstPass:!1}}function tx(o,a,u,d){const f=Ai(a);null===u?f.push(d):(f.push(u),o.firstCreatePass&&vg(o).push(d,f.length-1))}function nx(o,a,u){for(let d in o)if(o.hasOwnProperty(d)){const f=o[d];(u=null===u?{}:u).hasOwnProperty(d)?u[d].push(a,f):u[d]=[a,f]}return u}function Dr(o,a,u,d,f,p,v,E){const I=qi(a,u);let M,D=a.inputs;!E&&null!=D&&(M=D[d])?(cx(o,u,M,d,f),An(a)&&function(o,a){const u=Yn(a,o);16&u[2]||(u[2]|=64)}(u,a.index)):3&a.type&&(d=function(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),f=null!=v?v(f,a.value||"",d):f,an(p)?p.setProperty(I,d,f):dn(d)||(I.setProperty?I.setProperty(d,f):I[d]=f))}function xv(o,a,u,d){let f=!1;if(za()){const p=function(o,a,u){const d=o.directiveRegistry;let f=null;if(d)for(let p=0;p<d.length;p++){const v=d[p];rm(u,v.selectors,!1)&&(f||(f=[]),Xa(ta(u,a),o,v.type),Lr(v)?(hm(o,u),f.unshift(v)):f.push(v))}return f}(o,a,u),v=null===d?null:{"":-1};if(null!==p){f=!0,mg(u,o.data.length,p.length);for(let M=0;M<p.length;M++){const O=p[M];O.providersResolver&&O.providersResolver(O)}let E=!1,I=!1,D=ju(o,a,p.length,null);for(let M=0;M<p.length;M++){const O=p[M];u.mergedAttrs=hu(u.mergedAttrs,O.hostAttrs),ax(o,u,a,D,O),GS(D,O,v),null!==O.contentQueries&&(u.flags|=8),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(u.flags|=128);const F=O.type.prototype;!E&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(u.index),E=!0),!I&&(F.ngOnChanges||F.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(u.index),I=!0),D++}!function(o,a){const d=a.directiveEnd,f=o.data,p=a.attrs,v=[];let E=null,I=null;for(let D=a.directiveStart;D<d;D++){const M=f[D],O=M.inputs,F=null===p||kd(a)?null:Qs(O,p);v.push(F),E=nx(O,D,E),I=nx(M.outputs,D,I)}null!==E&&(E.hasOwnProperty("class")&&(a.flags|=16),E.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=v,a.inputs=E,a.outputs=I}(o,u)}v&&function(o,a,u){if(a){const d=o.localNames=[];for(let f=0;f<a.length;f+=2){const p=u[a[f+1]];if(null==p)throw new Fe("301",`Export of name '${a[f+1]}' not found!`);d.push(a[f],p)}}}(u,d,v)}return u.mergedAttrs=hu(u.mergedAttrs,u.attrs),f}function sx(o,a,u,d,f,p){const v=p.hostBindings;if(v){let E=o.hostBindingOpCodes;null===E&&(E=o.hostBindingOpCodes=[]);const I=~a.index;(function(o){let a=o.length;for(;a>0;){const u=o[--a];if("number"==typeof u&&u<0)return u}return 0})(E)!=I&&E.push(I),E.push(d,f,v)}}function Iv(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function hm(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function GS(o,a,u){if(u){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)u[a.exportAs[d]]=o;Lr(a)&&(u[""]=o)}}function mg(o,a,u){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+u,o.providerIndexes=a}function ax(o,a,u,d,f){o.data[d]=f;const p=f.factory||(f.factory=ur(f.type)),v=new du(p,Lr(f),null);o.blueprint[d]=v,u[d]=v,sx(o,a,0,d,ju(o,u,f.hostVars,vt),f)}function HS(o,a,u){const d=qi(a,o),f=Ev(u),p=o[10],v=ze(o,gg(o,f,null,u.onPush?64:16,d,a,p,p.createRenderer(d,u),null,null));o[a.index]=v}function ys(o,a,u,d,f,p){const v=qi(o,a);!function(o,a,u,d,f,p,v){if(null==p)an(o)?o.removeAttribute(a,f,u):a.removeAttribute(f);else{const E=null==v?Ee(p):v(p,d||"",f);an(o)?o.setAttribute(a,f,E,u):u?a.setAttributeNS(u,f,E):a.setAttribute(f,E)}}(a[11],v,p,o.value,u,d,f)}function jS(o,a,u,d,f,p){const v=p[a];if(null!==v){const E=d.setInput;for(let I=0;I<v.length;){const D=v[I++],M=v[I++],O=v[I++];null!==E?d.setInput(u,O,D,M):u[M]=O}}}function Qs(o,a){let u=null,d=0;for(;d<a.length;){const f=a[d];if(0!==f)if(5!==f){if("number"==typeof f)break;o.hasOwnProperty(f)&&(null===u&&(u=[]),u.push(f,o[f],a[d+1])),d+=2}else d+=2;else d+=4}return u}function lx(o,a,u,d){return new Array(o,!0,!1,a,null,0,d,u,null,null)}function Sv(o,a){const u=Yn(a,o);if(iu(u)){const d=u[1];80&u[2]?Ag(d,u,d.template,u[8]):u[5]>0&&Tv(u)}}function Tv(o){for(let d=fl(o);null!==d;d=JA(d))for(let f=10;f<d.length;f++){const p=d[f];if(1024&p[2]){const v=p[1];Ag(v,p,v.template,p[8])}else p[5]>0&&Tv(p)}const u=o[1].components;if(null!==u)for(let d=0;d<u.length;d++){const f=Yn(u[d],o);iu(f)&&f[5]>0&&Tv(f)}}function ux(o,a){const u=Yn(a,o),d=u[1];(function(o,a){for(let u=a.length;u<o.blueprint.length;u++)a.push(o.blueprint[u])})(d,u),pg(d,u,u[8])}function ze(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function yg(o){for(;o;){o[2]|=64;const a=Md(o);if(os(o)&&!a)return o;o=a}return null}function _g(o,a,u){const d=a[10];d.begin&&d.begin();try{Ag(o,a,o.template,u)}catch(f){throw ga(a,f),f}finally{d.end&&d.end()}}function Bd(o){!function(o){for(let a=0;a<o.components.length;a++){const u=o.components[a],d=Kf(u),f=d[1];NS(f,d,f.template,u)}}(o[8])}function Rv(o,a,u){pf(0),a(o,u)}const qS=(()=>Promise.resolve(null))();function Ai(o){return o[7]||(o[7]=[])}function vg(o){return o.cleanup||(o.cleanup=[])}function ga(o,a){const u=o[9],d=u?u.get(R,null):null;d&&d.handleError(a)}function cx(o,a,u,d,f){for(let p=0;p<u.length;){const v=u[p++],E=u[p++],I=a[v],D=o.data[v];null!==D.setInput?D.setInput(I,f,d,E):I[E]=f}}function pa(o,a,u){const d=tu(a,o);!function(o,a,u){an(o)?o.setValue(a,u):a.textContent=u}(o[11],d,u)}function wg(o,a,u){let d=u?o.styles:null,f=u?o.classes:null,p=0;if(null!==a)for(let v=0;v<a.length;v++){const E=a[v];"number"==typeof E?p=E:1==p?f=Y(f,E):2==p&&(d=Y(d,E+": "+a[++v]+";"))}u?o.styles=d:o.stylesWithoutHost=d,u?o.classes=f:o.classesWithoutHost=f}const Al=new Dn("INJECTOR",-1);class Eg{get(a,u=xo){if(u===xo){const d=new Error(`NullInjectorError: No provider for ${Q(a)}!`);throw d.name="NullInjectorError",d}return u}}const Vd=new Dn("Set Injector scope."),ci={},kv={};let Pi;function Ov(){return void 0===Pi&&(Pi=new Eg),Pi}function fm(o,a=null,u=null,d){return new fx(o,u,a||Ov(),d)}class fx{constructor(a,u,d,f=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];u&&yn(u,E=>this.processProvider(E,a,u)),yn([a],E=>this.processInjectorType(E,[],p)),this.records.set(Al,Ud(void 0,this));const v=this.records.get(Vd);this.scope=null!=v?v.value:null,this.source=f||("object"==typeof a?null:Q(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,u=xo,d=rt.Default){this.assertNotDestroyed();const f=Ls(this),p=Pt(void 0);try{if(!(d&rt.SkipSelf)){let E=this.records.get(a);if(void 0===E){const I=("function"==typeof(o=a)||"object"==typeof o&&o instanceof Dn)&&Cn(a);E=I&&this.injectableDefInScope(I)?Ud(gm(a),ci):null,this.records.set(a,E)}if(null!=E)return this.hydrate(a,E)}return(d&rt.Self?Ov():this.parent).get(a,u=d&rt.Optional&&u===xo?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[Ps]=v[Ps]||[]).unshift(Q(a)),f)throw v;return J_(v,a,"R3InjectorError",this.source)}throw v}finally{Pt(p),Ls(f)}var o}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((d,f)=>a.push(Q(f))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(a,u,d){if(!(a=ue(a)))return!1;let f=uo(a);const p=null==f&&a.ngModule||void 0,v=void 0===p?a:p,E=-1!==d.indexOf(v);if(void 0!==p&&(f=uo(p)),null==f)return!1;if(null!=f.imports&&!E){let M;d.push(v);try{yn(f.imports,O=>{this.processInjectorType(O,u,d)&&(void 0===M&&(M=[]),M.push(O))})}finally{}if(void 0!==M)for(let O=0;O<M.length;O++){const{ngModule:F,providers:U}=M[O];yn(U,J=>this.processProvider(J,F,U||re))}}this.injectorDefTypes.add(v);const I=ur(v)||(()=>new v);this.records.set(v,Ud(I,ci));const D=f.providers;if(null!=D&&!E){const M=a;yn(D,O=>this.processProvider(O,M,D))}return void 0!==p&&void 0!==a.providers}processProvider(a,u,d){let f=qu(a=ue(a))?a:ue(a&&a.provide);const p=zu(o=a)?Ud(void 0,o.useValue):Ud(px(o),ci);var o;if(qu(a)||!0!==a.multi)this.records.get(f);else{let v=this.records.get(f);v||(v=Ud(void 0,ci,!0),v.factory=()=>Bs(v.multi),this.records.set(f,v)),f=a,v.multi.push(a)}this.records.set(f,p)}hydrate(a,u){return u.value===ci&&(u.value=kv,u.value=u.factory()),"object"==typeof u.value&&u.value&&null!==(o=u.value)&&"object"==typeof o&&"function"==typeof o.ngOnDestroy&&this.onDestroy.add(u.value),u.value;var o}injectableDefInScope(a){if(!a.providedIn)return!1;const u=ue(a.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function gm(o){const a=Cn(o),u=null!==a?a.factory:ur(o);if(null!==u)return u;if(o instanceof Dn)throw new Error(`Token ${Q(o)} is missing a \u0275prov definition.`);if(o instanceof Function)return function(o){const a=o.length;if(a>0){const d=Ns(a,"?");throw new Error(`Can't resolve all parameters for ${Q(o)}: (${d.join(", ")}).`)}const u=function(o){const a=o&&(o[ts]||o[hi]);if(a){const u=function(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),a}return null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new Error("unreachable")}function px(o,a,u){let d;if(qu(o)){const f=ue(o);return ur(f)||gm(f)}if(zu(o))d=()=>ue(o.useValue);else if(function(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...Bs(o.deps||[]));else if(function(o){return!(!o||!o.useExisting)}(o))d=()=>en(ue(o.useExisting));else{const f=ue(o&&(o.useClass||o.provide));if(!function(o){return!!o.deps}(o))return ur(f)||gm(f);d=()=>new f(...Bs(o.deps))}return d}function Ud(o,a,u=!1){return{factory:o,value:a,multi:u?[]:void 0}}function zu(o){return null!==o&&"object"==typeof o&&ad in o}function qu(o){return"function"==typeof o}const _x=function(o,a,u){return function(o,a=null,u=null,d){const f=fm(o,a,u,d);return f._resolveInjectorDefTypes(),f}({name:u},a,o,u)};let _n=(()=>{class o{static create(u,d){return Array.isArray(u)?_x(u,d,""):_x(u.providers,u.parent,u.name||"")}}return o.THROW_IF_NOT_FOUND=xo,o.NULL=new Eg,o.\u0275prov=Jt({token:o,providedIn:"any",factory:()=>en(Al)}),o.__NG_ELEMENT_ID__=-1,o})();function Zv(o,a){Yc(Kf(o)[1],xn())}function Kv(o){let a=function(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),u=!0;const d=[o];for(;a;){let f;if(Lr(o))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Error("Directives cannot inherit Components");f=a.\u0275dir}if(f){if(u){d.push(f);const v=o;v.inputs=_m(o.inputs),v.declaredInputs=_m(o.declaredInputs),v.outputs=_m(o.outputs);const E=f.hostBindings;E&&vm(o,E);const I=f.viewQuery,D=f.contentQueries;if(I&&kx(o,I),D&&Ox(o,D),L(o.inputs,f.inputs),L(o.declaredInputs,f.declaredInputs),L(o.outputs,f.outputs),Lr(f)&&f.data.animation){const M=o.data;M.animation=(M.animation||[]).concat(f.data.animation)}}const p=f.features;if(p)for(let v=0;v<p.length;v++){const E=p[v];E&&E.ngInherit&&E(o),E===Kv&&(u=!1)}}a=Object.getPrototypeOf(a)}!function(o){let a=0,u=null;for(let d=o.length-1;d>=0;d--){const f=o[d];f.hostVars=a+=f.hostVars,f.hostAttrs=hu(f.hostAttrs,u=hu(u,f.hostAttrs))}}(d)}function _m(o){return o===ee?{}:o===re?[]:o}function kx(o,a){const u=o.viewQuery;o.viewQuery=u?(d,f)=>{a(d,f),u(d,f)}:a}function Ox(o,a){const u=o.contentQueries;o.contentQueries=u?(d,f,p)=>{a(d,f,p),u(d,f,p)}:a}function vm(o,a){const u=o.hostBindings;o.hostBindings=u?(d,f)=>{a(d,f),u(d,f)}:a}let wm=null;function Hd(){if(!wm){const o=At.Symbol;if(o&&o.iterator)wm=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<a.length;++u){const d=a[u];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(wm=d)}}}return wm}class _s{constructor(a){this.wrapped=a}static wrap(a){return new _s(a)}static unwrap(a){return _s.isWrapped(a)?a.wrapped:a}static isWrapped(a){return a instanceof _s}}function yl(o){return!!Em(o)&&(Array.isArray(o)||!(o instanceof Map)&&Hd()in o)}function Em(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function vn(o,a,u){return o[a]=u}function Jn(o,a,u){return!Object.is(o[a],u)&&(o[a]=u,!0)}function ko(o,a,u,d){const f=Jn(o,a,u);return Jn(o,a+1,d)||f}function bm(o,a,u,d){const f=De();return Jn(f,_o(),a)&&(Ot(),ys(In(),f,o,a,u,d)),bm}function Oo(o,a,u,d){return Jn(o,_o(),u)?a+Ee(u)+d:vt}function qd(o,a,u,d,f,p,v,E){const I=De(),D=Ot(),M=o+20,O=D.firstCreatePass?function(o,a,u,d,f,p,v,E,I){const D=a.consts,M=Nd(a,o,4,v||null,ls(D,E));xv(a,u,M,ls(D,I)),Yc(a,M);const O=M.tViews=ms(2,M,d,f,p,a.directiveRegistry,a.pipeRegistry,null,a.schemas,D);return null!==a.queries&&(a.queries.template(a,M),O.queries=a.queries.embeddedTView(M)),M}(M,D,I,a,u,d,f,p,v):D.data[M];us(O,!1);const F=I[11].createComment("");Rd(D,I,F,O),gi(F,I),ze(I,I[M]=lx(F,I,F,O)),Ua(O)&&Fd(D,I,O),null!=v&&cm(I,O,E)}function Dm(o){return nu(ht.lFrame.contextLView,20+o)}function va(o,a=rt.Default){const u=De();return null===u?en(o,a):Bt(xn(),u,ue(o),a)}function Yx(){throw new Error("invalid")}function Pn(o,a,u){const d=De();return Jn(d,_o(),a)&&Dr(Ot(),In(),d,o,a,d[11],u,!1),Pn}function km(o,a,u,d,f){const v=f?"class":"style";cx(o,u,a.inputs[v],v,d)}function fw(o,a,u,d){const f=De(),p=Ot(),v=20+o,E=f[11],I=f[v]=pi(E,a,ht.lFrame.currentNamespace),D=p.firstCreatePass?function(o,a,u,d,f,p,v){const E=a.consts,D=Nd(a,o,2,f,ls(E,p));return xv(a,u,D,ls(E,v)),null!==D.attrs&&wg(D,D.attrs,!1),null!==D.mergedAttrs&&wg(D,D.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,D),D}(v,p,f,0,a,u,d):p.data[v];us(D,!0);const M=D.mergedAttrs;null!==M&&vo(E,I,M);const O=D.classes;null!==O&&im(E,I,O);const F=D.styles;null!==F&&RC(E,I,F),64!=(64&D.flags)&&Rd(p,f,I,D),0===ht.lFrame.elementDepthCount&&gi(I,f),ht.lFrame.elementDepthCount++,Ua(D)&&(Fd(p,f,D),$C(p,D,f)),null!==d&&cm(f,D)}function gw(){let o=xn();hf()?su():(o=o.parent,us(o,!1));const a=o;ht.lFrame.elementDepthCount--;const u=Ot();u.firstCreatePass&&(Yc(u,o),Va(o)&&u.queries.elementEnd(o)),null!=a.classesWithoutHost&&function(o){return 0!=(16&o.flags)}(a)&&km(u,a,De(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function(o){return 0!=(32&o.flags)}(a)&&km(u,a,De(),a.stylesWithoutHost,!1)}function Wx(o,a,u,d){fw(o,a,u,d),gw()}function Om(o,a,u){const d=De(),f=Ot(),p=o+20,v=f.firstCreatePass?function(o,a,u,d,f){const p=a.consts,v=ls(p,d),E=Nd(a,o,8,"ng-container",v);return null!==v&&wg(E,v,!0),xv(a,u,E,ls(p,f)),null!==a.queries&&a.queries.elementStart(a,E),E}(p,f,d,a,u):f.data[p];us(v,!0);const E=d[p]=d[11].createComment("");Rd(f,d,E,v),gi(E,d),Ua(v)&&(Fd(f,d,v),$C(f,v,d)),null!=u&&cm(d,v)}function Wd(){let o=xn();const a=Ot();hf()?su():(o=o.parent,us(o,!1)),a.firstCreatePass&&(Yc(a,o),Va(o)&&a.queries.elementEnd(o))}function pw(o,a,u){Om(o,a,u),Wd()}function Fo(){return De()}function Nm(o){return!!o&&"function"==typeof o.then}function Jx(o){return!!o&&"function"==typeof o.subscribe}const Ug=Jx;function ec(o,a,u,d){const f=De(),p=Ot(),v=xn();return function(o,a,u,d,f,p,v,E){const I=Ua(d),M=o.firstCreatePass&&vg(o),O=a[8],F=Ai(a);let U=!0;if(3&d.type||E){const ne=qi(d,a),Oe=E?E(ne):ne,xe=F.length,it=E?Ye=>E(mn(Ye[d.index])):d.index;if(an(u)){let Ye=null;if(!E&&I&&(Ye=function(o,a,u,d){const f=o.cleanup;if(null!=f)for(let p=0;p<f.length-1;p+=2){const v=f[p];if(v===u&&f[p+1]===d){const E=a[7],I=f[p+2];return E.length>I?E[I]:null}"string"==typeof v&&(p+=2)}return null}(o,a,f,d.index)),null!==Ye)(Ye.__ngLastListenerFn__||Ye).__ngNextListenerFn__=p,Ye.__ngLastListenerFn__=p,U=!1;else{p=Hg(d,a,O,p,!1);const St=u.listen(Oe,f,p);F.push(p,St),M&&M.push(f,it,xe,xe+1)}}else p=Hg(d,a,O,p,!0),Oe.addEventListener(f,p,v),F.push(p),M&&M.push(f,it,xe,v)}else p=Hg(d,a,O,p,!1);const J=d.outputs;let de;if(U&&null!==J&&(de=J[f])){const ne=de.length;if(ne)for(let Oe=0;Oe<ne;Oe+=2){const bn=a[de[Oe]][de[Oe+1]].subscribe(p),Qt=F.length;F.push(p,bn),M&&M.push(f,d.index,Qt,-(Qt+1))}}}(p,f,f[11],v,o,a,!!u,d),ec}function yw(o,a,u,d){try{return!1!==u(d)}catch(f){return ga(o,f),!1}}function Hg(o,a,u,d,f){return function p(v){if(v===Function)return d;const E=2&o.flags?Yn(o.index,a):a;0==(32&a[2])&&yg(E);let I=yw(a,0,d,v),D=p.__ngNextListenerFn__;for(;D;)I=yw(a,0,D,v)&&I,D=D.__ngNextListenerFn__;return f&&!1===I&&(v.preventDefault(),v.returnValue=!1),I}}function jg(o=1){return function(o){return(ht.lFrame.contextLView=function(o,a){for(;o>0;)a=a[15],o--;return a}(o,ht.lFrame.contextLView))[8]}(o)}function cT(o,a){let u=null;const d=function(o){const a=o.attrs;if(null!=a){const u=a.indexOf(5);if(0==(1&u))return a[u+1]}return null}(o);for(let f=0;f<a.length;f++){const p=a[f];if("*"!==p){if(null===d?rm(o,p,!0):ES(d,p))return f}else u=f}return u}function _w(o){const a=De()[16][6];if(!a.projection){const d=a.projection=Ns(o?o.length:1,null),f=d.slice();let p=a.child;for(;null!==p;){const v=o?cT(p,o):0;null!==v&&(f[v]?f[v].projectionNext=p:d[v]=p,f[v]=p),p=p.next}}}function Zd(o,a=0,u){const d=De(),f=Ot(),p=Nd(f,20+o,16,null,u||null);null===p.projection&&(p.projection=a),su(),64!=(64&p.flags)&&function(o,a,u){Hs(a[11],0,a,u,CC(o,u,a),DC(u.parent||a[6],u,a))}(f,d,p)}function zg(o,a,u,d,f){const p=o[u+1],v=null===a;let E=d?js(p):ha(p),I=!1;for(;0!==E&&(!1===I||v);){const M=o[E+1];zr(o[E],a)&&(I=!0,o[E+1]=d?Od(M):fv(M)),E=d?js(M):ha(M)}I&&(o[u+1]=d?fv(p):Od(p))}function zr(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&Fs(o,a)>=0}const Kn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function xw(o){return o.substring(Kn.key,Kn.keyEnd)}function Jd(o){return o.substring(Kn.value,Kn.valueEnd)}function Dw(o,a){const u=Kn.textEnd;let d=Kn.key=Cl(o,a,u);return u===d?-1:(d=Kn.keyEnd=function(o,a,u){let d;for(;a<u&&(45===(d=o.charCodeAt(a))||95===d||(-33&d)>=65&&(-33&d)<=90||d>=48&&d<=57);)a++;return a}(o,d,u),d=Tw(o,d,u),d=Kn.value=Cl(o,d,u),d=Kn.valueEnd=function(o,a,u){let d=-1,f=-1,p=-1,v=a,E=v;for(;v<u;){const I=o.charCodeAt(v++);if(59===I)return E;34===I||39===I?E=v=hT(o,I,v,u):a===v-4&&85===p&&82===f&&76===d&&40===I?E=v=hT(o,41,v,u):I>32&&(E=v),p=f,f=d,d=-33&I}return E}(o,d,u),Tw(o,d,u))}function Cl(o,a,u){for(;a<u&&o.charCodeAt(a)<=32;)a++;return a}function Tw(o,a,u,d){return(a=Cl(o,a,u))<u&&a++,a}function hT(o,a,u,d){let f=-1,p=u;for(;p<d;){const v=o.charCodeAt(p++);if(v==a&&92!==f)return p;f=92==v&&92===f?0:v}throw new Error}function xl(o,a,u){return fr(o,a,u,!1),xl}function Po(o,a){return fr(o,a,null,!0),Po}function qr(o){!function(o,a,u,d){const f=Ot(),p=cs(2);f.firstUpdatePass&&gt(f,null,p,d);const v=De();if(u!==vt&&Jn(v,p,u)){const E=f.data[cr()];if(Mw(E,d)&&!tt(f,p)){let I=d?E.classesWithoutHost:E.stylesWithoutHost;null!==I&&(u=Y(I,u||"")),km(f,E,v,u,d)}else!function(o,a,u,d,f,p,v,E){f===vt&&(f=re);let I=0,D=0,M=0<f.length?f[0]:null,O=0<p.length?p[0]:null;for(;null!==M||null!==O;){const F=I<f.length?f[I+1]:void 0,U=D<p.length?p[D+1]:void 0;let de,J=null;M===O?(I+=2,D+=2,F!==U&&(J=O,de=U)):null===O||null!==M&&M<O?(I+=2,J=M):(D+=2,J=O,de=U),null!==J&&n0(o,a,u,d,J,de,v,E),M=I<f.length?f[I]:null,O=D<p.length?p[D]:null}}(f,E,v,v[11],v[p+1],v[p+1]=function(o,a,u){if(null==u||""===u)return re;const d=[],f=Do(u);if(Array.isArray(f))for(let p=0;p<f.length;p++)o(d,f[p],!0);else if("object"==typeof f)for(const p in f)f.hasOwnProperty(p)&&o(d,p,f[p]);else"string"==typeof f&&a(d,f);return d}(o,a,u),d,p)}}(t0,fT,o,!1)}function fT(o,a){for(let u=function(o){return function(o){Kn.key=0,Kn.keyEnd=0,Kn.value=0,Kn.valueEnd=0,Kn.textEnd=o.length}(o),Dw(o,Cl(o,0,Kn.textEnd))}(a);u>=0;u=Dw(a,u))t0(o,xw(a),Jd(a))}function fr(o,a,u,d){const f=De(),p=Ot(),v=cs(2);p.firstUpdatePass&&gt(p,o,v,d),a!==vt&&Jn(f,v,a)&&n0(p,p.data[cr()],f,f[11],o,f[v+1]=function(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=Q(Do(o)))),o}(a,u),d,v)}function tt(o,a){return a>=o.expandoStartIndex}function gt(o,a,u,d){const f=o.data;if(null===f[u+1]){const p=f[cr()],v=tt(o,u);Mw(p,d)&&null===a&&!v&&(a=!1),a=function(o,a,u,d){const f=function(o){const a=ht.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let p=d?a.residualClasses:a.residualStyles;if(null===f)0===(d?a.classBindings:a.styleBindings)&&(u=Kd(u=$n(null,o,a,u,d),a.attrs,d),p=null);else{const v=a.directiveStylingLast;if(-1===v||o[v]!==f)if(u=$n(f,o,a,u,d),null===p){let I=function(o,a,u){const d=u?a.classBindings:a.styleBindings;if(0!==ha(d))return o[js(d)]}(o,a,d);void 0!==I&&Array.isArray(I)&&(I=$n(null,o,a,I[1],d),I=Kd(I,a.attrs,d),function(o,a,u,d){o[js(u?a.classBindings:a.styleBindings)]=d}(o,a,d,I))}else p=function(o,a,u){let d;const f=a.directiveEnd;for(let p=1+a.directiveStylingLast;p<f;p++)d=Kd(d,o[p].hostAttrs,u);return Kd(d,a.attrs,u)}(o,a,d)}return void 0!==p&&(d?a.residualClasses=p:a.residualStyles=p),u}(f,p,a,d),function(o,a,u,d,f,p){let v=p?a.classBindings:a.styleBindings,E=js(v),I=ha(v);o[d]=u;let M,D=!1;if(Array.isArray(u)){const O=u;M=O[1],(null===M||Fs(O,M)>0)&&(D=!0)}else M=u;if(f)if(0!==I){const F=js(o[E+1]);o[d+1]=fg(F,E),0!==F&&(o[F+1]=om(o[F+1],d)),o[E+1]=function(o,a){return 131071&o|a<<17}(o[E+1],d)}else o[d+1]=fg(E,0),0!==E&&(o[E+1]=om(o[E+1],d)),E=d;else o[d+1]=fg(I,0),0===E?E=d:o[I+1]=om(o[I+1],d),I=d;D&&(o[d+1]=fv(o[d+1])),zg(o,M,d,!0),zg(o,M,d,!1),function(o,a,u,d,f){const p=f?o.residualClasses:o.residualStyles;null!=p&&"string"==typeof a&&Fs(p,a)>=0&&(u[d+1]=Od(u[d+1]))}(a,M,o,d,p),v=fg(E,I),p?a.classBindings=v:a.styleBindings=v}(f,p,a,u,v,d)}}function $n(o,a,u,d,f){let p=null;const v=u.directiveEnd;let E=u.directiveStylingLast;for(-1===E?E=u.directiveStart:E++;E<v&&(p=a[E],d=Kd(d,p.hostAttrs,f),p!==o);)E++;return null!==o&&(u.directiveStylingLast=E),d}function Kd(o,a,u){const d=u?1:2;let f=-1;if(null!==a)for(let p=0;p<a.length;p++){const v=a[p];"number"==typeof v?f=v:f===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Zi(o,v,!!u||a[++p]))}return void 0===o?null:o}function t0(o,a,u){Zi(o,a,Do(u))}function n0(o,a,u,d,f,p,v,E){if(!(3&a.type))return;const I=o.data,D=I[E+1];tr(function(o){return 1==(1&o)}(D)?r0(I,a,u,f,ha(D),v):void 0)||(tr(p)||function(o){return 2==(2&o)}(D)&&(p=r0(I,null,u,f,E,v)),function(o,a,u,d,f){const p=an(o);if(a)f?p?o.addClass(u,d):u.classList.add(d):p?o.removeClass(u,d):u.classList.remove(d);else{let v=-1===d.indexOf("-")?void 0:So.DashCase;if(null==f)p?o.removeStyle(u,d,v):u.style.removeProperty(d);else{const E="string"==typeof f&&f.endsWith("!important");E&&(f=f.slice(0,-10),v|=So.Important),p?o.setStyle(u,d,f,v):u.style.setProperty(d,f,E?"important":"")}}}(d,v,tu(cr(),u),f,p))}function r0(o,a,u,d,f,p){const v=null===a;let E;for(;f>0;){const I=o[f],D=Array.isArray(I),M=D?I[1]:I,O=null===M;let F=u[f+1];F===vt&&(F=O?re:void 0);let U=O?ed(F,d):M===d?F:void 0;if(D&&!tr(U)&&(U=ed(I,d)),tr(U)&&(E=U,v))return E;const J=o[f+1];f=v?js(J):ha(J)}if(null!==a){let I=p?a.residualClasses:a.residualStyles;null!=I&&(E=ed(I,d))}return E}function tr(o){return void 0!==o}function Mw(o,a){return 0!=(o.flags&(a?16:32))}function Nt(o,a=""){const u=De(),d=Ot(),f=o+20,p=d.firstCreatePass?Nd(d,f,1,a,null):d.data[f],v=u[f]=function(o,a){return an(o)?o.createText(a):o.createTextNode(a)}(u[11],a);Rd(d,u,v,p),us(p,!1)}function Il(o){return Yg("",o,""),Il}function Yg(o,a,u){const d=De(),f=Oo(d,o,a,u);return f!==vt&&pa(d,cr(),f),Yg}function Xn(o,a,u,d,f){const p=De(),v=function(o,a,u,d,f,p){const E=ko(o,Yi(),u,f);return cs(2),E?a+Ee(u)+d+Ee(f)+p:vt}(p,o,a,u,d,f);return v!==vt&&pa(p,cr(),v),Xn}function Nw(o,a,u){qr(Oo(De(),o,a,u))}function th(o,a,u){const d=De();return Jn(d,_o(),a)&&Dr(Ot(),In(),d,o,a,d[11],u,!0),th}const Ln=void 0;var wn=["en",[["a","p"],["AM","PM"],Ln],[["AM","PM"],Ln,Ln],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ln,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ln,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ln,"{1} 'at' {0}",Ln],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(o){const a=Math.floor(Math.abs(o)),u=o.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let ih={};function rc(o){const a=function(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=$g(a);if(u)return u;const d=a.split("-")[0];if(u=$g(d),u)return u;if("en"===d)return wn;throw new Error(`Missing locale data for the locale "${o}".`)}function Kg(o){return rc(o)[ct.PluralCase]}function $g(o){return o in ih||(ih[o]=At.ng&&At.ng.common&&At.ng.common.locales&&At.ng.common.locales[o]),ih[o]}var ct=(()=>((ct=ct||{})[ct.LocaleId=0]="LocaleId",ct[ct.DayPeriodsFormat=1]="DayPeriodsFormat",ct[ct.DayPeriodsStandalone=2]="DayPeriodsStandalone",ct[ct.DaysFormat=3]="DaysFormat",ct[ct.DaysStandalone=4]="DaysStandalone",ct[ct.MonthsFormat=5]="MonthsFormat",ct[ct.MonthsStandalone=6]="MonthsStandalone",ct[ct.Eras=7]="Eras",ct[ct.FirstDayOfWeek=8]="FirstDayOfWeek",ct[ct.WeekendRange=9]="WeekendRange",ct[ct.DateFormat=10]="DateFormat",ct[ct.TimeFormat=11]="TimeFormat",ct[ct.DateTimeFormat=12]="DateTimeFormat",ct[ct.NumberSymbols=13]="NumberSymbols",ct[ct.NumberFormats=14]="NumberFormats",ct[ct.CurrencyCode=15]="CurrencyCode",ct[ct.CurrencySymbol=16]="CurrencySymbol",ct[ct.CurrencyName=17]="CurrencyName",ct[ct.Currencies=18]="Currencies",ct[ct.Directionality=19]="Directionality",ct[ct.PluralCase=20]="PluralCase",ct[ct.ExtraData=21]="ExtraData",ct))();const Xg="en-US";let ep=Xg;function Tl(o){rn(o,"Expected localeId to be defined"),"string"==typeof o&&(ep=o.toLowerCase().replace(/_/g,"-"))}function ty(o,a,u,d,f){if(o=ue(o),Array.isArray(o))for(let p=0;p<o.length;p++)ty(o[p],a,u,d,f);else{const p=Ot(),v=De();let E=qu(o)?o:ue(o.provide),I=px(o);const D=xn(),M=1048575&D.providerIndexes,O=D.directiveStart,F=D.providerIndexes>>20;if(qu(o)||!o.multi){const U=new du(I,f,va),J=iE(E,a,f?M:M+F,O);-1===J?(Xa(ta(D,v),p,E),nE(p,o,a.length),a.push(E),D.directiveStart++,D.directiveEnd++,f&&(D.providerIndexes+=1048576),u.push(U),v.push(U)):(u[J]=U,v[J]=U)}else{const U=iE(E,a,M+F,O),J=iE(E,a,M,M+F),de=U>=0&&u[U],ne=J>=0&&u[J];if(f&&!ne||!f&&!de){Xa(ta(D,v),p,E);const Oe=function(o,a,u,d,f){const p=new du(o,u,va);return p.multi=[],p.index=a,p.componentProviders=0,w0(p,f,d&&!u),p}(f?E0:op,u.length,f,d,I);!f&&ne&&(u[J].providerFactory=Oe),nE(p,o,a.length,0),a.push(E),D.directiveStart++,D.directiveEnd++,f&&(D.providerIndexes+=1048576),u.push(Oe),v.push(Oe)}else nE(p,o,U>-1?U:J,w0(u[f?J:U],I,!f&&d));!f&&d&&ne&&u[J].componentProviders++}}}function nE(o,a,u,d){const f=qu(a);if(f||function(o){return!!o.useClass}(a)){const v=(a.useClass||a).prototype.ngOnDestroy;if(v){const E=o.destroyHooks||(o.destroyHooks=[]);if(!f&&a.multi){const I=E.indexOf(u);-1===I?E.push(u,[d,v]):E[I+1].push(d,v)}else E.push(u,v)}}}function w0(o,a,u){return u&&o.componentProviders++,o.multi.push(a)-1}function iE(o,a,u,d){for(let f=u;f<d;f++)if(a[f]===o)return f;return-1}function op(o,a,u,d){return rE(this.multi,[])}function E0(o,a,u,d){const f=this.multi;let p;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=na(u,u[1],this.providerFactory.index,d);p=E.slice(0,v),rE(f,p);for(let I=v;I<E.length;I++)p.push(E[I])}else p=[],rE(f,p);return p}function rE(o,a){for(let u=0;u<o.length;u++)a.push((0,o[u])());return a}function ny(o,a=[]){return u=>{u.providersResolver=(d,f)=>function(o,a,u){const d=Ot();if(d.firstCreatePass){const f=Lr(o);ty(u,d.data,d.blueprint,f,!0),ty(a,d.data,d.blueprint,f,!1)}}(d,f?f(o):o,a)}}class fh{}const iy="ngComponent";class ap{resolveComponentFactory(a){throw function(o){const a=Error(`No component factory found for ${Q(o)}. Did you add it to @NgModule.entryComponents?`);return a[iy]=o,a}(a)}}let ac=(()=>{class o{}return o.NULL=new ap,o})();function sy(...o){}function Ea(o,a){return new qs(qi(o,a))}const x0=function(){return Ea(xn(),De())};let qs=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=x0,o})();function sE(o){return o instanceof qs?o.nativeElement:o}class lp{}let I0=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>HT(),o})();const HT=function(){const o=De(),u=Yn(xn().index,o);return function(o){return o[11]}(Hn(u)?u:o)};let oE=(()=>{class o{}return o.\u0275prov=Jt({token:o,providedIn:"root",factory:()=>null}),o})();class S0{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const aE=new S0("12.2.6");class lE{constructor(){}supports(a){return yl(a)}create(a){return new T0(a)}}const Ys=(o,a)=>a;class T0{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||Ys}forEachItem(a){let u;for(u=this._itHead;null!==u;u=u._next)a(u)}forEachOperation(a){let u=this._itHead,d=this._removalsHead,f=0,p=null;for(;u||d;){const v=!d||u&&u.currentIndex<Ca(d,f,p)?u:d,E=Ca(v,f,p),I=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(u=u._next,null==v.previousIndex)f++;else{p||(p=[]);const D=E-f,M=I-f;if(D!=M){for(let F=0;F<D;F++){const U=F<p.length?p[F]:p[F]=0,J=U+F;M<=J&&J<D&&(p[F]=U+1)}p[v.previousIndex]=M-D}}E!==I&&a(v,E,I)}}forEachPreviousItem(a){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachMovedItem(a){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}forEachIdentityChange(a){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)a(u)}diff(a){if(null==a&&(a=[]),!yl(a))throw new Error(`Error trying to diff '${Q(a)}'. Only arrays and iterables are allowed`);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,p,v,u=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let E=0;E<this.length;E++)p=a[E],v=this._trackByFn(E,p),null!==u&&Object.is(u.trackById,v)?(d&&(u=this._verifyReinsertion(u,p,v,E)),Object.is(u.item,p)||this._addIdentityChange(u,p)):(u=this._mismatch(u,p,v,E),d=!0),u=u._next}else f=0,function(o,a){if(Array.isArray(o))for(let u=0;u<o.length;u++)a(o[u]);else{const u=o[Hd()]();let d;for(;!(d=u.next()).done;)a(d.value)}}(a,E=>{v=this._trackByFn(f,E),null!==u&&Object.is(u.trackById,v)?(d&&(u=this._verifyReinsertion(u,E,v,f)),Object.is(u.item,E)||this._addIdentityChange(u,E)):(u=this._mismatch(u,E,v,f),d=!0),u=u._next,f++}),this.length=f;return this._truncate(u),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,u,d,f){let p;return null===a?p=this._itTail:(p=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._reinsertAfter(a,p,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._moveAfter(a,p,f)):a=this._addAfter(new ba(u,d),p,f),a}_verifyReinsertion(a,u,d,f){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?a=this._reinsertAfter(p,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const u=a._next;this._addToRemovals(this._unlink(a)),a=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,p=a._nextRemoved;return null===f?this._removalsHead=p:f._nextRemoved=p,null===p?this._removalsTail=f:p._prevRemoved=f,this._insertAfter(a,u,d),this._addToMoves(a,d),a}_moveAfter(a,u,d){return this._unlink(a),this._insertAfter(a,u,d),this._addToMoves(a,d),a}_addAfter(a,u,d){return this._insertAfter(a,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,u,d){const f=null===u?this._itHead:u._next;return a._next=f,a._prev=u,null===f?this._itTail=a:f._prev=a,null===u?this._itHead=a:u._next=a,null===this._linkedRecords&&(this._linkedRecords=new Mr),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const u=a._prev,d=a._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,a}_addToMoves(a,u){return a.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Mr),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,u){return a.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class ba{constructor(a,u){this.item=a,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class jT{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const u=a._prevDup,d=a._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class Mr{constructor(){this.map=new Map}put(a){const u=a.trackById;let d=this.map.get(u);d||(d=new jT,this.map.set(u,d)),d.add(a)}get(a,u){const f=this.map.get(a);return f?f.get(a,u):null}remove(a){const u=a.trackById;return this.map.get(u).remove(a)&&this.map.delete(u),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ca(o,a,u){const d=o.previousIndex;if(null===d)return d;let f=0;return u&&d<u.length&&(f=u[d]),d+a+f}class un{constructor(){}supports(a){return a instanceof Map||Em(a)}create(){return new nr}}class nr{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let u;for(u=this._mapHead;null!==u;u=u._next)a(u)}forEachPreviousItem(a){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)a(u)}forEachChangedItem(a){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}diff(a){if(a){if(!(a instanceof Map||Em(a)))throw new Error(`Error trying to diff '${Q(a)}'. Only maps and objects are allowed`)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,f)=>{if(u&&u.key===f)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const p=this._getOrCreateRecordForKey(f,d);u=this._insertBeforeOrAppend(u,p)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,u){if(a){const d=a._prev;return u._next=a,u._prev=d,a._prev=u,d&&(d._next=u),a===this._mapHead&&(this._mapHead=u),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(a,u){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,u);const p=f._prev,v=f._next;return p&&(p._next=v),v&&(v._prev=p),f._next=null,f._prev=null,f}const d=new QT(a);return this._records.set(a,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,u){Object.is(u,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=u,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,u){a instanceof Map?a.forEach(u):Object.keys(a).forEach(d=>u(a[d],d))}}class QT{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function M0(){return new hn([new lE])}let hn=(()=>{class o{constructor(u){this.factories=u}static create(u,d){if(null!=d){const f=d.factories.slice();u=u.concat(f)}return new o(u)}static extend(u){return{provide:o,useFactory:d=>o.create(u,d||M0()),deps:[[o,new Ji,new gs]]}}find(u){const d=this.factories.find(f=>f.supports(u));if(null!=d)return d;throw new Error(`Cannot find a differ supporting object '${u}' of type '${function(o){return o.name||typeof o}(u)}'`)}}return o.\u0275prov=Jt({token:o,providedIn:"root",factory:M0}),o})();function pr(){return new ii([new un])}let ii=(()=>{class o{constructor(u){this.factories=u}static create(u,d){if(d){const f=d.factories.slice();u=u.concat(f)}return new o(u)}static extend(u){return{provide:o,useFactory:d=>o.create(u,d||pr()),deps:[[o,new Ji,new gs]]}}find(u){const d=this.factories.find(f=>f.supports(u));if(d)return d;throw new Error(`Cannot find a differ supporting object '${u}'`)}}return o.\u0275prov=Jt({token:o,providedIn:"root",factory:pr}),o})();function ir(o,a,u,d,f=!1){for(;null!==u;){const p=a[u.index];if(null!==p&&d.push(mn(p)),ki(p))for(let E=10;E<p.length;E++){const I=p[E],D=I[1].firstChild;null!==D&&ir(I[1],I,D,d)}const v=u.type;if(8&v)ir(o,a,u.child,d);else if(32&v){const E=av(u,a);let I;for(;I=E();)d.push(I)}else if(16&v){const E=MC(a,u);if(Array.isArray(E))d.push(...E);else{const I=Md(a[16]);ir(I[1],I,E,d,!0)}}u=f?u.projectionNext:u.next}return d}class Ws{constructor(a,u){this._lView=a,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,u=a[1];return ir(u,a,u.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(ki(a)){const u=a[8],d=u?u.indexOf(this):-1;d>-1&&($A(a,d),fs(u,d))}this._attachedToViewContainer=!1}XA(this._lView[1],this._lView)}onDestroy(a){tx(this._lView[1],this._lView,null,a)}markForCheck(){yg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){_g(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(o,a,u){au(!0);try{_g(o,a,u)}finally{au(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var a;this._appRef=null,cg(this._lView[1],a=this._lView,a[11],2,null,null)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=a}}class xa extends Ws{constructor(a){super(a),this._view=a}detectChanges(){Bd(this._view)}checkNoChanges(){!function(o){au(!0);try{Bd(o)}finally{au(!1)}}(this._view)}get context(){return null}}const zT=function(o){return function(o,a,u){if(An(o)&&!u){const d=Yn(o.index,a);return new Ws(d,d)}return 47&o.type?new Ws(a[16],a):null}(xn(),De(),16==(16&o))};let R0=(()=>{class o{}return o.__NG_ELEMENT_ID__=zT,o})();const oy=[new un],qT=new hn([new lE]),cp=new ii(oy),uc=function(){return yh(xn(),De())};let mh=(()=>{class o{}return o.__NG_ELEMENT_ID__=uc,o})();const uE=mh,O0=class extends uE{constructor(a,u,d){super(),this._declarationLView=a,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(a){const u=this._declarationTContainer.tViews,d=gg(this._declarationLView,u,a,16,null,u.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(d[19]=p.createEmbeddedView(u)),pg(u,d,a),new Ws(d)}};function yh(o,a){return 4&o.type?new O0(a,o,Ea(o,a)):null}class Ia{}const P0=function(){return cE(xn(),De())};let _h=(()=>{class o{}return o.__NG_ELEMENT_ID__=P0,o})();const vh=_h,cc=class extends vh{constructor(a,u,d){super(),this._lContainer=a,this._hostTNode=u,this._hostLView=d}get element(){return Ea(this._hostTNode,this._hostLView)}get injector(){return new tl(this._hostTNode,this._hostLView)}get parentInjector(){const a=gu(this._hostTNode,this._hostLView);if(z_(a)){const u=fu(a,this._hostLView),d=ea(a);return new tl(u[1].data[d+8],u)}return new tl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const u=dc(this._lContainer);return null!==u&&u[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,u,d){const f=a.createEmbeddedView(u||{});return this.insert(f,d),f}createComponent(a,u,d,f,p){const v=d||this.parentInjector;if(!p&&null==a.ngModule&&v){const I=v.get(Ia,null);I&&(p=I)}const E=a.create(v,f,void 0,p);return this.insert(E.hostView,u),E}insert(a,u){const d=a._lView,f=d[1];if(ki(d[3])){const M=this.indexOf(a);if(-1!==M)this.detach(M);else{const O=d[3],F=new cc(O,O[6],O[3]);F.detach(F.indexOf(a))}}const p=this._adjustIndex(u),v=this._lContainer;!function(o,a,u,d){const f=10+d,p=u.length;d>0&&(u[f-1][4]=a),d<p-10?(a[4]=u[f],vu(u,10+d,a)):(u.push(a),a[4]=null),a[3]=u;const v=a[17];null!==v&&u!==v&&function(o,a){const u=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===u?o[9]=[a]:u.push(a)}(v,a);const E=a[19];null!==E&&E.insertView(o),a[2]|=128}(f,d,v,p);const E=nm(p,v),I=d[11],D=em(I,v[7]);return null!==D&&function(o,a,u,d,f,p){d[0]=f,d[6]=a,cg(o,d,u,1,f,p)}(f,v[6],I,d,D,E),a.attachToViewContainerRef(),vu(hc(v),p,a),a}move(a,u){return this.insert(a,u)}indexOf(a){const u=dc(this._lContainer);return null!==u?u.indexOf(a):-1}remove(a){const u=this._adjustIndex(a,-1),d=$A(this._lContainer,u);d&&(fs(hc(this._lContainer),u),XA(d[1],d))}detach(a){const u=this._adjustIndex(a,-1),d=$A(this._lContainer,u);return d&&null!=fs(hc(this._lContainer),u)?new Ws(d):null}_adjustIndex(a,u=0){return null==a?this.length+u:a}};function dc(o){return o[8]}function hc(o){return o[8]||(o[8]=[])}function cE(o,a){let u;const d=a[o.index];if(ki(d))u=d;else{let f;if(8&o.type)f=mn(d);else{const p=a[11];f=p.createComment("");const v=qi(o,a);Vu(p,em(p,v),f,function(o,a){return an(o)?o.nextSibling(a):a.nextSibling}(p,v),!1)}a[o.index]=u=lx(d,a,f,o),ze(a,u)}return new cc(u,o,a)}const Kr={};class Ey extends ac{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const u=Ti(a);return new by(u,this.ngModule)}}function Ep(o){const a=[];for(let u in o)o.hasOwnProperty(u)&&a.push({propName:o[u],templateName:u});return a}const X0=new Dn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>rg});class by extends fh{constructor(a,u){super(),this.componentDef=a,this.ngModule=u,this.componentType=a.type,this.selector=a.selectors.map(Mo).join(","),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Ep(this.componentDef.inputs)}get outputs(){return Ep(this.componentDef.outputs)}create(a,u,d,f){const p=(f=f||this.ngModule)?function(o,a){return{get:(u,d,f)=>{const p=o.get(u,Kr,f);return p!==Kr||d===Kr?p:a.get(u,d,f)}}}(a,f.injector):a,v=p.get(lp,Vc),E=p.get(oE,null),I=v.createRenderer(null,this.componentDef),D=this.componentDef.selectors[0][0]||"div",M=d?function(o,a,u){if(an(o))return o.selectRootElement(a,u===Kt.ShadowDom);let d="string"==typeof a?o.querySelector(a):a;return d.textContent="",d}(I,d,this.componentDef.encapsulation):pi(v.createRenderer(null,this.componentDef),D,function(o){const a=o.toLowerCase();return"svg"===a?af:"math"===a?"http://www.w3.org/1998/MathML/":null}(D)),O=this.componentDef.onPush?576:528,F=function(o,a){return{components:[],scheduler:o||rg,clean:qS,playerHandler:a||null,flags:0}}(),U=ms(0,null,null,1,0,null,null,null,null,null),J=gg(null,U,F,O,null,null,v,I,E,p);let de,ne;zc(J);try{const Oe=function(o,a,u,d,f,p){const v=u[1];u[20]=o;const I=Nd(v,20,2,"#host",null),D=I.mergedAttrs=a.hostAttrs;null!==D&&(wg(I,D,!0),null!==o&&(vo(f,o,D),null!==I.classes&&im(f,o,I.classes),null!==I.styles&&RC(f,o,I.styles)));const M=d.createRenderer(o,a),O=gg(u,Ev(a),null,a.onPush?64:16,u[20],I,d,M,p||null,null);return v.firstCreatePass&&(Xa(ta(I,u),v,a.type),hm(v,I),mg(I,u.length,1)),ze(u,O),u[20]=O}(M,this.componentDef,J,v,I);if(M)if(d)vo(I,M,["ng-version",aE.full]);else{const{attrs:xe,classes:it}=function(o){const a=[],u=[];let d=1,f=2;for(;d<o.length;){let p=o[d];if("string"==typeof p)2===f?""!==p&&a.push(p,o[++d]):8===f&&u.push(p);else{if(!As(f))break;f=p}d++}return{attrs:a,classes:u}}(this.componentDef.selectors[0]);xe&&vo(I,M,xe),it&&it.length>0&&im(I,M,it.join(" "))}if(ne=Hc(U,20),void 0!==u){const xe=ne.projection=[];for(let it=0;it<this.ngContentSelectors.length;it++){const Ye=u[it];xe.push(null!=Ye?Array.from(Ye):null)}}de=function(o,a,u,d,f){const p=u[1],v=function(o,a,u){const d=xn();o.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),ax(o,d,a,ju(o,a,1,null),u));const f=na(a,o,d.directiveStart,d);gi(f,a);const p=qi(d,a);return p&&gi(p,a),f}(p,u,a);if(d.components.push(v),o[8]=v,f&&f.forEach(I=>I(v,a)),a.contentQueries){const I=xn();a.contentQueries(1,v,I.directiveStart)}const E=xn();return!p.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(Za(E.index),sx(u[1],E,0,E.directiveStart,E.directiveEnd,a),Iv(a,v)),v}(Oe,this.componentDef,J,F,[Zv]),pg(U,J,null)}finally{qc()}return new eI(this.componentType,de,Ea(ne,J),J,ne)}}class eI extends class{}{constructor(a,u,d,f,p){super(),this.location=d,this._rootLView=f,this._tNode=p,this.instance=u,this.hostView=this.changeDetectorRef=new xa(f),this.componentType=a}get injector(){return new tl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}const Mh=new Map;class dM extends Ia{constructor(a,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ey(this);const d=ji(a),f=a[kt]||null;f&&Tl(f),this._bootstrapComponents=xr(d.bootstrap),this._r3Injector=fm(a,u,[{provide:Ia,useValue:this},{provide:ac,useValue:this.componentFactoryResolver}],Q(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,u=_n.THROW_IF_NOT_FOUND,d=rt.Default){return a===_n||a===Ia||a===Al?this:this._r3Injector.get(a,u,d)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class bp extends class{}{constructor(a){super(),this.moduleType=a,null!==ji(a)&&function(o){const a=new Set;!function u(d){const f=ji(d,!0),p=f.id;null!==p&&(function(o,a,u){if(a&&a!==u)throw new Error(`Duplicate module registered for ${o} - ${Q(a)} vs ${Q(a.name)}`)}(p,Mh.get(p),d),Mh.set(p,d));const v=xr(f.imports);for(const E of v)a.has(E)||(a.add(E),u(E))}(o)}(a)}create(a){return new dM(this.moduleType,a)}}function xy(o,a,u,d){return Dy(De(),Wn(),o,a,u,d)}function _c(o,a,u,d,f){return function(o,a,u,d,f,p,v){const E=a+u;return ko(o,E,f,p)?vn(o,E+2,v?d.call(v,f,p):d(f,p)):Cp(o,E+2)}(De(),Wn(),o,a,u,d,f)}function Ma(o,a,u,d,f,p){return function(o,a,u,d,f,p,v,E){const I=a+u;return function(o,a,u,d,f){const p=ko(o,a,u,d);return Jn(o,a+2,f)||p}(o,I,f,p,v)?vn(o,I+3,E?d.call(E,f,p,v):d(f,p,v)):Cp(o,I+3)}(De(),Wn(),o,a,u,d,f,p)}function Iy(o,a,u,d,f,p,v){return function(o,a,u,d,f,p,v,E,I){const D=a+u;return function(o,a,u,d,f,p){const v=ko(o,a,u,d);return ko(o,a+2,f,p)||v}(o,D,f,p,v,E)?vn(o,D+4,I?d.call(I,f,p,v,E):d(f,p,v,E)):Cp(o,D+4)}(De(),Wn(),o,a,u,d,f,p,v)}function Cp(o,a){const u=o[a];return u===vt?void 0:u}function Dy(o,a,u,d,f,p){const v=a+u;return Jn(o,v,f)?vn(o,v+1,p?d.call(p,f):d(f)):Cp(o,v+1)}function oI(o,a){const u=Ot();let d;const f=o+20;u.firstCreatePass?(d=function(o,a){if(a)for(let u=a.length-1;u>=0;u--){const d=a[u];if(o===d.name)return d}throw new Fe("302",`The pipe '${o}' could not be found!`)}(a,u.pipeRegistry),u.data[f]=d,d.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(f,d.onDestroy)):d=u.data[f];const p=d.factory||(d.factory=ur(d.type)),v=Pt(va);try{const E=Cf(!1),I=p();return Cf(E),function(o,a,u,d){u>=o.data.length&&(o.data[u]=null,o.blueprint[u]=null),a[u]=d}(u,De(),f,I),I}finally{Pt(v)}}function Ry(o,a,u){const d=o+20,f=De(),p=nu(f,d);return function(o,a){_s.isWrapped(a)&&(a=_s.unwrap(a),o[Yi()]=vt);return a}(f,function(o,a){return o[1].data[a].pure}(f,d)?Dy(f,Wn(),a,p.transform,u,p):p.transform(u))}function GE(o){return a=>{setTimeout(o,void 0,a)}}const Uo=class extends c.xQ{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,u,d){var f,p,v;let E=a,I=u||(()=>null),D=d;if(a&&"object"==typeof a){const O=a;E=null===(f=O.next)||void 0===f?void 0:f.bind(O),I=null===(p=O.error)||void 0===p?void 0:p.bind(O),D=null===(v=O.complete)||void 0===v?void 0:v.bind(O)}this.__isAsync&&(I=GE(I),E&&(E=GE(E)),D&&(D=GE(D)));const M=super.subscribe({next:E,error:I,complete:D});return a instanceof ae.w&&a.add(M),M}};function pM(){return this._results[Hd()]()}class ky{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Hd(),d=ky.prototype;d[u]||(d[u]=pM)}get changes(){return this._changes||(this._changes=new Uo)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,u){return this._results.reduce(a,u)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,u){const d=this;d.dirty=!1;const f=dr(a);(this._changesDetected=!function(o,a,u){if(o.length!==a.length)return!1;for(let d=0;d<o.length;d++){let f=o[d],p=a[d];if(u&&(f=u(f),p=u(p)),p!==f)return!1}return!0}(d._results,f,u))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class QE{constructor(a){this.queryList=a,this.matches=null}clone(){return new QE(this.queryList)}setDirty(){this.queryList.setDirty()}}class xp{constructor(a=[]){this.queries=a}createEmbeddedView(a){const u=a.queries;if(null!==u){const d=null!==a.contentQueries?a.contentQueries[0]:u.length,f=[];for(let p=0;p<d;p++){const v=u.getByIndex(p);f.push(this.queries[v.indexInDeclarationView].clone())}return new xp(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let u=0;u<this.queries.length;u++)null!==Ly(a,u).matches&&this.queries[u].setDirty()}}class dI{constructor(a,u,d=null){this.predicate=a,this.flags=u,this.read=d}}class Ip{constructor(a=[]){this.queries=a}elementStart(a,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,u)}elementEnd(a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(a)}embeddedTView(a){let u=null;for(let d=0;d<this.length;d++){const f=null!==u?u.length:0,p=this.getByIndex(d).embeddedTView(a,f);p&&(p.indexInDeclarationView=d,null!==u?u.push(p):u=[p])}return null!==u?new Ip(u):null}template(a,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,u)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Oy{constructor(a,u=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(a,u){this.isApplyingToNode(u)&&this.matchTNode(a,u)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,u){this.elementStart(a,u)}embeddedTView(a,u){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,u),new Oy(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const p=d[f];this.matchTNodeWithReadOption(a,u,zE(u,p)),this.matchTNodeWithReadOption(a,u,Jc(u,a,p,!1,!1))}else d===mh?4&u.type&&this.matchTNodeWithReadOption(a,u,-1):this.matchTNodeWithReadOption(a,u,Jc(u,a,d,!1,!1))}matchTNodeWithReadOption(a,u,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===qs||f===_h||f===mh&&4&u.type)this.addMatch(u.index,-2);else{const p=Jc(u,a,f,!1,!1);null!==p&&this.addMatch(u.index,p)}else this.addMatch(u.index,d)}}addMatch(a,u){null===this.matches?this.matches=[a,u]:this.matches.push(a,u)}}function zE(o,a){const u=o.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===a)return u[d+1];return null}function AM(o,a,u,d){return-1===u?function(o,a){return 11&o.type?Ea(o,a):4&o.type?yh(o,a):null}(a,o):-2===u?function(o,a,u){return u===qs?Ea(a,o):u===mh?yh(a,o):u===_h?cE(a,o):void 0}(o,a,d):na(o,o[1],u,a)}function fI(o,a,u,d){const f=a[19].queries[d];if(null===f.matches){const p=o.data,v=u.matches,E=[];for(let I=0;I<v.length;I+=2){const D=v[I];E.push(D<0?null:AM(a,p[D],v[I+1],u.metadata.read))}f.matches=E}return f.matches}function Dp(o,a,u,d){const f=o.queries.getByIndex(u),p=f.matches;if(null!==p){const v=fI(o,a,f,u);for(let E=0;E<p.length;E+=2){const I=p[E];if(I>0)d.push(v[E/2]);else{const D=p[E+1],M=a[-I];for(let O=10;O<M.length;O++){const F=M[O];F[17]===F[3]&&Dp(F[1],F,D,d)}if(null!==M[9]){const O=M[9];for(let F=0;F<O.length;F++){const U=O[F];Dp(U[1],U,D,d)}}}}}return d}function gI(o){const a=De(),u=Ot(),d=Qc();pf(d+1);const f=Ly(u,d);if(o.dirty&&P_(a)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const p=f.crossesNgTemplate?Dp(u,a,d,[]):fI(u,a,f,d);o.reset(p,sE),o.notifyOnChanges()}return!0}return!1}function Ny(o,a,u){const d=Ot();d.firstCreatePass&&(vc(d,new dI(o,a,u),-1),2==(2&a)&&(d.staticViewQueries=!0)),Py(d,De(),a)}function pI(o,a,u,d){const f=Ot();if(f.firstCreatePass){const p=xn();vc(f,new dI(a,u,d),p.index),function(o,a){const u=o.contentQueries||(o.contentQueries=[]);a!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,a)}(f,o),2==(2&u)&&(f.staticContentQueries=!0)}Py(f,De(),u)}function Fy(){return o=De(),a=Qc(),o[19].queries[a].queryList;var o,a}function Py(o,a,u){const d=new ky(4==(4&u));tx(o,a,d,d.destroy),null===a[19]&&(a[19]=new xp),a[19].queries.push(new QE(d))}function vc(o,a,u){null===o.queries&&(o.queries=new Ip),o.queries.track(new Oy(a,u))}function Ly(o,a){return o.queries.getByIndex(a)}function mI(o,a){return yh(o,a)}const xM=$c("Input",o=>({bindingPropertyName:o})),IM=$c("Output",o=>({bindingPropertyName:o})),SI=$c("HostListener",(o,a)=>({eventName:o,args:a})),ab=new Dn("Application Initializer");let Ol=(()=>{class o{constructor(u){this.appInits=u,this.resolve=sy,this.reject=sy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const p=this.appInits[f]();if(Nm(p))u.push(p);else if(Ug(p)){const v=new Promise((E,I)=>{p.subscribe({complete:E,error:I})});u.push(v)}}Promise.all(u).then(()=>{d()}).catch(f=>{this.reject(f)}),0===u.length&&d(),this.initialized=!0}}return o.\u0275fac=function(u){return new(u||o)(en(ab,8))},o.\u0275prov=Jt({token:o,factory:o.\u0275fac}),o})();const kI=new Dn("AppId"),Un={provide:kI,useFactory:function(){return`${OI()}${OI()}${OI()}`},deps:[]};function OI(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const NM=new Dn("Platform Initializer"),ri=new Dn("Platform ID"),lb=new Dn("appBootstrapListener");let NI=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=Jt({token:o,factory:o.\u0275fac}),o})();const Pp=new Dn("LocaleId"),FI=new Dn("DefaultCurrencyCode");class PI{constructor(a,u){this.ngModuleFactory=a,this.componentFactories=u}}const ws=function(o){return new bp(o)},wc=ws,FM=function(o){return Promise.resolve(ws(o))},cb=function(o){const a=ws(o),d=xr(ji(o).declarations).reduce((f,p)=>{const v=Ti(p);return v&&f.push(new by(v)),f},[]);return new PI(a,d)},Ky=cb,$y=function(o){return Promise.resolve(cb(o))};let Fl=(()=>{class o{constructor(){this.compileModuleSync=wc,this.compileModuleAsync=FM,this.compileModuleAndAllComponentsSync=Ky,this.compileModuleAndAllComponentsAsync=$y}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=Jt({token:o,factory:o.\u0275fac}),o})();const LM=(()=>Promise.resolve(0))();function hb(o){"undefined"==typeof Zone?LM.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class mr{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Uo(!1),this.onMicrotaskEmpty=new Uo(!1),this.onStable=new Uo(!1),this.onError=new Uo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&u,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function(){let o=At.requestAnimationFrame,a=At.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&a){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function(o){const a=()=>{!function(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(At,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,e_(o),o.isCheckStableRunning=!0,Xy(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),e_(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,f,p,v,E)=>{try{return t_(o),u.invokeTask(f,p,v,E)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||o.shouldCoalesceRunChangeDetection)&&a(),n_(o)}},onInvoke:(u,d,f,p,v,E,I)=>{try{return t_(o),u.invoke(f,p,v,E,I)}finally{o.shouldCoalesceRunChangeDetection&&a(),n_(o)}},onHasTask:(u,d,f,p)=>{u.hasTask(f,p),d===f&&("microTask"==p.change?(o._hasPendingMicrotasks=p.microTask,e_(o),Xy(o)):"macroTask"==p.change&&(o.hasPendingMacrotasks=p.macroTask))},onHandleError:(u,d,f,p)=>(u.handleError(f,p),o.runOutsideAngular(()=>o.onError.emit(p)),!1)})}(f)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!mr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(mr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,u,d){return this._inner.run(a,u,d)}runTask(a,u,d,f){const p=this._inner,v=p.scheduleEventTask("NgZoneEvent: "+f,a,fb,sy,sy);try{return p.runTask(v,u,d)}finally{p.cancelTask(v)}}runGuarded(a,u,d){return this._inner.runGuarded(a,u,d)}runOutsideAngular(a){return this._outer.run(a)}}const fb={};function Xy(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function e_(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function t_(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function n_(o){o._nesting--,Xy(o)}class VM{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Uo,this.onMicrotaskEmpty=new Uo,this.onStable=new Uo,this.onError=new Uo}run(a,u,d){return a.apply(u,d)}runGuarded(a,u,d){return a.apply(u,d)}runOutsideAngular(a){return a()}runTask(a,u,d,f){return a.apply(u,d)}}let i_=(()=>{class o{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{mr.assertNotInAngularZone(),hb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())hb(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,f){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==p),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:p,updateCb:f})}whenStable(u,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,d,f){return[]}}return o.\u0275fac=function(u){return new(u||o)(en(mr))},o.\u0275prov=Jt({token:o,factory:o.\u0275fac}),o})(),Lp=(()=>{class o{constructor(){this._applications=new Map,gb.addToWindow(this)}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return gb.findTestabilityInTree(this,u,d)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=Jt({token:o,factory:o.\u0275fac}),o})();class VI{addToWindow(a){}findTestabilityInTree(a,u,d){return null}}function Bp(o){gb=o}let gb=new VI,Vp=!0,Pl=!1;function $s(){return Pl=!0,Vp}function Up(){if(Pl)throw new Error("Cannot enable prod mode after platform setup.");Vp=!1}let Ci;const pb=new Dn("AllowMultipleToken");class zM{constructor(a,u){this.name=a,this.token=u}}function Ab(o,a,u=[]){const d=`Platform: ${a}`,f=new Dn(d);return(p=[])=>{let v=mb();if(!v||v.injector.get(pb,!1))if(o)o(u.concat(p).concat({provide:f,useValue:!0}));else{const E=u.concat(p).concat({provide:f,useValue:!0},{provide:Vd,useValue:"platform"});!function(o){if(Ci&&!Ci.destroyed&&!Ci.injector.get(pb,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ci=o.get(GI);const a=o.get(NM,null);a&&a.forEach(u=>u())}(_n.create({providers:E,name:d}))}return function(o){const a=mb();if(!a)throw new Error("No platform exists!");if(!a.injector.get(o,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return a}(f)}}function mb(){return Ci&&!Ci.destroyed?Ci:null}let GI=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const E=function(o,a){let u;return u="noop"===o?new VM:("zone.js"===o?void 0:o)||new mr({enableLongStackTrace:$s(),shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),u}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),I=[{provide:mr,useValue:E}];return E.run(()=>{const D=_n.create({providers:I,parent:this.injector,name:u.moduleType.name}),M=u.create(D),O=M.injector.get(R,null);if(!O)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return E.runOutsideAngular(()=>{const F=E.onError.subscribe({next:U=>{O.handleError(U)}});M.onDestroy(()=>{s_(this._modules,M),F.unsubscribe()})}),function(o,a,u){try{const d=u();return Nm(d)?d.catch(f=>{throw a.runOutsideAngular(()=>o.handleError(f)),f}):d}catch(d){throw a.runOutsideAngular(()=>o.handleError(d)),d}}(O,E,()=>{const F=M.injector.get(Ol);return F.runInitializers(),F.donePromise.then(()=>(Tl(M.injector.get(Pp,Xg)||Xg),this._moduleDoBootstrap(M),M))})})}bootstrapModule(u,d=[]){const f=yb({},d);return function(o,a,u){const d=new bp(u);return Promise.resolve(d)}(0,0,u).then(p=>this.bootstrapModuleFactory(p,f))}_moduleDoBootstrap(u){const d=u.injector.get(Bh);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!u.instance.ngDoBootstrap)throw new Error(`The module ${Q(u.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(u){return new(u||o)(en(_n))},o.\u0275prov=Jt({token:o,factory:o.\u0275fac}),o})();function yb(o,a){return Array.isArray(a)?a.reduce(yb,o):Object.assign(Object.assign({},o),a)}let Bh=(()=>{class o{constructor(u,d,f,p,v){this._zone=u,this._injector=d,this._exceptionHandler=f,this._componentFactoryResolver=p,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new j.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),I=new j.y(D=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{mr.assertNotInAngularZone(),hb(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const O=this._zone.onUnstable.subscribe(()=>{mr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{M.unsubscribe(),O.unsubscribe()}});this.isStable=(0,le.T)(E,I.pipe(o=>(0,ce.x)()((0,ye.O)(oe)(o))))}bootstrap(u,d){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let f;f=u instanceof fh?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(f.componentType);const p=function(o){return o.isBoundToModule}(f)?void 0:this._injector.get(Ia),E=f.create(_n.NULL,[],d||f.selector,p),I=E.location.nativeElement,D=E.injector.get(i_,null),M=D&&E.injector.get(Lp);return D&&M&&M.registerApplication(I,D),E.onDestroy(()=>{this.detachView(E.hostView),s_(this.components,E),M&&M.unregisterApplication(I)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;s_(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(lb,[]).concat(this._bootstrapListeners).forEach(f=>f(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(u){return new(u||o)(en(mr),en(_n),en(R),en(ac),en(Ol))},o.\u0275prov=Jt({token:o,factory:o.\u0275fac}),o})();function s_(o,a){const u=o.indexOf(a);u>-1&&o.splice(u,1)}const YI=function(o){return null},yr=Ab(null,"core",[{provide:ri,useValue:"unknown"},{provide:GI,deps:[_n]},{provide:Lp,deps:[]},{provide:NI,deps:[]}]),lR=[{provide:Bh,useClass:Bh,deps:[mr,_n,R,ac,Ol]},{provide:X0,deps:[mr],useFactory:function(o){let a=[];return o.onStable.subscribe(()=>{for(;a.length;)a.pop()()}),function(u){a.push(u)}}},{provide:Ol,useClass:Ol,deps:[[new gs,ab]]},{provide:Fl,useClass:Fl,deps:[]},Un,{provide:hn,useFactory:function(){return qT},deps:[]},{provide:ii,useFactory:function(){return cp},deps:[]},{provide:Pp,useFactory:function(o){return Tl(o=o||"undefined"!=typeof $localize&&$localize.locale||Xg),o},deps:[[new bu(Pp),new gs,new Ji]]},{provide:FI,useValue:"USD"}];let Hh=(()=>{class o{constructor(u){}}return o.\u0275fac=function(u){return new(u||o)(en(Bh))},o.\u0275mod=Jl({type:o}),o.\u0275inj=Nr({providers:lR}),o})()},8939:(qe,Ce,P)=>{"use strict";P.d(Ce,{hO:()=>z,xv:()=>V,Dh:()=>fe,GT:()=>ce,on:()=>L,pX:()=>ye});var c=P(8720),ae=P(7841),j=P(9126);qe=P.hmd(qe);const le=["ngOnDestroy"],ye=(X,ue,ve,Ie={})=>new Proxy(X,{get:(Fe,Ue)=>ve.runOutsideAngular(()=>{var Ne;if(X[Ue])return(null===(Ne=null==Ie?void 0:Ie.spy)||void 0===Ne?void 0:Ne.get)&&Ie.spy.get(Ue,X[Ue]),X[Ue];if(le.indexOf(Ue)>-1)return()=>{};const Ee=ue.toPromise().then(Pe=>{const Mt=Pe&&Pe[Ue];return"function"==typeof Mt?Mt.bind(Pe):Mt&&Mt.then?Mt.then(Ht=>ve.run(()=>Ht)):ve.run(()=>Mt)});return new Proxy(()=>{},{get:(Pe,Mt)=>Ee[Mt],apply:(Pe,Mt,Ht)=>Ee.then(nn=>{var we;const se=nn&&nn(...Ht);return(null===(we=null==Ie?void 0:Ie.spy)||void 0===we?void 0:we.apply)&&Ie.spy.apply(Ue,Ht,se),se})})})}),ce=(X,ue)=>{ue.forEach(ve=>{Object.getOwnPropertyNames(ve.prototype||ve).forEach(Ie=>{Object.defineProperty(X.prototype,Ie,Object.getOwnPropertyDescriptor(ve.prototype||ve,Ie))})})};class oe{constructor(ue){return ue}}const fe=new c.OlP("angularfire2.app.options"),V=new c.OlP("angularfire2.app.name");function L(X,ue,ve){const Fe="object"==typeof ve&&ve||{};Fe.name=Fe.name||"string"==typeof ve&&ve||"[DEFAULT]";const Ne=ae.Z.apps.filter(Ee=>Ee&&Ee.name===Fe.name)[0]||ue.runOutsideAngular(()=>ae.Z.initializeApp(X,Fe));try{JSON.stringify(X)!==JSON.stringify(Ne.options)&&Q("error",`${Ne.name} Firebase App already initialized with different options${qe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ee){}return new oe(Ne)}const Q=(X,...ue)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[X](...ue)},Y={provide:oe,useFactory:L,deps:[fe,c.R0b,[new c.FiY,V]]};let z=(()=>{class X{constructor(ve){ae.Z.registerVersion("angularfire",j.q4.full,"core"),ae.Z.registerVersion("angularfire",j.q4.full,"app-compat"),ae.Z.registerVersion("angular",c.q4F.full,ve.toString())}static initializeApp(ve,Ie){return{ngModule:X,providers:[{provide:fe,useValue:ve},{provide:V,useValue:Ie}]}}}return X.\u0275fac=function(ve){return new(ve||X)(c.LFG(c.Lbi))},X.\u0275mod=c.oAB({type:X}),X.\u0275inj=c.cJS({providers:[Y]}),X})()},9126:(qe,Ce,P)=>{"use strict";P.d(Ce,{q4:()=>L,iC:()=>se,fc:()=>nn,HU:()=>Ee,cc:()=>z});var c=P(8720);(0,P(5452).registerVersion)("firebase","9.0.2","app");var ye=P(7771),ce=P(3637),oe=P(3342),fe=P(9746),V=P(3101);qe=P.hmd(qe);const L=new c.GfV("7.0.4"),Q=!!qe.hot,Y=(he,...te)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[he](...te)};function z(he,te,Be,$e,xt){const[,at,It]=globalThis.\u0275AngularfireInstanceCache.find(qt=>qt[0]===he)||[];if(at)return function(he,te){try{return he.toString()===te.toString()}catch(Be){return he===te}}(xt,It)||(Y("error",`${te} was already initialized on the ${Be} Firebase App with different settings.${Q?" You may need to reload as Firebase is not HMR aware.":""}`),Y("warn",{is:xt,was:It})),at;{const qt=$e();return globalThis.\u0275AngularfireInstanceCache.push([he,qt,xt]),qt}}function Fe(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class Ue{constructor(te,Be=ye.N){this.zone=te,this.delegate=Be}now(){return this.delegate.now()}schedule(te,Be,$e){const xt=this.zone;return this.delegate.schedule(function(It){xt.runGuarded(()=>{te.apply(this,[It])})},Be,$e)}}class Ne{constructor(te){this.zone=te,this.task=null}call(te,Be){const $e=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fe,{},Fe,Fe)),Be.pipe((0,oe.b)({next:$e,complete:$e,error:$e})).subscribe(te).add($e)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ee=(()=>{class he{constructor(Be){this.ngZone=Be,this.outsideAngular=Be.runOutsideAngular(()=>new Ue(Zone.current)),this.insideAngular=Be.run(()=>new Ue(Zone.current,ce.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return he.\u0275fac=function(Be){return new(Be||he)(c.LFG(c.R0b))},he.\u0275prov=c.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})();function Pe(){const he=globalThis.\u0275AngularFireScheduler;if(!he)throw new Error("AngularFireModule has not been provided");return he}function nn(he){return he.pipe((0,fe.QV)(Pe().outsideAngular))}function se(he){return Pe(),function(he){return function(Be){return(Be=Be.lift(new Ne(he.ngZone))).pipe((0,V.R)(he.outsideAngular),(0,fe.QV)(he.insideAngular))}}(Pe())(he)}},4486:(qe,Ce,P)=>{"use strict";P.d(Ce,{Z:()=>ve});var c=P(4685),ae=P(6034),j=P(5452),le=P(300);class ye{constructor(Fe,Ue){this._delegate=Fe,this.firebase=Ue,(0,j._addComponent)(Fe,new ae.wA("app-compat",()=>this,"PUBLIC")),this.container=Fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Fe){this._delegate.automaticDataCollectionEnabled=Fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Fe=>{this._delegate.checkDestroyed(),Fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,j.deleteApp)(this._delegate)))}_getService(Fe,Ue=j._DEFAULT_ENTRY_NAME){var Ne;this._delegate.checkDestroyed();const Ee=this._delegate.container.getProvider(Fe);return!Ee.isInitialized()&&"EXPLICIT"===(null===(Ne=Ee.getComponent())||void 0===Ne?void 0:Ne.instantiationMode)&&Ee.initialize(),Ee.getImmediate({identifier:Ue})}_removeServiceInstance(Fe,Ue=j._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Fe).clearInstance(Ue)}_addComponent(Fe){(0,j._addComponent)(this._delegate,Fe)}_addOrOverwriteComponent(Fe){(0,j._addOrOverwriteComponent)(this._delegate,Fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const oe=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),L=function V(){const Ie=function(Ie){const Fe={},Ue={__esModule:!0,initializeApp:function(we,se={}){const pe=j.initializeApp(we,se);if((0,c.r3)(Fe,pe.name))return Fe[pe.name];const be=new Ie(pe,Ue);return Fe[pe.name]=be,be},app:Ee,registerVersion:j.registerVersion,setLogLevel:j.setLogLevel,onLog:j.onLog,apps:null,SDK_VERSION:j.SDK_VERSION,INTERNAL:{registerComponent:function(we){const se=we.name,pe=se.replace("-compat","");if(j._registerComponent(we)&&"PUBLIC"===we.type){const be=(ge=Ee())=>{if("function"!=typeof ge[pe])throw oe.create("invalid-app-argument",{appName:se});return ge[pe]()};void 0!==we.serviceProps&&(0,c.ZB)(be,we.serviceProps),Ue[pe]=be,Ie.prototype[pe]=function(...ge){return this._getService.bind(this,se).apply(this,we.multipleInstances?ge:[])}}return"PUBLIC"===we.type?Ue[pe]:null},removeApp:function(we){delete Fe[we]},useAsService:function(we,se){return"serverAuth"===se?null:se},modularAPIs:j}};function Ee(we){if(!(0,c.r3)(Fe,we=we||j._DEFAULT_ENTRY_NAME))throw oe.create("no-app",{appName:we});return Fe[we]}return Ue.default=Ue,Object.defineProperty(Ue,"apps",{get:function(){return Object.keys(Fe).map(we=>Fe[we])}}),Ee.App=Ie,Ue}(ye);return Ie.INTERNAL=Object.assign(Object.assign({},Ie.INTERNAL),{createFirebaseNamespace:V,extendNamespace:function(Ue){(0,c.ZB)(Ie,Ue)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Ie}(),Q=new le.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){Q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ie=self.firebase.SDK_VERSION;Ie&&Ie.indexOf("LITE")>=0&&Q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ue=L;(0,j.registerVersion)("@firebase/app-compat","0.1.1",undefined);const ve=ue},5452:(qe,Ce,P)=>{"use strict";P.r(Ce),P.d(Ce,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>Cn,_DEFAULT_ENTRY_NAME:()=>xt,_addComponent:()=>pn,_addOrOverwriteComponent:()=>rn,_apps:()=>It,_clearComponents:()=>Lt,_components:()=>qt,_getProvider:()=>Cs,_registerComponent:()=>Tt,_removeServiceInstance:()=>kn,deleteApp:()=>uo,getApp:()=>Fa,getApps:()=>Pa,initializeApp:()=>lo,onLog:()=>hi,registerVersion:()=>ns,setLogLevel:()=>xs});var c=P(8239),ae=P(6034),j=P(300),le=P(4685);class ye{constructor(st){this.container=st}getPlatformInfoString(){return this.container.getProviders().map(Pt=>{if(function(pt){const st=pt.getComponent();return"VERSION"===(null==st?void 0:st.type)}(Pt)){const sn=Pt.getImmediate();return`${sn.library}/${sn.version}`}return null}).filter(Pt=>Pt).join(" ")}}const oe="@firebase/app",V=new j.Yd("@firebase/app"),xt="[DEFAULT]",at={[oe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},It=new Map,qt=new Map;function pn(pt,st){try{pt.container.addComponent(st)}catch(Pt){V.debug(`Component ${st.name} failed to register with FirebaseApp ${pt.name}`,Pt)}}function rn(pt,st){pt.container.addOrOverwriteComponent(st)}function Tt(pt){const st=pt.name;if(qt.has(st))return V.debug(`There were multiple attempts to register component ${st}.`),!1;qt.set(st,pt);for(const Pt of It.values())pn(Pt,pt);return!0}function Cs(pt,st){return pt.container.getProvider(st)}function kn(pt,st,Pt=xt){Cs(pt,st).clearInstance(Pt)}function Lt(){qt.clear()}const jo=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Nr{constructor(st,Pt,sn){this._isDeleted=!1,this._options=Object.assign({},st),this._config=Object.assign({},Pt),this._name=Pt.name,this._automaticDataCollectionEnabled=Pt.automaticDataCollectionEnabled,this._container=sn,this.container.addComponent(new ae.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(st){this.checkDestroyed(),this._automaticDataCollectionEnabled=st}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(st){this._isDeleted=st}checkDestroyed(){if(this.isDeleted)throw jo.create("app-deleted",{appName:this._name})}}const Cn="9.0.0";function lo(pt,st={}){"object"!=typeof st&&(st={name:st});const Pt=Object.assign({name:xt,automaticDataCollectionEnabled:!1},st),sn=Pt.name;if("string"!=typeof sn||!sn)throw jo.create("bad-app-name",{appName:String(sn)});const Si=It.get(sn);if(Si){if((0,le.vZ)(pt,Si.options)&&(0,le.vZ)(Pt,Si.config))return Si;throw jo.create("duplicate-app",{appName:sn})}const Rt=new ae.H0(sn);for(const ut of qt.values())Rt.addComponent(ut);const je=new Nr(pt,Pt,Rt);return It.set(sn,je),je}function Fa(pt=xt){const st=It.get(pt);if(!st)throw jo.create("no-app",{appName:pt});return st}function Pa(){return Array.from(It.values())}function uo(pt){return ts.apply(this,arguments)}function ts(){return(ts=(0,c.Z)(function*(pt){const st=pt.name;It.has(st)&&(It.delete(st),yield Promise.all(pt.container.getProviders().map(Pt=>Pt.delete())),pt.isDeleted=!0)})).apply(this,arguments)}function ns(pt,st,Pt){var sn;let Si=null!==(sn=at[pt])&&void 0!==sn?sn:pt;Pt&&(Si+=`-${Pt}`);const Rt=Si.match(/\s|\//),je=st.match(/\s|\//);if(Rt||je){const ut=[`Unable to register library "${Si}" with version "${st}":`];return Rt&&ut.push(`library name "${Si}" contains illegal characters (whitespace or "/")`),Rt&&je&&ut.push("and"),je&&ut.push(`version name "${st}" contains illegal characters (whitespace or "/")`),void V.warn(ut.join(" "))}Tt(new ae.wA(`${Si}-version`,()=>({library:Si,version:st}),"VERSION"))}function hi(pt,st){if(null!==pt&&"function"!=typeof pt)throw jo.create("invalid-log-argument");(0,j.Am)(pt,st)}function xs(pt){(0,j.Ub)(pt)}Tt(new ae.wA("platform-logger",st=>new ye(st),"PRIVATE")),ns(oe,"0.7.0",undefined),ns("fire-js","")},6034:(qe,Ce,P)=>{"use strict";P.d(Ce,{wA:()=>j,H0:()=>fe});var c=P(4762),ae=P(4685),j=function(){function V(L,Q,Y){this.name=L,this.instanceFactory=Q,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return V.prototype.setInstantiationMode=function(L){return this.instantiationMode=L,this},V.prototype.setMultipleInstances=function(L){return this.multipleInstances=L,this},V.prototype.setServiceProps=function(L){return this.serviceProps=L,this},V.prototype.setInstanceCreatedCallback=function(L){return this.onInstanceCreated=L,this},V}(),le="[DEFAULT]",ye=function(){function V(L,Q){this.name=L,this.container=Q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return V.prototype.get=function(L){var Q=this.normalizeInstanceIdentifier(L);if(!this.instancesDeferred.has(Q)){var Y=new ae.BH;if(this.instancesDeferred.set(Q,Y),this.isInitialized(Q)||this.shouldAutoInitialize())try{var z=this.getOrInitializeService({instanceIdentifier:Q});z&&Y.resolve(z)}catch(X){}}return this.instancesDeferred.get(Q).promise},V.prototype.getImmediate=function(L){var Q,Y=this.normalizeInstanceIdentifier(null==L?void 0:L.identifier),z=null!==(Q=null==L?void 0:L.optional)&&void 0!==Q&&Q;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(z)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(X){if(z)return null;throw X}},V.prototype.getComponent=function(){return this.component},V.prototype.setComponent=function(L){var Q,Y;if(L.name!==this.name)throw Error("Mismatching Component "+L.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=L,this.shouldAutoInitialize()){if(function(V){return"EAGER"===V.instantiationMode}(L))try{this.getOrInitializeService({instanceIdentifier:le})}catch(Ne){}try{for(var z=(0,c.XA)(this.instancesDeferred.entries()),X=z.next();!X.done;X=z.next()){var ue=(0,c.CR)(X.value,2),Ie=ue[1],Fe=this.normalizeInstanceIdentifier(ue[0]);try{var Ue=this.getOrInitializeService({instanceIdentifier:Fe});Ie.resolve(Ue)}catch(Ne){}}}catch(Ne){Q={error:Ne}}finally{try{X&&!X.done&&(Y=z.return)&&Y.call(z)}finally{if(Q)throw Q.error}}}},V.prototype.clearInstance=function(L){void 0===L&&(L=le),this.instancesDeferred.delete(L),this.instancesOptions.delete(L),this.instances.delete(L)},V.prototype.delete=function(){return(0,c.mG)(this,void 0,void 0,function(){var L;return(0,c.Jh)(this,function(Q){switch(Q.label){case 0:return L=Array.from(this.instances.values()),[4,Promise.all((0,c.ev)((0,c.ev)([],(0,c.CR)(L.filter(function(Y){return"INTERNAL"in Y}).map(function(Y){return Y.INTERNAL.delete()}))),(0,c.CR)(L.filter(function(Y){return"_delete"in Y}).map(function(Y){return Y._delete()}))))];case 1:return Q.sent(),[2]}})})},V.prototype.isComponentSet=function(){return null!=this.component},V.prototype.isInitialized=function(L){return void 0===L&&(L=le),this.instances.has(L)},V.prototype.getOptions=function(L){return void 0===L&&(L=le),this.instancesOptions.get(L)||{}},V.prototype.initialize=function(L){var Q,Y;void 0===L&&(L={});var z=L.options,X=void 0===z?{}:z,ue=this.normalizeInstanceIdentifier(L.instanceIdentifier);if(this.isInitialized(ue))throw Error(this.name+"("+ue+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var ve=this.getOrInitializeService({instanceIdentifier:ue,options:X});try{for(var Ie=(0,c.XA)(this.instancesDeferred.entries()),Fe=Ie.next();!Fe.done;Fe=Ie.next()){var Ue=(0,c.CR)(Fe.value,2),Ee=Ue[1];ue===this.normalizeInstanceIdentifier(Ue[0])&&Ee.resolve(ve)}}catch(Mt){Q={error:Mt}}finally{try{Fe&&!Fe.done&&(Y=Ie.return)&&Y.call(Ie)}finally{if(Q)throw Q.error}}return ve},V.prototype.onInit=function(L,Q){var Y,z=this.normalizeInstanceIdentifier(Q),X=null!==(Y=this.onInitCallbacks.get(z))&&void 0!==Y?Y:new Set;X.add(L),this.onInitCallbacks.set(z,X);var ue=this.instances.get(z);return ue&&L(ue,z),function(){X.delete(L)}},V.prototype.invokeOnInitCallbacks=function(L,Q){var Y,z,X=this.onInitCallbacks.get(Q);if(X)try{for(var ue=(0,c.XA)(X),ve=ue.next();!ve.done;ve=ue.next()){var Ie=ve.value;try{Ie(L,Q)}catch(Fe){}}}catch(Fe){Y={error:Fe}}finally{try{ve&&!ve.done&&(z=ue.return)&&z.call(ue)}finally{if(Y)throw Y.error}}},V.prototype.getOrInitializeService=function(L){var Q=L.instanceIdentifier,Y=L.options,z=void 0===Y?{}:Y,X=this.instances.get(Q);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:ce(Q),options:z}),this.instances.set(Q,X),this.instancesOptions.set(Q,z),this.invokeOnInitCallbacks(X,Q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Q,X)}catch(ue){}return X||null},V.prototype.normalizeInstanceIdentifier=function(L){return void 0===L&&(L=le),this.component?this.component.multipleInstances?L:le:L},V.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},V}();function ce(V){return V===le?void 0:V}var fe=function(){function V(L){this.name=L,this.providers=new Map}return V.prototype.addComponent=function(L){var Q=this.getProvider(L.name);if(Q.isComponentSet())throw new Error("Component "+L.name+" has already been registered with "+this.name);Q.setComponent(L)},V.prototype.addOrOverwriteComponent=function(L){this.getProvider(L.name).isComponentSet()&&this.providers.delete(L.name),this.addComponent(L)},V.prototype.getProvider=function(L){if(this.providers.has(L))return this.providers.get(L);var Q=new ye(L,this);return this.providers.set(L,Q),Q},V.prototype.getProviders=function(){return Array.from(this.providers.values())},V}()},300:(qe,Ce,P)=>{"use strict";function c(){for(var Y=0,z=0,X=arguments.length;z<X;z++)Y+=arguments[z].length;var ue=Array(Y),ve=0;for(z=0;z<X;z++)for(var Ie=arguments[z],Fe=0,Ue=Ie.length;Fe<Ue;Fe++,ve++)ue[ve]=Ie[Fe];return ue}P.d(Ce,{in:()=>le,Yd:()=>V,Ub:()=>L,Am:()=>Q});var ae,j=[],le=(()=>{return(Y=le||(le={}))[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",le;var Y})(),ye={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},ce=le.INFO,oe=((ae={})[le.DEBUG]="log",ae[le.VERBOSE]="log",ae[le.INFO]="info",ae[le.WARN]="warn",ae[le.ERROR]="error",ae),fe=function(Y,z){for(var X=[],ue=2;ue<arguments.length;ue++)X[ue-2]=arguments[ue];if(!(z<Y.logLevel)){var ve=(new Date).toISOString(),Ie=oe[z];if(!Ie)throw new Error("Attempted to log a message with an invalid logType (value: "+z+")");console[Ie].apply(console,c(["["+ve+"]  "+Y.name+":"],X))}},V=function(){function Y(z){this.name=z,this._logLevel=ce,this._logHandler=fe,this._userLogHandler=null,j.push(this)}return Object.defineProperty(Y.prototype,"logLevel",{get:function(){return this._logLevel},set:function(z){if(!(z in le))throw new TypeError('Invalid value "'+z+'" assigned to `logLevel`');this._logLevel=z},enumerable:!1,configurable:!0}),Y.prototype.setLogLevel=function(z){this._logLevel="string"==typeof z?ye[z]:z},Object.defineProperty(Y.prototype,"logHandler",{get:function(){return this._logHandler},set:function(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z},enumerable:!1,configurable:!0}),Object.defineProperty(Y.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(z){this._userLogHandler=z},enumerable:!1,configurable:!0}),Y.prototype.debug=function(){for(var z=[],X=0;X<arguments.length;X++)z[X]=arguments[X];this._userLogHandler&&this._userLogHandler.apply(this,c([this,le.DEBUG],z)),this._logHandler.apply(this,c([this,le.DEBUG],z))},Y.prototype.log=function(){for(var z=[],X=0;X<arguments.length;X++)z[X]=arguments[X];this._userLogHandler&&this._userLogHandler.apply(this,c([this,le.VERBOSE],z)),this._logHandler.apply(this,c([this,le.VERBOSE],z))},Y.prototype.info=function(){for(var z=[],X=0;X<arguments.length;X++)z[X]=arguments[X];this._userLogHandler&&this._userLogHandler.apply(this,c([this,le.INFO],z)),this._logHandler.apply(this,c([this,le.INFO],z))},Y.prototype.warn=function(){for(var z=[],X=0;X<arguments.length;X++)z[X]=arguments[X];this._userLogHandler&&this._userLogHandler.apply(this,c([this,le.WARN],z)),this._logHandler.apply(this,c([this,le.WARN],z))},Y.prototype.error=function(){for(var z=[],X=0;X<arguments.length;X++)z[X]=arguments[X];this._userLogHandler&&this._userLogHandler.apply(this,c([this,le.ERROR],z)),this._logHandler.apply(this,c([this,le.ERROR],z))},Y}();function L(Y){j.forEach(function(z){z.setLogLevel(Y)})}function Q(Y,z){for(var X=function(Fe){var Ue=null;z&&z.level&&(Ue=ye[z.level]),Fe.userLogHandler=null===Y?null:function(Ne,Ee){for(var Pe=[],Mt=2;Mt<arguments.length;Mt++)Pe[Mt-2]=arguments[Mt];var Ht=Pe.map(function(nn){if(null==nn)return null;if("string"==typeof nn)return nn;if("number"==typeof nn||"boolean"==typeof nn)return nn.toString();if(nn instanceof Error)return nn.message;try{return JSON.stringify(nn)}catch(we){return null}}).filter(function(nn){return nn}).join(" ");Ee>=(null!=Ue?Ue:Ne.logLevel)&&Y({level:le[Ee].toLowerCase(),message:Ht,args:Pe,type:Ne.name})}},ue=0,ve=j;ue<ve.length;ue++)X(ve[ue])}},4685:(qe,Ce,P)=>{"use strict";P.d(Ce,{BH:()=>X,LL:()=>Be,ZR:()=>te,tV:()=>L,r3:()=>kn,Sg:()=>ue,ne:()=>ts,vZ:()=>Nr,ZB:()=>Y,pd:()=>Pa,m9:()=>At,z$:()=>ve,jU:()=>Ue,ru:()=>Ne,d:()=>Pe,xb:()=>Jt,w1:()=>Mt,hl:()=>se,uI:()=>Ie,UG:()=>Fe,b$:()=>Ee,G6:()=>we,Mn:()=>Ht,xO:()=>lo,zd:()=>Fa});var c=P(4762),ye=function(W){for(var H=[],ee=0,re=0;re<W.length;re++){var ie=W.charCodeAt(re);ie<128?H[ee++]=ie:ie<2048?(H[ee++]=ie>>6|192,H[ee++]=63&ie|128):55296==(64512&ie)&&re+1<W.length&&56320==(64512&W.charCodeAt(re+1))?(ie=65536+((1023&ie)<<10)+(1023&W.charCodeAt(++re)),H[ee++]=ie>>18|240,H[ee++]=ie>>12&63|128,H[ee++]=ie>>6&63|128,H[ee++]=63&ie|128):(H[ee++]=ie>>12|224,H[ee++]=ie>>6&63|128,H[ee++]=63&ie|128)}return H},oe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(W,H){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var ee=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,re=[],ie=0;ie<W.length;ie+=3){var Ve=W[ie],lt=ie+1<W.length,Ct=lt?W[ie+1]:0,kt=ie+2<W.length,Dt=kt?W[ie+2]:0,On=(15&Ct)<<2|Dt>>6,zo=63&Dt;kt||(zo=64,lt||(On=64)),re.push(ee[Ve>>2],ee[(3&Ve)<<4|Ct>>4],ee[On],ee[zo])}return re.join("")},encodeString:function(W,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(W):this.encodeByteArray(ye(W),H)},decodeString:function(W,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(W):function(W){for(var H=[],ee=0,re=0;ee<W.length;){var ie=W[ee++];if(ie<128)H[re++]=String.fromCharCode(ie);else if(ie>191&&ie<224){var Ve=W[ee++];H[re++]=String.fromCharCode((31&ie)<<6|63&Ve)}else if(ie>239&&ie<365){var kt=((7&ie)<<18|(63&(Ve=W[ee++]))<<12|(63&(lt=W[ee++]))<<6|63&W[ee++])-65536;H[re++]=String.fromCharCode(55296+(kt>>10)),H[re++]=String.fromCharCode(56320+(1023&kt))}else{Ve=W[ee++];var lt=W[ee++];H[re++]=String.fromCharCode((15&ie)<<12|(63&Ve)<<6|63&lt)}}return H.join("")}(this.decodeStringToByteArray(W,H))},decodeStringToByteArray:function(W,H){this.init_();for(var ee=H?this.charToByteMapWebSafe_:this.charToByteMap_,re=[],ie=0;ie<W.length;){var Ve=ee[W.charAt(ie++)],Ct=ie<W.length?ee[W.charAt(ie)]:0,Dt=++ie<W.length?ee[W.charAt(ie)]:64,Gn=++ie<W.length?ee[W.charAt(ie)]:64;if(++ie,null==Ve||null==Ct||null==Dt||null==Gn)throw Error();re.push(Ve<<2|Ct>>4),64!==Dt&&(re.push(Ct<<4&240|Dt>>2),64!==Gn&&re.push(Dt<<6&192|Gn))}return re},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}},V=function(W){return function(W){var H=ye(W);return oe.encodeByteArray(H,!0)}(W).replace(/\./g,"")},L=function(W){try{return oe.decodeString(W,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function Y(W,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return H}for(var re in H)!H.hasOwnProperty(re)||!z(re)||(W[re]=Y(W[re],H[re]));return W}function z(W){return"__proto__"!==W}var X=function(){function W(){var H=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(ee,re){H.resolve=ee,H.reject=re})}return W.prototype.wrapCallback=function(H){var ee=this;return function(re,ie){re?ee.reject(re):ee.resolve(ie),"function"==typeof H&&(ee.promise.catch(function(){}),1===H.length?H(re):H(re,ie))}},W}();function ue(W,H){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var re=H||"demo-project",ie=W.iat||0,Ve=W.sub||W.user_id;if(!Ve)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var lt=(0,c.pi)({iss:"https://securetoken.google.com/"+re,aud:re,iat:ie,exp:ie+3600,auth_time:ie,sub:Ve,user_id:Ve,firebase:{sign_in_provider:"custom",identities:{}}},W);return[V(JSON.stringify({alg:"none",type:"JWT"})),V(JSON.stringify(lt)),""].join(".")}function ve(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ie(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ve())}function Fe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(W){return!1}}function Ue(){return"object"==typeof self&&self.self===self}function Ne(){var W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function Ee(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Pe(){return ve().indexOf("Electron/")>=0}function Mt(){var W=ve();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function Ht(){return ve().indexOf("MSAppHost/")>=0}function we(){return!Fe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function se(){return"indexedDB"in self&&null!=indexedDB}var te=function(W){function H(ee,re,ie){var Ve=W.call(this,re)||this;return Ve.code=ee,Ve.customData=ie,Ve.name="FirebaseError",Object.setPrototypeOf(Ve,H.prototype),Error.captureStackTrace&&Error.captureStackTrace(Ve,Be.prototype.create),Ve}return(0,c.ZT)(H,W),H}(Error),Be=function(){function W(H,ee,re){this.service=H,this.serviceName=ee,this.errors=re}return W.prototype.create=function(H){for(var ee=[],re=1;re<arguments.length;re++)ee[re-1]=arguments[re];var ie=ee[0]||{},Ve=this.service+"/"+H,lt=this.errors[H],Ct=lt?$e(lt,ie):"Error",kt=this.serviceName+": "+Ct+" ("+Ve+").",Dt=new te(Ve,kt,ie);return Dt},W}();function $e(W,H){return W.replace(xt,function(ee,re){var ie=H[re];return null!=ie?String(ie):"<"+re+"?>"})}var xt=/\{\$([^}]+)}/g;function kn(W,H){return Object.prototype.hasOwnProperty.call(W,H)}function Jt(W){for(var H in W)if(Object.prototype.hasOwnProperty.call(W,H))return!1;return!0}function Nr(W,H){if(W===H)return!0;for(var ee=Object.keys(W),re=Object.keys(H),ie=0,Ve=ee;ie<Ve.length;ie++){if(!re.includes(lt=Ve[ie]))return!1;var Ct=W[lt],kt=H[lt];if(Cn(Ct)&&Cn(kt)){if(!Nr(Ct,kt))return!1}else if(Ct!==kt)return!1}for(var Dt=0,on=re;Dt<on.length;Dt++){var lt;if(!ee.includes(lt=on[Dt]))return!1}return!0}function Cn(W){return null!==W&&"object"==typeof W}function lo(W){for(var H=[],ee=function(kt,Dt){Array.isArray(Dt)?Dt.forEach(function(on){H.push(encodeURIComponent(kt)+"="+encodeURIComponent(on))}):H.push(encodeURIComponent(kt)+"="+encodeURIComponent(Dt))},re=0,ie=Object.entries(W);re<ie.length;re++){var Ve=ie[re];ee(Ve[0],Ve[1])}return H.length?"&"+H.join("&"):""}function Fa(W){var H={};return W.replace(/^\?/,"").split("&").forEach(function(re){if(re){var ie=re.split("="),lt=ie[1];H[decodeURIComponent(ie[0])]=decodeURIComponent(lt)}}),H}function Pa(W){var H=W.indexOf("?");if(!H)return"";var ee=W.indexOf("#",H);return W.substring(H,ee>0?ee:void 0)}function ts(W,H){var ee=new ns(W,H);return ee.subscribe.bind(ee)}!function(){function W(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var H=1;H<this.blockSize;++H)this.pad_[H]=0;this.reset()}W.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},W.prototype.compress_=function(H,ee){ee||(ee=0);var re=this.W_;if("string"==typeof H)for(var ie=0;ie<16;ie++)re[ie]=H.charCodeAt(ee)<<24|H.charCodeAt(ee+1)<<16|H.charCodeAt(ee+2)<<8|H.charCodeAt(ee+3),ee+=4;else for(ie=0;ie<16;ie++)re[ie]=H[ee]<<24|H[ee+1]<<16|H[ee+2]<<8|H[ee+3],ee+=4;for(ie=16;ie<80;ie++)re[ie]=4294967295&((Ve=re[ie-3]^re[ie-8]^re[ie-14]^re[ie-16])<<1|Ve>>>31);var Gn,On,lt=this.chain_[0],Ct=this.chain_[1],kt=this.chain_[2],Dt=this.chain_[3],on=this.chain_[4];for(ie=0;ie<80;ie++){ie<40?ie<20?(Gn=Dt^Ct&(kt^Dt),On=1518500249):(Gn=Ct^kt^Dt,On=1859775393):ie<60?(Gn=Ct&kt|Dt&(Ct|kt),On=2400959708):(Gn=Ct^kt^Dt,On=3395469782);var Ve=(lt<<5|lt>>>27)+Gn+on+On+re[ie]&4294967295;on=Dt,Dt=kt,kt=4294967295&(Ct<<30|Ct>>>2),Ct=lt,lt=Ve}this.chain_[0]=this.chain_[0]+lt&4294967295,this.chain_[1]=this.chain_[1]+Ct&4294967295,this.chain_[2]=this.chain_[2]+kt&4294967295,this.chain_[3]=this.chain_[3]+Dt&4294967295,this.chain_[4]=this.chain_[4]+on&4294967295},W.prototype.update=function(H,ee){if(null!=H){void 0===ee&&(ee=H.length);for(var re=ee-this.blockSize,ie=0,Ve=this.buf_,lt=this.inbuf_;ie<ee;){if(0===lt)for(;ie<=re;)this.compress_(H,ie),ie+=this.blockSize;if("string"==typeof H){for(;ie<ee;)if(Ve[lt]=H.charCodeAt(ie),++ie,++lt===this.blockSize){this.compress_(Ve),lt=0;break}}else for(;ie<ee;)if(Ve[lt]=H[ie],++ie,++lt===this.blockSize){this.compress_(Ve),lt=0;break}}this.inbuf_=lt,this.total_+=ee}},W.prototype.digest=function(){var H=[],ee=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var re=this.blockSize-1;re>=56;re--)this.buf_[re]=255&ee,ee/=256;this.compress_(this.buf_);var ie=0;for(re=0;re<5;re++)for(var Ve=24;Ve>=0;Ve-=8)H[ie]=this.chain_[re]>>Ve&255,++ie;return H}}();var ns=function(){function W(H,ee){var re=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ee,this.task.then(function(){H(re)}).catch(function(ie){re.error(ie)})}return W.prototype.next=function(H){this.forEachObserver(function(ee){ee.next(H)})},W.prototype.error=function(H){this.forEachObserver(function(ee){ee.error(H)}),this.close(H)},W.prototype.complete=function(){this.forEachObserver(function(H){H.complete()}),this.close()},W.prototype.subscribe=function(H,ee,re){var Ve,ie=this;if(void 0===H&&void 0===ee&&void 0===re)throw new Error("Missing Observer.");void 0===(Ve=function(W,H){if("object"!=typeof W||null===W)return!1;for(var ee=0,re=["next","error","complete"];ee<re.length;ee++){var ie=re[ee];if(ie in W&&"function"==typeof W[ie])return!0}return!1}(H)?H:{next:H,error:ee,complete:re}).next&&(Ve.next=rt),void 0===Ve.error&&(Ve.error=rt),void 0===Ve.complete&&(Ve.complete=rt);var lt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{ie.finalError?Ve.error(ie.finalError):Ve.complete()}catch(Ct){}}),this.observers.push(Ve),lt},W.prototype.unsubscribeOne=function(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},W.prototype.forEachObserver=function(H){if(!this.finalized)for(var ee=0;ee<this.observers.length;ee++)this.sendOne(ee,H)},W.prototype.sendOne=function(H,ee){var re=this;this.task.then(function(){if(void 0!==re.observers&&void 0!==re.observers[H])try{ee(re.observers[H])}catch(ie){"undefined"!=typeof console&&console.error&&console.error(ie)}})},W.prototype.close=function(H){var ee=this;this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(function(){ee.observers=void 0,ee.onNoObservers=void 0}))},W}();function rt(){}function At(W){return W&&W._delegate?W._delegate:W}},7841:(qe,Ce,P)=>{"use strict";P.d(Ce,{Z:()=>c.Z});var c=P(4486);c.Z.registerVersion("firebase","9.0.2","app-compat")},6780:(qe,Ce,P)=>{"use strict";P.r(Ce);var c=P(8239),ae=P(4486),j=P(4685),le=P(5452),ye=P(4762),ce=P(300),oe=P(6034);const ue=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ve=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ie=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ue=new ce.Yd("@firebase/auth");function Ne(b,...m){Ue.logLevel<=ce.in.ERROR&&Ue.error(`Auth (${le.SDK_VERSION}): ${b}`,...m)}function Ee(b,...m){throw nn(b,...m)}function Pe(b,...m){return nn(b,...m)}function Mt(b,m,_){const x=Object.assign(Object.assign({},ve()),{[m]:_});return new j.LL("auth","Firebase",x).create(m,{appName:b.name})}function Ht(b,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&Ee(b,"argument-error"),Mt(b,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function nn(b,...m){if("string"!=typeof b){const _=m[0],x=[...m.slice(1)];return x[0]&&(x[0].appName=b.name),b._errorFactory.create(_,...x)}return Ie.create(b,...m)}function we(b,m,..._){if(!b)throw nn(m,..._)}function se(b){const m="INTERNAL ASSERTION FAILED: "+b;throw Ne(m),new Error(m)}function pe(b,m){b||se(m)}const be=new Map;function ge(b){pe(b instanceof Function,"Expected a class definition");let m=be.get(b);return m?(pe(m instanceof b,"Instance stored in cache mismatched with class"),m):(m=new b,be.set(b,m),m)}function Be(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function $e(){return"http:"===xt()||"https:"===xt()}function xt(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class qt{constructor(m,_){this.shortDelay=m,this.longDelay=_,pe(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&($e()||(0,j.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function pn(b,m){pe(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class rn{static initialize(m,_,x){this.fetchImpl=m,_&&(this.headersImpl=_),x&&(this.responseImpl=x)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void se("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void se("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void se("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Tt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Cs=new qt(3e4,6e4);function kn(b,m){return b.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:b.tenantId}):m}function Lt(b,m,_,x){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,c.Z)(function*(b,m,_,x,R={}){return jo(b,R,()=>{let N={},K={};x&&("GET"===m?K=x:N={body:JSON.stringify(x)});const _e=(0,j.xO)(Object.assign({key:b.config.apiKey},K)).slice(1),Me=new(rn.headers());return Me.set("Content-Type","application/json"),Me.set("X-Client-Version",b._getSdkClientVersion()),b.languageCode&&Me.set("X-Firebase-Locale",b.languageCode),rn.fetch()(Fa(b,b.config.apiHost,_,_e),Object.assign({method:m,headers:Me,referrerPolicy:"no-referrer"},N))})})).apply(this,arguments)}function jo(b,m,_){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,c.Z)(function*(b,m,_){b._canInitEmulator=!1;const x=Object.assign(Object.assign({},Tt),m);try{const R=new Pa(b),N=yield Promise.race([_(),R.promise]);R.clearNetworkTimeout();const K=yield N.json();if("needConfirmation"in K)throw uo(b,"account-exists-with-different-credential",K);if(N.ok&&!("errorMessage"in K))return K;{const _e=N.ok?K.errorMessage:K.error.message,[Me,Ze]=_e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Me)throw uo(b,"credential-already-in-use",K);if("EMAIL_EXISTS"===Me)throw uo(b,"email-already-in-use",K);const $=x[Me]||Me.toLowerCase().replace(/[_\s]+/g,"-");if(Ze)throw Mt(b,$,Ze);Ee(b,$)}}catch(R){if(R instanceof j.ZR)throw R;Ee(b,"network-request-failed")}})).apply(this,arguments)}function Cn(b,m,_,x){return lo.apply(this,arguments)}function lo(){return(lo=(0,c.Z)(function*(b,m,_,x,R={}){const N=yield Lt(b,m,_,x,R);return"mfaPendingCredential"in N&&Ee(b,"multi-factor-auth-required",{serverResponse:N}),N})).apply(this,arguments)}function Fa(b,m,_,x){const R=`${m}${_}?${x}`;return b.config.emulator?pn(b.config,R):`${b.config.apiScheme}://${R}`}class Pa{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,x)=>{this.timer=setTimeout(()=>x(Pe(this.auth,"timeout")),Cs.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function uo(b,m,_){const x={appName:b.name};_.email&&(x.email=_.email),_.phoneNumber&&(x.phoneNumber=_.phoneNumber);const R=Pe(b,m,x);return R.customData._tokenResponse=_,R}function ns(){return(ns=(0,c.Z)(function*(b,m){return Lt(b,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function hi(b,m){return xs.apply(this,arguments)}function xs(){return(xs=(0,c.Z)(function*(b,m){return Lt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function rt(b,m){return pt.apply(this,arguments)}function pt(){return(pt=(0,c.Z)(function*(b,m){return Lt(b,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function st(b){if(b)try{const m=new Date(Number(b));if(!isNaN(m.getTime()))return m.toUTCString()}catch(m){}}function Si(){return(Si=(0,c.Z)(function*(b,m=!1){const _=(0,j.m9)(b),x=yield _.getIdToken(m),R=je(x);we(R&&R.exp&&R.auth_time&&R.iat,_.auth,"internal-error");const N="object"==typeof R.firebase?R.firebase:void 0,K=null==N?void 0:N.sign_in_provider;return{claims:R,token:x,authTime:st(Rt(R.auth_time)),issuedAtTime:st(Rt(R.iat)),expirationTime:st(Rt(R.exp)),signInProvider:K||null,signInSecondFactor:(null==N?void 0:N.sign_in_second_factor)||null}})).apply(this,arguments)}function Rt(b){return 1e3*Number(b)}function je(b){const[m,_,x]=b.split(".");if(void 0===m||void 0===_||void 0===x)return Ne("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,j.tV)(_);return R?JSON.parse(R):(Ne("Failed to decode base64 JWT payload"),null)}catch(R){return Ne("Caught error parsing JWT payload as JSON",R),null}}function is(b,m){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,c.Z)(function*(b,m,_=!1){if(_)return m;try{return yield m}catch(x){throw x instanceof j.ZR&&Fr(x)&&b.auth.currentUser===b&&(yield b.auth.signOut()),x}})).apply(this,arguments)}function Fr({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class Wl{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const x=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),x}{this.errorBackoff=3e4;const R=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,R)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const x=this.getInterval(m);this.timerId=setTimeout((0,c.Z)(function*(){yield _.iteration()}),x)}iteration(){var m=this;return(0,c.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&m.schedule(!0))}m.schedule()})()}}class or{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=st(this.lastLoginAt),this.creationTime=st(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Qo(b){return At.apply(this,arguments)}function At(){return(At=(0,c.Z)(function*(b){var m;const _=b.auth,x=yield b.getIdToken(),R=yield is(b,rt(_,{idToken:x}));we(null==R?void 0:R.users.length,_,"internal-error");const N=R.users[0];b._notifyReloadListener(N);const K=(null===(m=N.providerUserInfo)||void 0===m?void 0:m.length)?re(N.providerUserInfo):[],_e=ee(b.providerData,K),$=!!b.isAnonymous&&!(b.email&&N.passwordHash||(null==_e?void 0:_e.length)),Qe={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:_e,metadata:new or(N.createdAt,N.lastLoginAt),isAnonymous:$};Object.assign(b,Qe)})).apply(this,arguments)}function H(){return(H=(0,c.Z)(function*(b){const m=(0,j.m9)(b);yield Qo(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function ee(b,m){return[...b.filter(x=>!m.some(R=>R.providerId===x.providerId)),...m]}function re(b){return b.map(m=>{var{providerId:_}=m,x=(0,ye._T)(m,["providerId"]);return{providerId:_,uid:x.rawId||"",displayName:x.displayName||null,email:x.email||null,phoneNumber:x.phoneNumber||null,photoURL:x.photoUrl||null}})}function Ve(){return(Ve=(0,c.Z)(function*(b,m){const _=yield jo(b,{},()=>{const x=(0,j.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:R,apiKey:N}=b.config,K=Fa(b,R,"/v1/token",`key=${N}`);return rn.fetch()(K,{method:"POST",headers:{"X-Client-Version":b._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:x})});return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class lt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){we(m.idToken,"internal-error"),we(void 0!==m.idToken,"internal-error"),we(void 0!==m.refreshToken,"internal-error");const _="expiresIn"in m&&void 0!==m.expiresIn?Number(m.expiresIn):function(b){const m=je(b);return we(m,"internal-error"),we(void 0!==m.exp,"internal-error"),we(void 0!==m.iat,"internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var x=this;return(0,c.Z)(function*(){return we(!x.accessToken||x.refreshToken,m,"user-token-expired"),_||!x.accessToken||x.isExpired?x.refreshToken?(yield x.refresh(m,x.refreshToken),x.accessToken):null:x.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var x=this;return(0,c.Z)(function*(){const{accessToken:R,refreshToken:N,expiresIn:K}=yield function(b,m){return Ve.apply(this,arguments)}(m,_);x.updateTokensAndExpiration(R,N,Number(K))})()}updateTokensAndExpiration(m,_,x){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*x}static fromJSON(m,_){const{refreshToken:x,accessToken:R,expirationTime:N}=_,K=new lt;return x&&(we("string"==typeof x,"internal-error",{appName:m}),K.refreshToken=x),R&&(we("string"==typeof R,"internal-error",{appName:m}),K.accessToken=R),N&&(we("number"==typeof N,"internal-error",{appName:m}),K.expirationTime=N),K}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new lt,this.toJSON())}_performRefresh(){return se("not implemented")}}function Ct(b,m){we("string"==typeof b||void 0===b,"internal-error",{appName:m})}class kt{constructor(m){var{uid:_,auth:x,stsTokenManager:R}=m,N=(0,ye._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Wl(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=x,this.stsTokenManager=R,this.accessToken=R.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.metadata=new or(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,c.Z)(function*(){const x=yield is(_,_.stsTokenManager.getToken(_.auth,m));return we(x,_.auth,"internal-error"),_.accessToken!==x&&(_.accessToken=x,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),x})()}getIdTokenResult(m){return function(b){return Si.apply(this,arguments)}(this,m)}reload(){return function(b){return H.apply(this,arguments)}(this)}_assign(m){this!==m&&(we(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new kt(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var x=this;return(0,c.Z)(function*(){let R=!1;m.idToken&&m.idToken!==x.stsTokenManager.accessToken&&(x.stsTokenManager.updateFromServerResponse(m),R=!0),_&&(yield Qo(x)),yield x.auth._persistUserIfCurrent(x),R&&x.auth._notifyListenersIfCurrent(x)})()}delete(){var m=this;return(0,c.Z)(function*(){const _=yield m.getIdToken();return yield is(m,function(b,m){return ns.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var x,R,N,K,_e,Me,Ze,$;const Qe=null!==(x=_.displayName)&&void 0!==x?x:void 0,Je=null!==(R=_.email)&&void 0!==R?R:void 0,Xi=null!==(N=_.phoneNumber)&&void 0!==N?N:void 0,jr=null!==(K=_.photoURL)&&void 0!==K?K:void 0,Dd=null!==(_e=_.tenantId)&&void 0!==_e?_e:void 0,ig=null!==(Me=_._redirectEventId)&&void 0!==Me?Me:void 0,rg=null!==(Ze=_.createdAt)&&void 0!==Ze?Ze:void 0,sg=null!==($=_.lastLoginAt)&&void 0!==$?$:void 0,{uid:tn,emailVerified:Sd,isAnonymous:Gs,providerData:xr,stsTokenManager:ov}=_;we(tn&&ov,m,"internal-error");const mC=lt.fromJSON(this.name,ov);we("string"==typeof tn,m,"internal-error"),Ct(Qe,m.name),Ct(Je,m.name),we("boolean"==typeof Sd,m,"internal-error"),we("boolean"==typeof Gs,m,"internal-error"),Ct(Xi,m.name),Ct(jr,m.name),Ct(Dd,m.name),Ct(ig,m.name),Ct(rg,m.name),Ct(sg,m.name);const Td=new kt({uid:tn,auth:m,email:Je,emailVerified:Sd,displayName:Qe,isAnonymous:Gs,photoURL:jr,phoneNumber:Xi,tenantId:Dd,stsTokenManager:mC,createdAt:rg,lastLoginAt:sg});return xr&&Array.isArray(xr)&&(Td.providerData=xr.map(yC=>Object.assign({},yC))),ig&&(Td._redirectEventId=ig),Td}static _fromIdTokenResponse(m,_,x=!1){return(0,c.Z)(function*(){const R=new lt;R.updateFromServerResponse(_);const N=new kt({uid:_.localId,auth:m,stsTokenManager:R,isAnonymous:x});return yield Qo(N),N})()}}const on=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(_,x){var R=this;return(0,c.Z)(function*(){R.storage[_]=x})()}_get(_){var x=this;return(0,c.Z)(function*(){const R=x.storage[_];return void 0===R?null:R})()}_remove(_){var x=this;return(0,c.Z)(function*(){delete x.storage[_]})()}_addListener(_,x){}_removeListener(_,x){}}return b.type="NONE",b})();function Gn(b,m,_){return`firebase:${b}:${m}:${_}`}class On{constructor(m,_,x){this.persistence=m,this.auth=_,this.userKey=x;const{config:R,name:N}=this.auth;this.fullUserKey=Gn(this.userKey,R.apiKey,N),this.fullPersistenceKey=Gn("persistence",R.apiKey,N),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,c.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?kt._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,c.Z)(function*(){if(_.persistence===m)return;const x=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,x?_.setCurrentUser(x):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,x="authUser"){return(0,c.Z)(function*(){if(!_.length)return new On(ge(on),m,x);const R=(yield Promise.all(_.map(function(){var Ze=(0,c.Z)(function*($){if(yield $._isAvailable())return $});return function($){return Ze.apply(this,arguments)}}()))).filter(Ze=>Ze);let N=R[0]||ge(on);const K=Gn(x,m.config.apiKey,m.name);let _e=null;for(const Ze of _)try{const $=yield Ze._get(K);if($){const Qe=kt._fromJSON(m,$);Ze!==N&&(_e=Qe),N=Ze;break}}catch($){}const Me=R.filter(Ze=>Ze._shouldAllowMigration);return N._shouldAllowMigration&&Me.length?(N=Me[0],_e&&(yield N._set(K,_e.toJSON())),yield Promise.all(_.map(function(){var Ze=(0,c.Z)(function*($){if($!==N)try{yield $._remove(K)}catch(Qe){}});return function($){return Ze.apply(this,arguments)}}())),new On(N,m,x)):new On(N,m,x)})()}}function zo(b){const m=b.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Jl(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(Zl(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Nc(m))return"Blackberry";if(Ba(m))return"Webos";if(Oc(m))return"Safari";if((m.includes("chrome/")||Xh(m))&&!m.includes("edge/"))return"Chrome";if(La(m))return"Android";{const x=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==x?void 0:x.length))return x[1]}return"Other"}function Zl(b=(0,j.z$)()){return/firefox\//i.test(b)}function Oc(b=(0,j.z$)()){const m=b.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function Xh(b=(0,j.z$)()){return/crios\//i.test(b)}function Jl(b=(0,j.z$)()){return/iemobile/i.test(b)}function La(b=(0,j.z$)()){return/android/i.test(b)}function Nc(b=(0,j.z$)()){return/blackberry/i.test(b)}function Ba(b=(0,j.z$)()){return/webos/i.test(b)}function Pr(b=(0,j.z$)()){return/iphone|ipad|ipod/i.test(b)}function ji(b=(0,j.z$)()){return Pr(b)||La(b)||Ba(b)||Nc(b)||/windows phone/i.test(b)||Jl(b)}function Mi(b,m=[]){let _;switch(b){case"Browser":_=zo((0,j.z$)());break;case"Worker":_=`${zo((0,j.z$)())}-${b}`;break;default:_=b}const x=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${le.SDK_VERSION}/${x}`}class He{constructor(m,_){this.app=m,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $t(this),this.idTokenSubscription=new $t(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ie,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(m,_){var x=this;return _&&(this._popupRedirectResolver=ge(_)),this._initializationPromise=this.queue((0,c.Z)(function*(){var R;x._deleted||(x.persistenceManager=yield On.create(x,m),!x._deleted&&((null===(R=x._popupRedirectResolver)||void 0===R?void 0:R._shouldInitProactively)&&(yield x._popupRedirectResolver._initialize(x)),yield x.initializeCurrentUser(_),!x._deleted&&(x._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,c.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_)}})()}initializeCurrentUser(m){var _=this;return(0,c.Z)(function*(){var x;let R=yield _.assertedPersistence.getCurrentUser();if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const N=null===(x=_.redirectUser)||void 0===x?void 0:x._redirectEventId,K=null==R?void 0:R._redirectEventId,_e=yield _.tryRedirectSignIn(m);(!N||N===K)&&(null==_e?void 0:_e.user)&&(R=_e.user)}return R?R._redirectEventId?(we(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===R._redirectEventId?_.directlySetCurrentUser(R):_.reloadAndSetCurrentUserOrClear(R)):_.reloadAndSetCurrentUserOrClear(R):_.directlySetCurrentUser(null)})()}tryRedirectSignIn(m){var _=this;return(0,c.Z)(function*(){let x=null;try{x=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch(R){yield _._setRedirectUser(null)}return x})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,c.Z)(function*(){try{yield Qo(m)}catch(x){if("auth/network-request-failed"!==x.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var m=this;return(0,c.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,c.Z)(function*(){const x=m?(0,j.m9)(m):null;return x&&we(x.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(x&&x._clone(_))})()}_updateCurrentUser(m){var _=this;return(0,c.Z)(function*(){if(!_._deleted)return m&&we(_.tenantId===m.tenantId,_,"tenant-id-mismatch"),_.queue((0,c.Z)(function*(){yield _.directlySetCurrentUser(m),_.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,c.Z)(function*(){return(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null)})()}setPersistence(m){var _=this;return this.queue((0,c.Z)(function*(){yield _.assertedPersistence.setPersistence(ge(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new j.LL("auth","Firebase",m())}onAuthStateChanged(m,_,x){return this.registerStateListener(this.authStateSubscription,m,_,x)}onIdTokenChanged(m,_,x){return this.registerStateListener(this.idTokenSubscription,m,_,x)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var x=this;return(0,c.Z)(function*(){const R=yield x.getOrInitRedirectPersistenceManager(_);return null===m?R.removeCurrentUser():R.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,c.Z)(function*(){if(!_.redirectPersistenceManager){const x=m&&ge(m)||_._popupRedirectResolver;we(x,_,"argument-error"),_.redirectPersistenceManager=yield On.create(_,[ge(x._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,c.Z)(function*(){var x,R;return _._isInitialized&&(yield _.queue((0,c.Z)(function*(){}))),(null===(x=_._currentUser)||void 0===x?void 0:x._redirectEventId)===m?_._currentUser:(null===(R=_.redirectUser)||void 0===R?void 0:R._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,c.Z)(function*(){if(m===_.currentUser)return _.queue((0,c.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const x=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==x&&(this.lastNotifiedUid=x,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,x,R){if(this._deleted)return()=>{};const N="function"==typeof _?_:_.next.bind(_),K=this._isInitialized?Promise.resolve():this._initializationPromise;return we(K,this,"internal-error"),K.then(()=>N(this.currentUser)),"function"==typeof _?m.addObserver(_,x,R):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,c.Z)(function*(){_.currentUser&&_.currentUser!==m&&(_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh()),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Mi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function ot(b){return(0,j.m9)(b)}class $t{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,j.ne)(_=>this.observer=_)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ho(b){const m=b.indexOf(":");return m<0?"":b.substr(0,m+1)}function fo(b){if(!b)return null;const m=Number(b);return isNaN(m)?null:m}class ar{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return se("not implemented")}_getIdTokenResponse(m){return se("not implemented")}_linkToIdToken(m,_){return se("not implemented")}_getReauthenticationResolver(m){return se("not implemented")}}function go(b,m){return _t.apply(this,arguments)}function _t(){return(_t=(0,c.Z)(function*(b,m){return Lt(b,"POST","/v1/accounts:resetPassword",kn(b,m))})).apply(this,arguments)}function Fc(b,m){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,c.Z)(function*(b,m){return Lt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function rs(b,m){return po.apply(this,arguments)}function po(){return(po=(0,c.Z)(function*(b,m){return Lt(b,"POST","/v1/accounts:update",kn(b,m))})).apply(this,arguments)}function qn(){return(qn=(0,c.Z)(function*(b,m){return Cn(b,"POST","/v1/accounts:signInWithPassword",kn(b,m))})).apply(this,arguments)}function ss(b,m){return lr.apply(this,arguments)}function lr(){return(lr=(0,c.Z)(function*(b,m){return Lt(b,"POST","/v1/accounts:sendOobCode",kn(b,m))})).apply(this,arguments)}function mt(b,m){return ef.apply(this,arguments)}function ef(){return(ef=(0,c.Z)(function*(b,m){return ss(b,m)})).apply(this,arguments)}function uA(b,m){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,c.Z)(function*(b,m){return ss(b,m)})).apply(this,arguments)}function qo(b,m){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,c.Z)(function*(b,m){return ss(b,m)})).apply(this,arguments)}function Kl(b,m){return mo.apply(this,arguments)}function mo(){return(mo=(0,c.Z)(function*(b,m){return ss(b,m)})).apply(this,arguments)}function tf(){return(tf=(0,c.Z)(function*(b,m){return Cn(b,"POST","/v1/accounts:signInWithEmailLink",kn(b,m))})).apply(this,arguments)}function ki(){return(ki=(0,c.Z)(function*(b,m){return Cn(b,"POST","/v1/accounts:signInWithEmailLink",kn(b,m))})).apply(this,arguments)}class Va extends ar{constructor(m,_,x,R=null){super("password",x),this._email=m,this._password=_,this._tenantId=R}static _fromEmailAndPassword(m,_){return new Va(m,_,"password")}static _fromEmailAndCode(m,_,x=null){return new Va(m,_,"emailLink",x)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,c.Z)(function*(){switch(_.signInMethod){case"password":return function(b,m){return qn.apply(this,arguments)}(m,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function(b,m){return tf.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:Ee(m,"internal-error")}})()}_linkToIdToken(m,_){var x=this;return(0,c.Z)(function*(){switch(x.signInMethod){case"password":return Fc(m,{idToken:_,returnSecureToken:!0,email:x._email,password:x._password});case"emailLink":return function(b,m){return ki.apply(this,arguments)}(m,{idToken:_,email:x._email,oobCode:x._password});default:Ee(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function An(b,m){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,c.Z)(function*(b,m){return Cn(b,"POST","/v1/accounts:signInWithIdp",kn(b,m))})).apply(this,arguments)}class os extends ar{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new os(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):Ee("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:x,signInMethod:R}=_,N=(0,ye._T)(_,["providerId","signInMethod"]);if(!x||!R)return null;const K=new os(x,R);return Object.assign(K,N),K}_getIdTokenResponse(m){return An(m,this.buildRequest())}_linkToIdToken(m,_){const x=this.buildRequest();return x.idToken=_,An(m,x)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,An(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,j.xO)(_)}return m}}function qb(b,m){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,c.Z)(function*(b,m){return Lt(b,"POST","/v1/accounts:sendVerificationCode",kn(b,m))})).apply(this,arguments)}function cA(){return(cA=(0,c.Z)(function*(b,m){return Cn(b,"POST","/v1/accounts:signInWithPhoneNumber",kn(b,m))})).apply(this,arguments)}function dA(){return(dA=(0,c.Z)(function*(b,m){const _=yield Cn(b,"POST","/v1/accounts:signInWithPhoneNumber",kn(b,m));if(_.temporaryProof)throw uo(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Wb={USER_NOT_FOUND:"user-not-found"};function hA(){return(hA=(0,c.Z)(function*(b,m){return Cn(b,"POST","/v1/accounts:signInWithPhoneNumber",kn(b,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Wb)})).apply(this,arguments)}class Ga extends ar{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new Ga({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new Ga({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function(b,m){return cA.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function(b,m){return dA.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function(b,m){return hA.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:x,verificationCode:R}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:x,code:R}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:x,phoneNumber:R,temporaryProof:N}=m;return x||_||R||N?new Ga({verificationId:_,verificationCode:x,phoneNumber:R,temporaryProof:N}):null}}class Pc{constructor(m){var _,x,R,N,K,_e;const Me=(0,j.zd)((0,j.pd)(m)),Ze=null!==(_=Me.apiKey)&&void 0!==_?_:null,$=null!==(x=Me.oobCode)&&void 0!==x?x:null,Qe=function(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(R=Me.mode)&&void 0!==R?R:null);we(Ze&&$&&Qe,"argument-error"),this.apiKey=Ze,this.operation=Qe,this.code=$,this.continueUrl=null!==(N=Me.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(K=Me.languageCode)&&void 0!==K?K:null,this.tenantId=null!==(_e=Me.tenantId)&&void 0!==_e?_e:null}static parseLink(m){const _=function(b){const m=(0,j.zd)((0,j.pd)(b)).link,_=m?(0,j.zd)((0,j.pd)(m)).deep_link_id:null,x=(0,j.zd)((0,j.pd)(b)).deep_link_id;return(x?(0,j.zd)((0,j.pd)(x)).link:null)||x||_||m||b}(m);try{return new Pc(_)}catch(x){return null}}}let fA=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,x){return Va._fromEmailAndPassword(_,x)}static credentialWithLink(_,x){const R=Pc.parseLink(x);return we(R,"argument-error"),Va._fromEmailAndCode(_,R.code,R.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Wo{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class $l extends Wo{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Ts extends $l{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return we("providerId"in _&&"signInMethod"in _,"argument-error"),os._fromParams(_)}credential(m){return this._credential(m)}_credential(m){return we(m.idToken||m.accessToken,"argument-error"),os._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Ts.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Ts.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:x,oauthTokenSecret:R,pendingToken:N,nonce:K,providerId:_e}=m;if(!x&&!R&&!_&&!N||!_e)return null;try{return new Ts(_e)._credential({idToken:_,accessToken:x,rawNonce:K,pendingToken:N})}catch(Me){return null}}}let Ha=(()=>{class b extends $l{constructor(){super("facebook.com")}static credential(_){return os._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch(x){return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),N_=(()=>{class b extends $l{constructor(){super("google.com"),this.addScope("profile")}static credential(_,x){return os._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:x})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:x,oauthAccessToken:R}=_;if(!x&&!R)return null;try{return b.credential(x,R)}catch(N){return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Xb=(()=>{class b extends $l{constructor(){super("github.com")}static credential(_){return os._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch(x){return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class ur extends ar{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return An(m,this.buildRequest())}_linkToIdToken(m,_){const x=this.buildRequest();return x.idToken=_,An(m,x)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,An(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:x,signInMethod:R,pendingToken:N}=_;return x&&R&&N&&x===R?new ur(x,N):null}static _create(m,_){return new ur(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let rf=(()=>{class b extends $l{constructor(){super("twitter.com")}static credential(_,x){return os._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:x})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:x,oauthTokenSecret:R}=_;if(!x||!R)return null;try{return b.credential(x,R)}catch(N){return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function Br(b,m){return as.apply(this,arguments)}function as(){return(as=(0,c.Z)(function*(b,m){return Cn(b,"POST","/v1/accounts:signUp",kn(b,m))})).apply(this,arguments)}class vr{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,x,R=!1){return(0,c.Z)(function*(){const N=yield kt._fromIdTokenResponse(m,x,R),K=gA(x);return new vr({user:N,providerId:K,_tokenResponse:x,operationType:_})})()}static _forOperation(m,_,x){return(0,c.Z)(function*(){yield m._updateTokensIfNecessary(x,!0);const R=gA(x);return new vr({user:m,providerId:R,_tokenResponse:x,operationType:_})})()}}function gA(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Lc(){return(Lc=(0,c.Z)(function*(b){var m;const _=ot(b);if(yield _._initializationPromise,null===(m=_.currentUser)||void 0===m?void 0:m.isAnonymous)return new vr({user:_.currentUser,providerId:null,operationType:"signIn"});const x=yield Br(_,{returnSecureToken:!0}),R=yield vr._fromIdTokenResponse(_,"signIn",x,!0);return yield _._updateCurrentUser(R.user),R})).apply(this,arguments)}class sf extends j.ZR{constructor(m,_,x,R){var N;super(_.code,_.message),this.operationType=x,this.user=R,this.name="FirebaseError",Object.setPrototypeOf(this,sf.prototype),this.appName=m.name,this.code=_.code,this.tenantId=null!==(N=m.tenantId)&&void 0!==N?N:void 0,this.serverResponse=_.customData.serverResponse}static _fromErrorAndOperation(m,_,x,R){return new sf(m,_,x,R)}}function zi(b,m,_,x){return("reauthenticate"===m?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?sf._fromErrorAndOperation(b,N,m,x):N})}function af(b){return new Set(b.map(({providerId:m})=>m).filter(m=>!!m))}function ja(){return(ja=(0,c.Z)(function*(b,m){const _=(0,j.m9)(b);yield Jo(!0,_,m);const{providerUserInfo:x}=yield hi(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),R=af(x||[]);return _.providerData=_.providerData.filter(N=>R.has(N.providerId)),R.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function lf(b,m){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,c.Z)(function*(b,m,_=!1){const x=yield is(b,m._linkToIdToken(b.auth,yield b.getIdToken()),_);return vr._forOperation(b,"link",x)})).apply(this,arguments)}function Jo(b,m,_){return an.apply(this,arguments)}function an(){return(an=(0,c.Z)(function*(b,m,_){yield Qo(m);const R=!1===b?"provider-already-linked":"no-such-provider";we(af(m.providerData).has(_)===b,m.auth,R)})).apply(this,arguments)}function Bc(b,m){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,c.Z)(function*(b,m,_=!1){const{auth:x}=b,R="reauthenticate";try{const N=yield is(b,zi(x,R,m,b),_);we(N.idToken,x,"internal-error");const K=je(N.idToken);we(K,x,"internal-error");const{sub:_e}=K;return we(b.uid===_e,x,"user-mismatch"),vr._forOperation(b,R,N)}catch(N){throw"auth/user-not-found"===(null==N?void 0:N.code)&&Ee(x,"user-mismatch"),N}})).apply(this,arguments)}function uf(b,m){return mn.apply(this,arguments)}function mn(){return(mn=(0,c.Z)(function*(b,m,_=!1){const x="signIn",R=yield zi(b,x,m),N=yield vr._fromIdTokenResponse(b,x,R);return _||(yield b._updateCurrentUser(N.user)),N})).apply(this,arguments)}function Uc(b,m){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,c.Z)(function*(b,m){return uf(ot(b),m)})).apply(this,arguments)}function tu(b,m){return qi.apply(this,arguments)}function qi(){return(qi=(0,c.Z)(function*(b,m){const _=(0,j.m9)(b);return yield Jo(!1,_,m.providerId),lf(_,m)})).apply(this,arguments)}function pA(b,m){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,c.Z)(function*(b,m){return Bc((0,j.m9)(b),m)})).apply(this,arguments)}function nu(b,m){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,c.Z)(function*(b,m){return Cn(b,"POST","/v1/accounts:signInWithCustomToken",kn(b,m))})).apply(this,arguments)}function iu(){return(iu=(0,c.Z)(function*(b,m){const _=ot(b),x=yield nu(_,{token:m,returnSecureToken:!0}),R=yield vr._fromIdTokenResponse(_,"signIn",x);return yield _._updateCurrentUser(R.user),R})).apply(this,arguments)}class jc{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?ls._fromServerResponse(m,_):Ee(m,"internal-error")}}class ls extends jc{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new ls(_)}}function Qa(b,m,_){var x;we((null===(x=_.url)||void 0===x?void 0:x.length)>0,b,"invalid-continue-uri"),we(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(we(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),m.iosBundleId=_.iOS.bundleId),_.android&&(we(_.android.packageName.length>0,b,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function ht(){return(ht=(0,c.Z)(function*(b,m,_){const x=(0,j.m9)(b),R={requestType:"PASSWORD_RESET",email:m};_&&Qa(x,R,_),yield uA(x,R)})).apply(this,arguments)}function AA(){return(AA=(0,c.Z)(function*(b,m,_){yield go((0,j.m9)(b),{oobCode:m,newPassword:_})})).apply(this,arguments)}function Ko(){return(Ko=(0,c.Z)(function*(b,m){yield rs((0,j.m9)(b),{oobCode:m})})).apply(this,arguments)}function za(b,m){return ru.apply(this,arguments)}function ru(){return(ru=(0,c.Z)(function*(b,m){const _=(0,j.m9)(b),x=yield go(_,{oobCode:m}),R=x.requestType;switch(we(R,_,"internal-error"),R){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":we(x.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":we(x.mfaInfo,_,"internal-error");default:we(x.email,_,"internal-error")}let N=null;return x.mfaInfo&&(N=jc._fromServerResponse(ot(_),x.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.newEmail:x.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.email:x.newEmail)||null,multiFactorInfo:N},operation:R}})).apply(this,arguments)}function De(){return(De=(0,c.Z)(function*(b,m){const{data:_}=yield za((0,j.m9)(b),m);return _.email})).apply(this,arguments)}function qa(){return(qa=(0,c.Z)(function*(b,m,_){const x=ot(b),R=yield Br(x,{returnSecureToken:!0,email:m,password:_}),N=yield vr._fromIdTokenResponse(x,"signIn",R);return yield x._updateCurrentUser(N.user),N})).apply(this,arguments)}function yo(){return(yo=(0,c.Z)(function*(b,m,_){const x=(0,j.m9)(b),R={requestType:"EMAIL_SIGNIN",email:m};we(_.handleCodeInApp,x,"argument-error"),_&&Qa(x,R,_),yield qo(x,R)})).apply(this,arguments)}function su(){return(su=(0,c.Z)(function*(b,m,_){const x=(0,j.m9)(b),R=fA.credentialWithLink(m,_||Be());return we(R._tenantId===(x.tenantId||null),x,"tenant-id-mismatch"),Uc(x,R)})).apply(this,arguments)}function nC(b,m){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,c.Z)(function*(b,m){return Lt(b,"POST","/v1/accounts:createAuthUri",kn(b,m))})).apply(this,arguments)}function au(){return(au=(0,c.Z)(function*(b,m){const x={identifier:m,continueUri:$e()?Be():"http://localhost"},{signinMethods:R}=yield nC((0,j.m9)(b),x);return R||[]})).apply(this,arguments)}function Yi(){return(Yi=(0,c.Z)(function*(b,m){const _=(0,j.m9)(b),R={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};m&&Qa(_.auth,R,m);const{email:N}=yield mt(_.auth,R);N!==b.email&&(yield b.reload())})).apply(this,arguments)}function _o(){return(_o=(0,c.Z)(function*(b,m,_){const x=(0,j.m9)(b),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:m};_&&Qa(x.auth,N,_);const{email:K}=yield Kl(x.auth,N);K!==b.email&&(yield b.reload())})).apply(this,arguments)}function cs(b,m){return ff.apply(this,arguments)}function ff(){return(ff=(0,c.Z)(function*(b,m){return Lt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function gf(){return(gf=(0,c.Z)(function*(b,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const x=(0,j.m9)(b),N={idToken:yield x.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},K=yield is(x,cs(x.auth,N));x.displayName=K.displayName||null,x.photoURL=K.photoUrl||null;const _e=x.providerData.find(({providerId:Me})=>"password"===Me);_e&&(_e.displayName=x.displayName,_e.photoURL=x.photoURL),yield x._updateTokensIfNecessary(K)})).apply(this,arguments)}function uu(b,m,_){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,c.Z)(function*(b,m,_){const{auth:x}=b,N={idToken:yield b.getIdToken(),returnSecureToken:!0};m&&(N.email=m),_&&(N.password=_);const K=yield is(b,Fc(x,N));yield b._updateTokensIfNecessary(K,!0)})).apply(this,arguments)}class Wa{constructor(m,_,x={}){this.isNewUser=m,this.providerId=_,this.profile=x}}class _A extends Wa{constructor(m,_,x,R){super(m,_,x),this.username=R}}class zc extends Wa{constructor(m,_){super(m,"facebook.com",_)}}class U_ extends _A{constructor(m,_){super(m,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class Af extends Wa{constructor(m,_){super(m,"google.com",_)}}class vA extends _A{constructor(m,_,x){super(m,"twitter.com",_,x)}}function wA(b){const{user:m,_tokenResponse:_}=b;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function(b){var m,_;if(!b)return null;const{providerId:x}=b,R=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},N=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!x&&(null==b?void 0:b.idToken)){const K=null===(_=null===(m=je(b.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(K)return new Wa(N,"anonymous"!==K&&"custom"!==K?K:null)}if(!x)return null;switch(x){case"facebook.com":return new zc(N,R);case"github.com":return new U_(N,R);case"google.com":return new Af(N,R);case"twitter.com":return new vA(N,R,b.screenName||null);case"custom":case"anonymous":return new Wa(N,null);default:return new Wa(N,x,R)}}(_)}class Nn{constructor(m,_){this.type=m,this.credential=_}static _fromIdtoken(m){return new Nn("enroll",m)}static _fromMfaPendingCredential(m){return new Nn("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,x;if(null==m?void 0:m.multiFactorSession){if(null===(_=m.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return Nn._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null===(x=m.multiFactorSession)||void 0===x?void 0:x.idToken)return Nn._fromIdtoken(m.multiFactorSession.idToken)}return null}}class yf{constructor(m,_,x){this.session=m,this.hints=_,this.signInResolver=x}static _fromError(m,_){const x=ot(m),R=(_.serverResponse.mfaInfo||[]).map(K=>jc._fromServerResponse(x,K));we(_.serverResponse.mfaPendingCredential,x,"internal-error");const N=Nn._fromMfaPendingCredential(_.serverResponse.mfaPendingCredential);return new yf(N,R,function(){var K=(0,c.Z)(function*(_e){const Me=yield _e._process(x,N);delete _.serverResponse.mfaInfo,delete _.serverResponse.mfaPendingCredential;const Ze=Object.assign(Object.assign({},_.serverResponse),{idToken:Me.idToken,refreshToken:Me.refreshToken});switch(_.operationType){case"signIn":const $=yield vr._fromIdTokenResponse(x,_.operationType,Ze);return yield x._updateCurrentUser($.user),$;case"reauthenticate":return we(_.user,x,"internal-error"),vr._forOperation(_.user,_.operationType,Ze);default:Ee(x,"internal-error")}});return function(_e){return K.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,c.Z)(function*(){return _.signInResolver(m)})()}}function H_(b,m){return Lt(b,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:b.tenantId},m))}class Ja{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(x=>jc._fromServerResponse(m.auth,x)))})}static _fromUser(m){return new Ja(m)}getSession(){var m=this;return(0,c.Z)(function*(){return Nn._fromIdtoken(yield m.user.getIdToken())})()}enroll(m,_){var x=this;return(0,c.Z)(function*(){const R=m,N=yield x.getSession(),K=yield is(x.user,R._process(x.user.auth,N,_));return yield x.user._updateTokensIfNecessary(K),x.user.reload()})()}unenroll(m){var _=this;return(0,c.Z)(function*(){const x="string"==typeof m?m:m.uid,R=yield _.user.getIdToken(),N=yield is(_.user,function(b,m){return Lt(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:b.tenantId},m))}(_.user.auth,{idToken:R,mfaEnrollmentId:x}));_.enrolledFactors=_.enrolledFactors.filter(({uid:K})=>K!==x),yield _.user._updateTokensIfNecessary(N);try{yield _.user.reload()}catch(K){if("auth/user-token-expired"!==K.code)throw K}})()}}const cu=new WeakMap,vf="__sak";class Ms{constructor(m,_){this.storage=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(vf,"1"),this.storage.removeItem(vf),Promise.resolve(!0)):Promise.resolve(!1)}catch(m){return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}}const Ka=(()=>{class b extends Ms{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const b=(0,j.z$)();return Oc(b)||Pr(b)}()&&function(){try{return!(!window||window===window.top)}catch(b){return!1}}(),this.fallbackToPolling=ji(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(_){for(const x of Object.keys(this.listeners)){const R=this.storage.getItem(x),N=this.localCache[x];R!==N&&_(x,N,R)}}onStorageEvent(_,x=!1){if(!_.key)return void this.forAllChangedKeys((_e,Me,Ze)=>{this.notifyListeners(_e,Ze)});const R=_.key;if(x?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const _e=this.storage.getItem(R);if(_.newValue!==_e)null!==_.newValue?this.storage.setItem(R,_.newValue):this.storage.removeItem(R);else if(this.localCache[R]===_.newValue&&!x)return}const N=()=>{const _e=this.storage.getItem(R);!x&&this.localCache[R]===_e||this.notifyListeners(R,_e)},K=this.storage.getItem(R);(0,j.w1)()&&10===document.documentMode&&K!==_.newValue&&_.newValue!==_.oldValue?setTimeout(N,10):N()}notifyListeners(_,x){this.localCache[_]=x;const R=this.listeners[_];if(R)for(const N of Array.from(R))N(x&&JSON.parse(x))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,x,R)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:x,newValue:R}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,x){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(x)}_removeListener(_,x){this.listeners[_]&&(this.listeners[_].delete(x),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,x){var R=()=>super._set,N=this;return(0,c.Z)(function*(){yield R().call(N,_,x),N.localCache[_]=JSON.stringify(x)})()}_get(_){var x=()=>super._get,R=this;return(0,c.Z)(function*(){const N=yield x().call(R,_);return R.localCache[_]=JSON.stringify(N),N})()}_remove(_){var x=()=>super._remove,R=this;return(0,c.Z)(function*(){yield x().call(R,_),delete R.localCache[_]})()}}return b.type="LOCAL",b})(),$o=(()=>{class b extends Ms{constructor(){super(window.sessionStorage,"SESSION")}_addListener(_,x){}_removeListener(_,x){}}return b.type="SESSION",b})();let Xo=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const x=this.receivers.find(N=>N.isListeningto(_));if(x)return x;const R=new b(_);return this.receivers.push(R),R}isListeningto(_){return this.eventTarget===_}handleEvent(_){var x=this;return(0,c.Z)(function*(){const R=_,{eventId:N,eventType:K,data:_e}=R.data,Me=x.handlersMap[K];if(!(null==Me?void 0:Me.size))return;R.ports[0].postMessage({status:"ack",eventId:N,eventType:K});const Ze=Array.from(Me).map(function(){var Qe=(0,c.Z)(function*(Je){return Je(R.origin,_e)});return function(Je){return Qe.apply(this,arguments)}}()),$=yield function(b){return Promise.all(b.map(function(){var m=(0,c.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(x){return{fulfilled:!1,reason:x}}});return function(_){return m.apply(this,arguments)}}()))}(Ze);R.ports[0].postMessage({status:"done",eventId:N,eventType:K,response:$})})()}_subscribe(_,x){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(x)}_unsubscribe(_,x){this.handlersMap[_]&&x&&this.handlersMap[_].delete(x),(!x||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function vo(b="",m=10){let _="";for(let x=0;x<m;x++)_+=Math.floor(10*Math.random());return b+_}class EA{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,x=50){var R=this;return(0,c.Z)(function*(){const N="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let K,_e;return new Promise((Me,Ze)=>{const $=vo("",20);N.port1.start();const Qe=setTimeout(()=>{Ze(new Error("unsupported_event"))},x);_e={messageChannel:N,onMessage(Je){const Xi=Je;if(Xi.data.eventId===$)switch(Xi.data.status){case"ack":clearTimeout(Qe),K=setTimeout(()=>{Ze(new Error("timeout"))},3e3);break;case"done":clearTimeout(K),Me(Xi.data.response);break;default:clearTimeout(Qe),clearTimeout(K),Ze(new Error("invalid_response"))}}},R.handlers.add(_e),N.port1.addEventListener("message",_e.onMessage),R.target.postMessage({eventType:m,eventId:$,data:_},[N.port2])}).finally(()=>{_e&&R.removeMessageHandler(_e)})})()}}function dn(){return window}function bf(){return void 0!==dn().WorkerGlobalScope&&"function"==typeof dn().importScripts}function ea(){return(ea=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(b){return null}})).apply(this,arguments)}const Zc="firebaseLocalStorageDb",bA="firebaseLocalStorage",CA="fbase_key";class $a{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function xf(b,m){return b.transaction([bA],m?"readwrite":"readonly").objectStore(bA)}function ta(){const b=indexedDB.open(Zc,1);return new Promise((m,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const x=b.result;try{x.createObjectStore(bA,{keyPath:CA})}catch(R){_(R)}}),b.addEventListener("success",(0,c.Z)(function*(){const x=b.result;x.objectStoreNames.contains(bA)?m(x):(x.close(),yield function(){const b=indexedDB.deleteDatabase(Zc);return new $a(b).toPromise()}(),m(yield ta()))}))})}function wr(b,m,_){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,c.Z)(function*(b,m,_){const x=xf(b,!0).put({[CA]:m,value:_});return new $a(x).toPromise()})).apply(this,arguments)}function Xa(){return(Xa=(0,c.Z)(function*(b,m){const _=xf(b,!1).get(m),x=yield new $a(_).toPromise();return void 0===x?null:x.value})).apply(this,arguments)}function If(b,m){const _=xf(b,!0).delete(m);return new $a(_).toPromise()}const Zn=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,c.Z)(function*(){return _.db||(_.db=yield ta()),_.db})()}_withRetries(_){var x=this;return(0,c.Z)(function*(){let R=0;for(;;)try{const N=yield x._openDb();return yield _(N)}catch(N){if(R++>3)throw N;x.db&&(x.db.close(),x.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,c.Z)(function*(){return bf()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,c.Z)(function*(){_.receiver=Xo._getInstance(bf()?self:null),_.receiver._subscribe("keyChanged",function(){var x=(0,c.Z)(function*(R,N){return{keyProcessed:(yield _._poll()).includes(N.key)}});return function(R,N){return x.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var x=(0,c.Z)(function*(R,N){return["keyChanged"]});return function(R,N){return x.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,c.Z)(function*(){var x,R;if(_.activeServiceWorker=yield function(){return ea.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new EA(_.activeServiceWorker);const N=yield _.sender._send("ping",{},800);!N||(null===(x=N[0])||void 0===x?void 0:x.fulfilled)&&(null===(R=N[0])||void 0===R?void 0:R.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var x=this;return(0,c.Z)(function*(){if(x.sender&&x.activeServiceWorker&&function(){var b;return(null===(b=null==navigator?void 0:navigator.serviceWorker)||void 0===b?void 0:b.controller)||null}()===x.activeServiceWorker)try{yield x.sender._send("keyChanged",{key:_},x.serviceWorkerReceiverAvailable?800:50)}catch(R){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const _=yield ta();return yield wr(_,vf,"1"),yield If(_,vf),!0}catch(_){}return!1})()}_withPendingWrite(_){var x=this;return(0,c.Z)(function*(){x.pendingWrites++;try{yield _()}finally{x.pendingWrites--}})()}_set(_,x){var R=this;return(0,c.Z)(function*(){return R._withPendingWrite((0,c.Z)(function*(){return yield R._withRetries(N=>wr(N,_,x)),R.localCache[_]=x,R.notifyServiceWorker(_)}))})()}_get(_){var x=this;return(0,c.Z)(function*(){const R=yield x._withRetries(N=>function(b,m){return Xa.apply(this,arguments)}(N,_));return x.localCache[_]=R,R})()}_remove(_){var x=this;return(0,c.Z)(function*(){return x._withPendingWrite((0,c.Z)(function*(){return yield x._withRetries(R=>If(R,_)),delete x.localCache[_],x.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,c.Z)(function*(){const x=yield _._withRetries(K=>{const _e=xf(K,!1).getAll();return new $a(_e).toPromise()});if(!x)return[];if(0!==_.pendingWrites)return[];const R=[],N=new Set;for(const{fbase_key:K,value:_e}of x)N.add(K),JSON.stringify(_.localCache[K])!==JSON.stringify(_e)&&(_.notifyListeners(K,_e),R.push(K));for(const K of Object.keys(_.localCache))_.localCache[K]&&!N.has(K)&&(_.notifyListeners(K,null),R.push(K));return R})()}notifyListeners(_,x){this.localCache[_]=x;const R=this.listeners[_];if(R)for(const N of Array.from(R))N(x)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,x){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(x)}_removeListener(_,x){this.listeners[_]&&(this.listeners[_].delete(x),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function ks(b,m){return Lt(b,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:b.tenantId},m))}function na(){return(na=(0,c.Z)(function*(b){return(yield Lt(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Df(b){return new Promise((m,_)=>{const x=document.createElement("script");x.setAttribute("src",b),x.onload=m,x.onerror=R=>{const N=Pe("internal-error");N.customData=R,_(N)},x.type="text/javascript",x.charset="UTF-8",function(){var b,m;return null!==(m=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==m?m:document}().appendChild(x)})}function Sf(b){return`__${b}${Math.floor(1e6*Math.random())}`}const pu=1e12;class Au{constructor(m){this.auth=m,this.counter=pu,this._widgets=new Map}render(m,_){const x=this.counter;return this._widgets.set(x,new nl(m,this.auth.name,_||{})),this.counter++,x}reset(m){var _;const x=m||pu;null===(_=this._widgets.get(x))||void 0===_||_.delete(),this._widgets.delete(x)}getResponse(m){var _;return(null===(_=this._widgets.get(m||pu))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,c.Z)(function*(){var x;return null===(x=_._widgets.get(m||pu))||void 0===x||x.execute(),""})()}}class nl{constructor(m,_,x){this.params=x,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const R="string"==typeof m?document.getElementById(m):m;we(R,"argument-error",{appName:_}),this.container=R,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(b){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let x=0;x<50;x++)m.push(_.charAt(Math.floor(Math.random()*_.length)));return m.join("")}();const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch(x){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(x){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const wo=Sf("rcb"),mu=new qt(3e4,6e4);class ia{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!dn().grecaptcha}load(m,_=""){return we((b=_).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b),m,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(dn().grecaptcha):new Promise((x,R)=>{const N=dn().setTimeout(()=>{R(Pe(m,"network-request-failed"))},mu.get());dn()[wo]=()=>{dn().clearTimeout(N),delete dn()[wo];const _e=dn().grecaptcha;if(!_e)return void R(Pe(m,"internal-error"));const Me=_e.render;_e.render=(Ze,$)=>{const Qe=Me(Ze,$);return this.counter++,Qe},this.hostLanguage=_,x(_e)},Df(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:wo,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(N),R(Pe(m,"internal-error"))})});var b}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){return!!dn().grecaptcha&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class rC{load(m){return(0,c.Z)(function*(){return new Au(m)})()}clearedOneInstance(){}}const DA="recaptcha",sC={theme:"light",type:"image"};class ra{constructor(m,_=Object.assign({},sC),x){this.parameters=_,this.type=DA,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ot(x),this.isInvisible="invisible"===this.parameters.size,we("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const R="string"==typeof m?document.getElementById(m):m;we(R,this.auth,"argument-error"),this.container=R,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new rC:new ia,this.validateStartingState()}verify(){var m=this;return(0,c.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),x=m.getAssertedRecaptcha();return x.getResponse(_)||new Promise(N=>{const K=_e=>{!_e||(m.tokenChangeListeners.delete(K),N(_e))};m.tokenChangeListeners.add(K),m.isInvisible&&x.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){we(!this.parameters.sitekey,this.auth,"argument-error"),we(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),we("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(x=>x(_)),"function"==typeof m)m(_);else if("string"==typeof m){const x=dn()[m];"function"==typeof x&&x(_)}}}assertNotDestroyed(){we(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,c.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const x=document.createElement("div");_.appendChild(x),_=x}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,c.Z)(function*(){we($e()&&!bf(),m.auth,"internal-error"),yield function(){let b=null;return new Promise(m=>{"complete"!==document.readyState?(b=()=>m(),window.addEventListener("load",b)):m()}).catch(m=>{throw b&&window.removeEventListener("load",b),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function(b){return na.apply(this,arguments)}(m.auth);we(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return we(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Wi{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=Ga._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function Mf(){return(Mf=(0,c.Z)(function*(b,m,_){const x=ot(b),R=yield Er(x,m,(0,j.m9)(_));return new Wi(R,N=>Uc(x,N))})).apply(this,arguments)}function yu(){return(yu=(0,c.Z)(function*(b,m,_){const x=(0,j.m9)(b);yield Jo(!1,x,"phone");const R=yield Er(x.auth,m,(0,j.m9)(_));return new Wi(R,N=>tu(x,N))})).apply(this,arguments)}function bo(){return(bo=(0,c.Z)(function*(b,m,_){const x=(0,j.m9)(b),R=yield Er(x.auth,m,(0,j.m9)(_));return new Wi(R,N=>pA(x,N))})).apply(this,arguments)}function Er(b,m,_){return SA.apply(this,arguments)}function SA(){return(SA=(0,c.Z)(function*(b,m,_){var x;const R=yield _.verify();try{let N;if(we("string"==typeof R,b,"argument-error"),we(_.type===DA,b,"argument-error"),N="string"==typeof m?{phoneNumber:m}:m,"session"in N){const K=N.session;if("phoneNumber"in N)return we("enroll"===K.type,b,"internal-error"),(yield H_(b,{idToken:K.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:R}})).phoneSessionInfo.sessionInfo;{we("signin"===K.type,b,"internal-error");const _e=(null===(x=N.multiFactorHint)||void 0===x?void 0:x.uid)||N.multiFactorUid;return we(_e,b,"missing-multi-factor-info"),(yield ks(b,{mfaPendingCredential:K.credential,mfaEnrollmentId:_e,phoneSignInInfo:{recaptchaToken:R}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:K}=yield qb(b,{phoneNumber:N.phoneNumber,recaptchaToken:R});return K}}finally{_._reset()}})).apply(this,arguments)}function Rf(){return(Rf=(0,c.Z)(function*(b,m){yield lf((0,j.m9)(b),m)})).apply(this,arguments)}let Os=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=ot(_)}verifyPhoneNumber(_,x){return Er(this.auth,_,(0,j.m9)(x))}static credential(_,x){return Ga._fromVerification(_,x)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:x,temporaryProof:R}=_;return x&&R?Ga._fromTokenResponse(x,R):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function rl(b,m){return m?ge(m):(we(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Xt extends ar{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return An(m,this._buildIdpRequest())}_linkToIdToken(m,_){return An(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return An(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function ds(b){return uf(b.auth,new Xt(b),b.bypassAuthState)}function _u(b){const{auth:m,user:_}=b;return we(_,m,"internal-error"),Bc(_,new Xt(b),b.bypassAuthState)}function Ni(b){return hs.apply(this,arguments)}function hs(){return(hs=(0,c.Z)(function*(b){const{auth:m,user:_}=b;return we(_,m,"internal-error"),lf(_,new Xt(b),b.bypassAuthState)})).apply(this,arguments)}class dr{constructor(m,_,x,R,N=!1){this.auth=m,this.resolver=x,this.user=R,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,c.Z)(function*(x,R){m.pendingPromise={resolve:x,reject:R};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(N){m.reject(N)}});return function(x,R){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,c.Z)(function*(){const{urlResponse:x,sessionId:R,postBody:N,tenantId:K,error:_e,type:Me}=m;if(_e)return void _.reject(_e);const Ze={auth:_.auth,requestUri:x,sessionId:R,tenantId:K||void 0,postBody:N||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Me)(Ze))}catch($){_.reject($)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return ds;case"linkViaPopup":case"linkViaRedirect":return Ni;case"reauthViaPopup":case"reauthViaRedirect":return _u;default:Ee(this.auth,"internal-error")}}resolve(m){pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const yn=new qt(2e3,1e4);function fs(){return(fs=(0,c.Z)(function*(b,m,_){const x=ot(b);Ht(b,m,Wo);const R=rl(x,_);return new kf(x,"signInViaPopup",m,R).executeNotNull()})).apply(this,arguments)}function wu(){return(wu=(0,c.Z)(function*(b,m,_){const x=(0,j.m9)(b);Ht(x.auth,m,Wo);const R=rl(x.auth,_);return new kf(x.auth,"reauthViaPopup",m,R,x).executeNotNull()})).apply(this,arguments)}function Xc(){return(Xc=(0,c.Z)(function*(b,m,_){const x=(0,j.m9)(b);Ht(x.auth,m,Wo);const R=rl(x.auth,_);return new kf(x.auth,"linkViaPopup",m,R,x).executeNotNull()})).apply(this,arguments)}let kf=(()=>{class b extends dr{constructor(_,x,R,N,K){super(_,x,N,K),this.provider=R,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,c.Z)(function*(){const x=yield _.execute();return we(x,_.auth,"internal-error"),x})()}onExecution(){var _=this;return(0,c.Z)(function*(){pe(1===_.filter.length,"Popup operations only handle one event");const x=vo();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],x),_.authWindow.associatedEvent=x,_.resolver._originValidation(_.auth).catch(R=>{_.reject(R)}),_.resolver._isIframeWebStorageSupported(_.auth,R=>{R||_.reject(Pe(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Pe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var x,R;this.pollId=(null===(R=null===(x=this.authWindow)||void 0===x?void 0:x.window)||void 0===R?void 0:R.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Pe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,yn.get())};_()}}return b.currentPopupAction=null,b})();const Vr=new Map;class Zi extends dr{constructor(m,_,x=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,x),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,c.Z)(function*(){let x=Vr.get(_.auth._key());if(!x){try{const N=(yield function(b,m){return Fs.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;x=()=>Promise.resolve(N)}catch(R){x=()=>Promise.reject(R)}Vr.set(_.auth._key(),x)}return x()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,x=this;return(0,c.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(x,m);if("unknown"!==m.type){if(m.eventId){const R=yield x.auth._redirectUserForId(m.eventId);if(R)return x.user=R,_().call(x,m);x.resolve(null)}}else x.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Fs(){return(Fs=(0,c.Z)(function*(b,m){const _=id(m),x="true"===(yield nd(b)._get(_));return yield nd(b)._remove(_),x})).apply(this,arguments)}function Of(b,m){return td.apply(this,arguments)}function td(){return(td=(0,c.Z)(function*(b,m){return nd(b)._set(id(m),"true")})).apply(this,arguments)}function nd(b){return ge(b._redirectPersistence)}function id(b){return Gn("pendingRedirect",b.config.apiKey,b.name)}function Co(){return(Co=(0,c.Z)(function*(b,m,_){const x=ot(b);Ht(b,m,Wo);const R=rl(x,_);return yield Of(R,x),R._openRedirect(x,m,"signInViaRedirect")})).apply(this,arguments)}function sd(){return(sd=(0,c.Z)(function*(b,m,_){const x=(0,j.m9)(b);Ht(x.auth,m,Wo);const R=rl(x.auth,_);yield Of(R,x.auth);const N=yield aC(x);return R._openRedirect(x.auth,m,"reauthViaRedirect",N)})).apply(this,arguments)}function Ps(){return(Ps=(0,c.Z)(function*(b,m,_){const x=(0,j.m9)(b);Ht(x.auth,m,Wo);const R=rl(x.auth,_);yield Jo(!1,x,m.providerId),yield Of(R,x.auth);const N=yield aC(x);return R._openRedirect(x.auth,m,"linkViaRedirect",N)})).apply(this,arguments)}function ui(){return(ui=(0,c.Z)(function*(b,m){return yield ot(b)._initializationPromise,Ur(b,m,!1)})).apply(this,arguments)}function Ur(b,m){return sl.apply(this,arguments)}function sl(){return(sl=(0,c.Z)(function*(b,m,_=!1){const x=ot(b),R=rl(x,m),K=yield new Zi(x,R,_).execute();return K&&!_&&(delete K.user._redirectEventId,yield x._persistUserIfCurrent(K.user),yield x._setRedirectUser(null,m)),K})).apply(this,arguments)}function aC(b){return ad.apply(this,arguments)}function ad(){return(ad=(0,c.Z)(function*(b){const m=vo(`${b.uid}:::`);return b._redirectEventId=m,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),m})).apply(this,arguments)}class Ls{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(x=>{this.isEventForConsumer(m,x)&&(_=!0,this.sendToConsumer(m,x),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return en(b);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var x;if(m.error&&!en(m)){const R=(null===(x=m.error.code)||void 0===x?void 0:x.split("auth/")[1])||"internal-error";_.onError(Pe(this.auth,R))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const x=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&x}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ld(m))}saveEventToCache(m){this.cachedEventUids.add(ld(m)),this.lastProcessedEventTime=Date.now()}}function ld(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(m=>m).join("-")}function en({type:b,error:m}){return"unknown"===b&&"auth/no-auth-event"===(null==m?void 0:m.code)}function ud(b){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,c.Z)(function*(b,m={}){return Lt(b,"GET","/v1/projects",m)})).apply(this,arguments)}const cd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lC=/^https?/;function Ff(){return(Ff=(0,c.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:m}=yield ud(b);for(const _ of m)try{if(rS(_))return}catch(x){}Ee(b,"unauthorized-domain")})).apply(this,arguments)}function rS(b){const m=Be(),{protocol:_,hostname:x}=new URL(m);if(b.startsWith("chrome-extension://")){const K=new URL(b);return""===K.hostname&&""===x?"chrome-extension:"===_&&b.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&K.hostname===x}if(!lC.test(_))return!1;if(cd.test(b))return x===b;const R=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+R+"|"+R+")$","i").test(x)}const bu=new qt(3e4,6e4);function gs(){const b=dn().___jsl;if(null==b?void 0:b.H)for(const m of Object.keys(b.H))if(b.H[m].r=b.H[m].r||[],b.H[m].L=b.H[m].L||[],b.H[m].r=[...b.H[m].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let Ji=null;function dd(b){return Ji=Ji||function(b){return new Promise((m,_)=>{var x,R,N;function K(){gs(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{gs(),_(Pe(b,"network-request-failed"))},timeout:bu.get()})}if(null===(R=null===(x=dn().gapi)||void 0===x?void 0:x.iframes)||void 0===R?void 0:R.Iframe)m(gapi.iframes.getContext());else{if(!(null===(N=dn().gapi)||void 0===N?void 0:N.load)){const _e=Sf("iframefcb");return dn()[_e]=()=>{gapi.load?K():_(Pe(b,"network-request-failed"))},Df(`https://apis.google.com/js/api.js?onload=${_e}`)}K()}}).catch(m=>{throw Ji=null,m})}(b),Ji}const Cu=new qt(5e3,15e3),xu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},K_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $_(b){const m=b.config;we(m.authDomain,b,"auth-domain-config-required");const _=m.emulator?pn(m,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,x={apiKey:m.apiKey,appName:b.name,v:le.SDK_VERSION},R=K_.get(b.config.apiHost);R&&(x.eid=R);const N=b._getFrameworks();return N.length&&(x.fw=N.join(",")),`${_}?${(0,j.xO)(x).slice(1)}`}function la(){return(la=(0,c.Z)(function*(b){const m=yield dd(b),_=dn().gapi;return we(_,b,"internal-error"),m.open({where:document.body,url:$_(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xu,dontclear:!0},x=>new Promise(function(){var R=(0,c.Z)(function*(N,K){yield x.restyle({setHideOnLeave:!1});const _e=Pe(b,"network-request-failed"),Me=dn().setTimeout(()=>{K(_e)},Cu.get());function Ze(){dn().clearTimeout(Me),N(x)}x.ping(Ze).then(Ze,()=>{K(_e)})});return function(N,K){return R.apply(this,arguments)}}()))})).apply(this,arguments)}const NA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class PA{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(m){}}}function br(b,m,_,x,R,N){we(b.config.authDomain,b,"auth-domain-config-required"),we(b.config.apiKey,b,"invalid-api-key");const K={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:x,v:le.SDK_VERSION,eventId:R};if(m instanceof Wo){m.setDefaultLanguage(b.languageCode),K.providerId=m.providerId||"",(0,j.xb)(m.getCustomParameters())||(K.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Me,Ze]of Object.entries(N||{}))K[Me]=Ze}if(m instanceof $l){const Me=m.getScopes().filter(Ze=>""!==Ze);Me.length>0&&(K.scopes=Me.join(","))}b.tenantId&&(K.tid=b.tenantId);const _e=K;for(const Me of Object.keys(_e))void 0===_e[Me]&&delete _e[Me];return`${function({config:b}){return b.emulator?pn(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,j.xO)(_e).slice(1)}`}const Io="webStorageSupport";class Su extends class{constructor(m){this.factorId=m}_process(m,_,x){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,x);case"signin":return this._finalizeSignIn(m,_.credential);default:return se("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Su(m)}_finalizeEnroll(m,_,x){return function(b,m){return Lt(b,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:b.tenantId},m))}(m,{idToken:_,displayName:x,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function(b,m){return Lt(b,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:b.tenantId},m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class gd{constructor(){}static assertion(m){return Su._fromCredential(m)}}var b;class Vf{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,c.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(x=>{var R;m((null===(R=x)||void 0===R?void 0:R.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);!_||(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ca(){return window}function ll(){return(ll=(0,c.Z)(function*(b,m,_){var x;const{BuildInfo:R}=ca();pe(m.sessionId,"AuthEvent did not contain a session ID");const N=yield QA(m.sessionId),K={};return Pr()?K.ibi=R.packageName:La()?K.apn=R.packageName:Ee(b,"operation-not-supported-in-this-environment"),R.displayName&&(K.appDisplayName=R.displayName),K.sessionId=N,br(b,_,m.type,void 0,null!==(x=m.eventId)&&void 0!==x?x:void 0,K)})).apply(this,arguments)}function GA(){return(GA=(0,c.Z)(function*(b){const{BuildInfo:m}=ca(),_={};Pr()?_.iosBundleId=m.packageName:La()?_.androidPackageName=m.packageName:Ee(b,"operation-not-supported-in-this-environment"),yield ud(b,_)})).apply(this,arguments)}function HA(){return(HA=(0,c.Z)(function*(b,m,_){const{cordova:x}=ca();let R=()=>{};try{yield new Promise((N,K)=>{let _e=null;function Me(){var Qe;N();const Je=null===(Qe=x.plugins.browsertab)||void 0===Qe?void 0:Qe.close;"function"==typeof Je&&Je(),"function"==typeof(null==_?void 0:_.close)&&_.close()}function Ze(){_e||(_e=window.setTimeout(()=>{K(Pe(b,"redirect-cancelled-by-user"))},2e3))}function $(){"visible"===(null==document?void 0:document.visibilityState)&&Ze()}m.addPassiveListener(Me),document.addEventListener("resume",Ze,!1),La()&&document.addEventListener("visibilitychange",$,!1),R=()=>{m.removePassiveListener(Me),document.removeEventListener("resume",Ze,!1),document.removeEventListener("visibilitychange",$,!1),_e&&window.clearTimeout(_e)}})}finally{R()}})).apply(this,arguments)}function QA(b){return Uf.apply(this,arguments)}function Uf(){return(Uf=(0,c.Z)(function*(b){const m=hC(b),_=yield crypto.subtle.digest("SHA-256",m);return Array.from(new Uint8Array(_)).map(R=>R.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function hC(b){if(pe(/[0-9a-zA-Z]+/.test(b),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(b);const m=new ArrayBuffer(b.length),_=new Uint8Array(m);for(let x=0;x<b.length;x++)_[x]=b.charCodeAt(x);return _}b="Browser",(0,le._registerComponent)(new oe.wA("auth",(m,{options:_})=>{const x=m.getProvider("app").getImmediate(),{apiKey:R,authDomain:N}=x.options;return(K=>{we(R&&!R.includes(":"),"invalid-api-key",{appName:K.name}),we(!(null==N?void 0:N.includes(":")),"argument-error",{appName:K.name});const _e={apiKey:R,authDomain:N,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mi(b)},Me=new He(K,_e);return function(b,m){const _=(null==m?void 0:m.persistence)||[],x=(Array.isArray(_)?_:[_]).map(ge);(null==m?void 0:m.errorMap)&&b._updateErrorMap(m.errorMap),b._initializeWithPersistence(x,null==m?void 0:m.popupRedirectResolver)}(Me,_),Me})(x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,x)=>{m.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new oe.wA("auth-internal",m=>{const _=ot(m.getProvider("auth").getImmediate());return new Vf(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)("@firebase/auth","0.17.2",void 0);class tv extends Ls{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(m=>{this.resolveInialized=m})}addPassiveListener(m){this.passiveListeners.add(m)}removePassiveListener(m){this.passiveListeners.delete(m)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(m){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(m)),super.onEvent(m)}initialized(){var m=this;return(0,c.Z)(function*(){yield m.initPromise})()}}function pd(b){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,c.Z)(function*(b){const m=yield md()._get(Ru(b));return m&&(yield md()._remove(Ru(b))),m})).apply(this,arguments)}function Hf(){const b=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<20;_++){const x=Math.floor(Math.random()*m.length);b.push(m.charAt(x))}return b.join("")}function md(){return ge(Ka)}function Ru(b){return Gn("authEvent",b.config.apiKey,b.name)}function ku(b){if(!(null==b?void 0:b.includes("?")))return{};const[m,..._]=b.split("?");return(0,j.zd)(_.join("?"))}function Ou(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Pe("no-auth-event")}}function Nu(){var b;return(null===(b=null==self?void 0:self.location)||void 0===b?void 0:b.protocol)||null}function ul(b=(0,j.z$)()){return!("file:"!==Nu()&&"ionic:"!==Nu()||!b.toLowerCase().match(/iphone|ipad|ipod|android/))}function ln(){try{const b=self.localStorage,m=vo();if(b)return b.setItem(m,"1"),b.removeItem(m),!function(b=(0,j.z$)()){return(0,j.w1)()&&11===(null==document?void 0:document.documentMode)||function(b=(0,j.z$)()){return/Edge\/\d+/.test(b)}(b)}()||(0,j.hl)()}catch(b){return Ed()&&(0,j.hl)()}return!1}function Ed(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function bd(){return("http:"===Nu()||"https:"===Nu()||(0,j.ru)()||ul())&&!((0,j.b$)()||(0,j.UG)())&&ln()&&!Ed()}function Cd(){return ul()&&"undefined"!=typeof document}function Fu(){return(Fu=(0,c.Z)(function*(){return!!Cd()&&new Promise(b=>{const m=setTimeout(()=>{b(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(m),b(!0)})})})).apply(this,arguments)}const Ki={LOCAL:"local",NONE:"none",SESSION:"session"},cl=we,Wf="persistence";function Zf(b){return YA.apply(this,arguments)}function YA(){return(YA=(0,c.Z)(function*(b){yield b._initializationPromise;const m=fi(),_=Gn(Wf,b.config.apiKey,b.name);(null==m?void 0:m.sessionStorage)&&m.sessionStorage.setItem(_,b._getPersistence())})).apply(this,arguments)}function fi(){return"undefined"!=typeof window?window:null}const Jf=we;class Gr{constructor(){this.browserResolver=ge(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$o,this._completeRedirectFn=Ur}_openPopup(m,_,x,R){var N=this;return(0,c.Z)(function*(){var K;pe(null===(K=N.eventManagers[m._key()])||void 0===K?void 0:K.manager,"_initialize() not called before _openPopup()");const _e=br(m,_,x,Be(),R);return function(b,m,_,x=500,R=600){const N=Math.max((window.screen.availHeight-R)/2,0).toString(),K=Math.max((window.screen.availWidth-x)/2,0).toString();let _e="";const Me=Object.assign(Object.assign({},NA),{width:x.toString(),height:R.toString(),top:N,left:K}),Ze=(0,j.z$)().toLowerCase();_&&(_e=Xh(Ze)?"_blank":_),Zl(Ze)&&(m=m||"http://localhost",Me.scrollbars="yes");const $=Object.entries(Me).reduce((Je,[Xi,jr])=>`${Je}${Xi}=${jr},`,"");if(function(b=(0,j.z$)()){var m;return Pr(b)&&!!(null===(m=window.navigator)||void 0===m?void 0:m.standalone)}(Ze)&&"_self"!==_e)return function(b,m){const _=document.createElement("a");_.href=b,_.target=m;const x=document.createEvent("MouseEvent");x.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(x)}(m||"",_e),new PA(null);const Qe=window.open(m||"",_e,$);we(Qe,b,"popup-blocked");try{Qe.focus()}catch(Je){}return new PA(Qe)}(m,_e,vo())})()}_openRedirect(m,_,x,R){var N=this;return(0,c.Z)(function*(){return yield N._originValidation(m),b=br(m,_,x,Be(),R),dn().location.href=b,new Promise(()=>{});var b})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:R,promise:N}=this.eventManagers[_];return R?Promise.resolve(R):(pe(N,"If manager is not set, promise should be"),N)}const x=this.initAndGetManager(m);return this.eventManagers[_]={promise:x},x}initAndGetManager(m){var _=this;return(0,c.Z)(function*(){const x=yield function(b){return la.apply(this,arguments)}(m),R=new Ls(m);return x.register("authEvent",N=>(we(null==N?void 0:N.authEvent,m,"invalid-auth-event"),{status:R.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:R},_.iframes[m._key()]=x,R})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(Io,{type:Io},R=>{var N;const K=null===(N=null==R?void 0:R[0])||void 0===N?void 0:N[Io];void 0!==K&&_(!!K),Ee(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function(b){return Ff.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return ji()||Oc()||Pr()}}),this.cordovaResolver=ge(class{constructor(){this._redirectPersistence=$o,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ur}_initialize(m){var _=this;return(0,c.Z)(function*(){const x=m._key();let R=_.eventManagers.get(x);return R||(R=new tv(m),_.eventManagers.set(x,R),_.attachCallbackListeners(m,R)),R})()}_openPopup(m){Ee(m,"operation-not-supported-in-this-environment")}_openRedirect(m,_,x,R){var N=this;return(0,c.Z)(function*(){!function(b){var m,_,x,R,N,K,_e,Me,Ze,$;const Qe=ca();we("function"==typeof(null===(m=null==Qe?void 0:Qe.universalLinks)||void 0===m?void 0:m.subscribe),b,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),we(void 0!==(null===(_=null==Qe?void 0:Qe.BuildInfo)||void 0===_?void 0:_.packageName),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),we("function"==typeof(null===(N=null===(R=null===(x=null==Qe?void 0:Qe.cordova)||void 0===x?void 0:x.plugins)||void 0===R?void 0:R.browsertab)||void 0===N?void 0:N.openUrl),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),we("function"==typeof(null===(Me=null===(_e=null===(K=null==Qe?void 0:Qe.cordova)||void 0===K?void 0:K.plugins)||void 0===_e?void 0:_e.browsertab)||void 0===Me?void 0:Me.isAvailable),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),we("function"==typeof(null===($=null===(Ze=null==Qe?void 0:Qe.cordova)||void 0===Ze?void 0:Ze.InAppBrowser)||void 0===$?void 0:$.open),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(m);const K=yield N._initialize(m);yield K.initialized(),K.resetRedirect(),Vr.clear(),yield N._originValidation(m);const _e=function(b,m,_=null){return{type:m,eventId:_,urlResponse:null,sessionId:Hf(),postBody:null,tenantId:b.tenantId,error:Pe(b,"no-auth-event")}}(m,x,R);yield function(b,m){return md()._set(Ru(b),m)}(m,_e);const Me=yield function(b,m,_){return ll.apply(this,arguments)}(m,_e,_),Ze=yield function(b){const{cordova:m}=ca();return new Promise(_=>{m.plugins.browsertab.isAvailable(x=>{let R=null;x?m.plugins.browsertab.openUrl(b):R=m.InAppBrowser.open(b,function(b=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}()?"_blank":"_system","location=yes"),_(R)})})}(Me);return function(b,m,_){return HA.apply(this,arguments)}(m,K,Ze)})()}_isIframeWebStorageSupported(m,_){throw new Error("Method not implemented.")}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function(b){return GA.apply(this,arguments)}(m)),this.originValidationPromises[_]}attachCallbackListeners(m,_){const{universalLinks:x,handleOpenURL:R,BuildInfo:N}=ca(),K=setTimeout((0,c.Z)(function*(){yield pd(m),_.onEvent(Ou())}),500),_e=function(){var $=(0,c.Z)(function*(Qe){clearTimeout(K);const Je=yield pd(m);let Xi=null;Je&&(null==Qe?void 0:Qe.url)&&(Xi=function(b,m){var _,x;const R=function(b){const m=ku(b),_=m.link?decodeURIComponent(m.link):void 0,x=ku(_).link,R=m.deep_link_id?decodeURIComponent(m.deep_link_id):void 0;return ku(R).link||R||x||_||b}(m);if(R.includes("/__/auth/callback")){const N=ku(R),K=N.firebaseError?function(b){try{return JSON.parse(b)}catch(m){return null}}(decodeURIComponent(N.firebaseError)):null,_e=null===(x=null===(_=null==K?void 0:K.code)||void 0===_?void 0:_.split("auth/"))||void 0===x?void 0:x[1],Me=_e?Pe(_e):null;return Me?{type:b.type,eventId:b.eventId,tenantId:b.tenantId,error:Me,urlResponse:null,sessionId:null,postBody:null}:{type:b.type,eventId:b.eventId,tenantId:b.tenantId,sessionId:b.sessionId,urlResponse:R,postBody:null}}return null}(Je,Qe.url)),_.onEvent(Xi||Ou())});return function(Je){return $.apply(this,arguments)}}();void 0!==x&&"function"==typeof x.subscribe&&x.subscribe(null,_e);const Me=R,Ze=`${N.packageName.toLowerCase()}://`;ca().handleOpenURL=function(){var $=(0,c.Z)(function*(Qe){if(Qe.toLowerCase().startsWith(Ze)&&_e({url:Qe}),"function"==typeof Me)try{Me(Qe)}catch(Je){console.error(Je)}});return function(Qe){return $.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=$o,this._completeRedirectFn=Ur}_initialize(m){var _=this;return(0,c.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(m)})()}_openPopup(m,_,x,R){var N=this;return(0,c.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openPopup(m,_,x,R)})()}_openRedirect(m,_,x,R){var N=this;return(0,c.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openRedirect(m,_,x,R)})()}_isIframeWebStorageSupported(m,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(m,_)}_originValidation(m){return this.assertedUnderlyingResolver._originValidation(m)}get _shouldInitProactively(){return Cd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Jf(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var m=this;return(0,c.Z)(function*(){if(m.underlyingResolver)return;const _=yield function(){return Fu.apply(this,arguments)}();m.underlyingResolver=_?m.cordovaResolver:m.browserResolver})()}}function xd(b){return b.unwrap()}function hl(b){return $f(b)}function Kf(b,m){var _;const x=null===(_=m.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===m.code)m.resolver=new pC(b,function(b,m){var _;const x=(0,j.m9)(b),R=m;return we(m.operationType,x,"argument-error"),we(null===(_=R.serverResponse)||void 0===_?void 0:_.mfaPendingCredential,x,"argument-error"),yf._fromError(x,R)}(b,m));else if(x){const R=$f(m),N=m;R&&(N.credential=R,N.tenantId=x.tenantId||void 0,N.email=x.email||void 0,N.phoneNumber=x.phoneNumber||void 0)}}function $f(b){const{_tokenResponse:m}=b instanceof j.ZR?b.customData:b;if(!m)return null;if(!(b instanceof j.ZR)&&"temporaryProof"in m&&"phoneNumber"in m)return Os.credentialFromResult(b);const _=m.providerId;if(!_||"password"===_)return null;let x;switch(_){case"google.com":x=N_;break;case"facebook.com":x=Ha;break;case"github.com":x=Xb;break;case"twitter.com":x=rf;break;default:const{oauthIdToken:R,oauthAccessToken:N,oauthTokenSecret:K,pendingToken:_e,nonce:Me}=m;return N||K||R||_e?_e?_.startsWith("saml.")?ur._create(_,_e):os._fromParams({providerId:_,signInMethod:_,pendingToken:_e,idToken:R,accessToken:N}):new Ts(_).credential({idToken:R,accessToken:N,rawNonce:Me}):null}return b instanceof j.ZR?x.credentialFromError(b):x.credentialFromResult(b)}function $i(b,m){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,c.Z)(function*(b,m){let _;try{_=yield m}catch(N){throw N instanceof j.ZR&&Kf(b,N),N}const{operationType:x,user:R}=_;return{operationType:x,credential:hl(_),additionalUserInfo:wA(_),user:Us.getOrCreate(R)}})).apply(this,arguments)}function Xf(b,m){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,c.Z)(function*(b,m){const _=yield m;return{verificationId:_.verificationId,confirm:x=>$i(b,_.confirm(x))}})).apply(this,arguments)}class pC{constructor(m,_){this.resolver=_,this.auth=function(b){return b.wrapped()}(m)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(m){return $i(xd(this.auth),this.resolver.resolveSignIn(m))}}class Us{constructor(m){this._delegate=m,this.multiFactor=function(b){const m=(0,j.m9)(b);return cu.has(m)||cu.set(m,Ja._fromUser(m)),cu.get(m)}(m)}static getOrCreate(m){return Us.USER_MAP.has(m)||Us.USER_MAP.set(m,new Us(m)),Us.USER_MAP.get(m)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(m){return this._delegate.getIdTokenResult(m)}getIdToken(m){return this._delegate.getIdToken(m)}linkAndRetrieveDataWithCredential(m){return this.linkWithCredential(m)}linkWithCredential(m){var _=this;return(0,c.Z)(function*(){return $i(_.auth,tu(_._delegate,m))})()}linkWithPhoneNumber(m,_){var x=this;return(0,c.Z)(function*(){return Xf(x.auth,function(b,m,_){return yu.apply(this,arguments)}(x._delegate,m,_))})()}linkWithPopup(m){var _=this;return(0,c.Z)(function*(){return $i(_.auth,function(b,m,_){return Xc.apply(this,arguments)}(_._delegate,m,Gr))})()}linkWithRedirect(m){var _=this;return(0,c.Z)(function*(){return yield Zf(ot(_.auth)),function(b,m,_){return function(b,m,_){return Ps.apply(this,arguments)}(b,m,_)}(_._delegate,m,Gr)})()}reauthenticateAndRetrieveDataWithCredential(m){return this.reauthenticateWithCredential(m)}reauthenticateWithCredential(m){var _=this;return(0,c.Z)(function*(){return $i(_.auth,pA(_._delegate,m))})()}reauthenticateWithPhoneNumber(m,_){return Xf(this.auth,function(b,m,_){return bo.apply(this,arguments)}(this._delegate,m,_))}reauthenticateWithPopup(m){return $i(this.auth,function(b,m,_){return wu.apply(this,arguments)}(this._delegate,m,Gr))}reauthenticateWithRedirect(m){var _=this;return(0,c.Z)(function*(){return yield Zf(ot(_.auth)),function(b,m,_){return function(b,m,_){return sd.apply(this,arguments)}(b,m,_)}(_._delegate,m,Gr)})()}sendEmailVerification(m){return function(b,m){return Yi.apply(this,arguments)}(this._delegate,m)}unlink(m){var _=this;return(0,c.Z)(function*(){return yield function(b,m){return ja.apply(this,arguments)}(_._delegate,m),_})()}updateEmail(m){return function(b,m){return uu((0,j.m9)(b),m,null)}(this._delegate,m)}updatePassword(m){return function(b,m){return uu((0,j.m9)(b),null,m)}(this._delegate,m)}updatePhoneNumber(m){return function(b,m){return Rf.apply(this,arguments)}(this._delegate,m)}updateProfile(m){return function(b,m){return gf.apply(this,arguments)}(this._delegate,m)}verifyBeforeUpdateEmail(m,_){return function(b,m,_){return _o.apply(this,arguments)}(this._delegate,m,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Us.USER_MAP=new WeakMap;const Id=we;let eg=(()=>{class b{constructor(_,x){if(this.app=_,x.isInitialized())return this._delegate=x.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:R}=_.options;Id(R,"invalid-api-key",{appName:_.name});let N=[on];if("undefined"!=typeof window){N=function(b,m){const _=fi();if(!(null==_?void 0:_.sessionStorage))return[];const x=Gn(Wf,b,m);switch(_.sessionStorage.getItem(x)){case Ki.NONE:return[on];case Ki.LOCAL:return[Zn,$o];case Ki.SESSION:return[$o];default:return[]}}(R,_.name);for(const _e of[Zn,Ka,$o])N.includes(_e)||N.push(_e)}Id(R,"invalid-api-key",{appName:_.name});const K="undefined"!=typeof window?Gr:void 0;this._delegate=x.initialize({options:{persistence:N,popupRedirectResolver:K}}),this._delegate._updateErrorMap(ue),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Us.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,x){!function(b,m,_){const x=ot(b);we(x._canInitEmulator,x,"emulator-config-failed"),we(/^https?:\/\//.test(m),x,"invalid-emulator-scheme");const R=!!(null==_?void 0:_.disableWarnings),N=ho(m),{host:K,port:_e}=function(b){const m=ho(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(m.length));if(!_)return{host:"",port:null};const x=_[2].split("@").pop()||"",R=/^(\[[^\]]+\])(:|$)/.exec(x);if(R){const N=R[1];return{host:N,port:fo(x.substr(N.length+1))}}{const[N,K]=x.split(":");return{host:N,port:fo(K)}}}(m);x.config.emulator={url:`${N}//${K}${null===_e?"":`:${_e}`}/`},x.settings.appVerificationDisabledForTesting=!0,x.emulatorConfig=Object.freeze({host:K,port:_e,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:R})}),function(b){function m(){const _=document.createElement("p"),x=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",x.position="fixed",x.width="100%",x.backgroundColor="#ffffff",x.border=".1em solid #000000",x.color="#b50000",x.bottom="0px",x.left="0px",x.margin="0px",x.zIndex="10000",x.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!b&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}(R)}(this._delegate,_,x)}applyActionCode(_){return function(b,m){return Ko.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return za(this._delegate,_)}confirmPasswordReset(_,x){return function(b,m,_){return AA.apply(this,arguments)}(this._delegate,_,x)}createUserWithEmailAndPassword(_,x){var R=this;return(0,c.Z)(function*(){return $i(R._delegate,function(b,m,_){return qa.apply(this,arguments)}(R._delegate,_,x))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function(b,m){return au.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function(b,m){const _=Pc.parseLink(m);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}(0,_)}getRedirectResult(){var _=this;return(0,c.Z)(function*(){Id(bd(),_._delegate,"operation-not-supported-in-this-environment");const x=yield function(b,m){return ui.apply(this,arguments)}(_._delegate,Gr);return x?$i(_._delegate,Promise.resolve(x)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function(b,m){ot(b)._logFramework(m)}(this._delegate,_)}onAuthStateChanged(_,x,R){const{next:N,error:K,complete:_e}=WA(_,x,R);return this._delegate.onAuthStateChanged(N,K,_e)}onIdTokenChanged(_,x,R){const{next:N,error:K,complete:_e}=WA(_,x,R);return this._delegate.onIdTokenChanged(N,K,_e)}sendSignInLinkToEmail(_,x){return function(b,m,_){return yo.apply(this,arguments)}(this._delegate,_,x)}sendPasswordResetEmail(_,x){return function(b,m,_){return ht.apply(this,arguments)}(this._delegate,_,x||void 0)}setPersistence(_){var x=this;return(0,c.Z)(function*(){let R;switch(function(b,m){cl(Object.values(Ki).includes(m),b,"invalid-persistence-type"),(0,j.b$)()?cl(m!==Ki.SESSION,b,"unsupported-persistence-type"):(0,j.UG)()?cl(m===Ki.NONE,b,"unsupported-persistence-type"):Ed()?cl(m===Ki.NONE||m===Ki.LOCAL&&(0,j.hl)(),b,"unsupported-persistence-type"):cl(m===Ki.NONE||ln(),b,"unsupported-persistence-type")}(x._delegate,_),_){case Ki.SESSION:R=$o;break;case Ki.LOCAL:R=(yield ge(Zn)._isAvailable())?Zn:Ka;break;case Ki.NONE:R=on;break;default:return Ee("argument-error",{appName:x._delegate.name})}return x._delegate.setPersistence(R)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return $i(this._delegate,function(b){return Lc.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return $i(this._delegate,Uc(this._delegate,_))}signInWithCustomToken(_){return $i(this._delegate,function(b,m){return iu.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,x){return $i(this._delegate,function(b,m,_){return Uc((0,j.m9)(b),fA.credential(m,_))}(this._delegate,_,x))}signInWithEmailLink(_,x){return $i(this._delegate,function(b,m,_){return su.apply(this,arguments)}(this._delegate,_,x))}signInWithPhoneNumber(_,x){return Xf(this._delegate,function(b,m,_){return Mf.apply(this,arguments)}(this._delegate,_,x))}signInWithPopup(_){var x=this;return(0,c.Z)(function*(){return Id(bd(),x._delegate,"operation-not-supported-in-this-environment"),$i(x._delegate,function(b,m,_){return fs.apply(this,arguments)}(x._delegate,_,Gr))})()}signInWithRedirect(_){var x=this;return(0,c.Z)(function*(){return Id(bd(),x._delegate,"operation-not-supported-in-this-environment"),yield Zf(x._delegate),function(b,m,_){return function(b,m,_){return Co.apply(this,arguments)}(b,m,_)}(x._delegate,_,Gr)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function(b,m){return De.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return b.Persistence=Ki,b})();function WA(b,m,_){let x=b;"function"!=typeof b&&({next:x,error:m,complete:_}=b);const R=x;return{next:K=>R(K&&Us.getOrCreate(K)),error:m,complete:_}}class Bu{constructor(){this.providerId="phone",this._delegate=new Os(xd(ae.Z.auth()))}static credential(m,_){return Os.credential(m,_)}verifyPhoneNumber(m,_){return this._delegate.verifyPhoneNumber(m,_)}unwrap(){return this._delegate}}Bu.PHONE_SIGN_IN_METHOD=Os.PHONE_SIGN_IN_METHOD,Bu.PROVIDER_ID=Os.PROVIDER_ID;const tg=we;class ng{constructor(m,_,x=ae.Z.app()){var R;tg(null===(R=x.options)||void 0===R?void 0:R.apiKey,"invalid-api-key",{appName:x.name}),this._delegate=new ra(m,_,x.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(b){b.INTERNAL.registerComponent(new oe.wA("auth-compat",m=>{const _=m.getProvider("app-compat").getImmediate(),x=m.getProvider("auth");return new eg(_,x)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:fA,FacebookAuthProvider:Ha,GithubAuthProvider:Xb,GoogleAuthProvider:N_,OAuthProvider:Ts,PhoneAuthProvider:Bu,PhoneMultiFactorGenerator:gd,RecaptchaVerifier:ng,TwitterAuthProvider:rf,Auth:eg,AuthCredential:ar,Error:j.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),b.registerVersion("@firebase/auth-compat","0.1.2")}(ae.Z)},1593:(qe,Ce,P)=>{"use strict";P.d(Ce,{P:()=>oe});var c=P(9193),ae=P(5917),j=P(8891);class oe{constructor(V,L,Q){this.kind=V,this.value=L,this.error=Q,this.hasValue="N"===V}observe(V){switch(this.kind){case"N":return V.next&&V.next(this.value);case"E":return V.error&&V.error(this.error);case"C":return V.complete&&V.complete()}}do(V,L,Q){switch(this.kind){case"N":return V&&V(this.value);case"E":return L&&L(this.error);case"C":return Q&&Q()}}accept(V,L,Q){return V&&"function"==typeof V.next?this.observe(V):this.do(V,L,Q)}toObservable(){switch(this.kind){case"N":return(0,ae.of)(this.value);case"E":return fe=this.error,new j.y(L=>L.error(fe));case"C":return(0,c.c)()}var fe;throw new Error("unexpected notification kind value")}static createNext(V){return void 0!==V?new oe("N",V):oe.undefinedValueNotification}static createError(V){return new oe("E",void 0,V)}static createComplete(){return oe.completeNotification}}oe.completeNotification=new oe("C"),oe.undefinedValueNotification=new oe("N",void 0)},8891:(qe,Ce,P)=>{"use strict";P.d(Ce,{y:()=>V});var c=P(7393),j=P(9181),le=P(6490),ce=P(6554),oe=P(4022),fe=P(2494);let V=(()=>{class Q{constructor(z){this._isScalar=!1,z&&(this._subscribe=z)}lift(z){const X=new Q;return X.source=this,X.operator=z,X}subscribe(z,X,ue){const{operator:ve}=this,Ie=function(Q,Y,z){if(Q){if(Q instanceof c.L)return Q;if(Q[j.b])return Q[j.b]()}return Q||Y||z?new c.L(Q,Y,z):new c.L(le.c)}(z,X,ue);if(Ie.add(ve?ve.call(Ie,this.source):this.source||fe.v.useDeprecatedSynchronousErrorHandling&&!Ie.syncErrorThrowable?this._subscribe(Ie):this._trySubscribe(Ie)),fe.v.useDeprecatedSynchronousErrorHandling&&Ie.syncErrorThrowable&&(Ie.syncErrorThrowable=!1,Ie.syncErrorThrown))throw Ie.syncErrorValue;return Ie}_trySubscribe(z){try{return this._subscribe(z)}catch(X){fe.v.useDeprecatedSynchronousErrorHandling&&(z.syncErrorThrown=!0,z.syncErrorValue=X),function(Q){for(;Q;){const{closed:Y,destination:z,isStopped:X}=Q;if(Y||X)return!1;Q=z&&z instanceof c.L?z:null}return!0}(z)?z.error(X):console.warn(X)}}forEach(z,X){return new(X=L(X))((ue,ve)=>{let Ie;Ie=this.subscribe(Fe=>{try{z(Fe)}catch(Ue){ve(Ue),Ie&&Ie.unsubscribe()}},ve,ue)})}_subscribe(z){const{source:X}=this;return X&&X.subscribe(z)}[ce.L](){return this}pipe(...z){return 0===z.length?this:(0,oe.U)(z)(this)}toPromise(z){return new(z=L(z))((X,ue)=>{let ve;this.subscribe(Ie=>ve=Ie,Ie=>ue(Ie),()=>X(ve))})}}return Q.create=Y=>new Q(Y),Q})();function L(Q){if(Q||(Q=fe.v.Promise||Promise),!Q)throw new Error("no Promise impl found");return Q}},6490:(qe,Ce,P)=>{"use strict";P.d(Ce,{c:()=>j});var c=P(2494),ae=P(4449);const j={closed:!0,next(le){},error(le){if(c.v.useDeprecatedSynchronousErrorHandling)throw le;(0,ae.z)(le)},complete(){}}},9765:(qe,Ce,P)=>{"use strict";P.d(Ce,{Yc:()=>oe,xQ:()=>fe});var c=P(8891),ae=P(7393),j=P(5319),le=P(7971),ye=P(8858),ce=P(9181);class oe extends ae.L{constructor(Q){super(Q),this.destination=Q}}let fe=(()=>{class L extends c.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ce.b](){return new oe(this)}lift(Y){const z=new V(this,this);return z.operator=Y,z}next(Y){if(this.closed)throw new le.N;if(!this.isStopped){const{observers:z}=this,X=z.length,ue=z.slice();for(let ve=0;ve<X;ve++)ue[ve].next(Y)}}error(Y){if(this.closed)throw new le.N;this.hasError=!0,this.thrownError=Y,this.isStopped=!0;const{observers:z}=this,X=z.length,ue=z.slice();for(let ve=0;ve<X;ve++)ue[ve].error(Y);this.observers.length=0}complete(){if(this.closed)throw new le.N;this.isStopped=!0;const{observers:Y}=this,z=Y.length,X=Y.slice();for(let ue=0;ue<z;ue++)X[ue].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(Y){if(this.closed)throw new le.N;return super._trySubscribe(Y)}_subscribe(Y){if(this.closed)throw new le.N;return this.hasError?(Y.error(this.thrownError),j.w.EMPTY):this.isStopped?(Y.complete(),j.w.EMPTY):(this.observers.push(Y),new ye.W(this,Y))}asObservable(){const Y=new c.y;return Y.source=this,Y}}return L.create=(Q,Y)=>new V(Q,Y),L})();class V extends fe{constructor(Q,Y){super(),this.destination=Q,this.source=Y}next(Q){const{destination:Y}=this;Y&&Y.next&&Y.next(Q)}error(Q){const{destination:Y}=this;Y&&Y.error&&this.destination.error(Q)}complete(){const{destination:Q}=this;Q&&Q.complete&&this.destination.complete()}_subscribe(Q){const{source:Y}=this;return Y?this.source.subscribe(Q):j.w.EMPTY}}},8858:(qe,Ce,P)=>{"use strict";P.d(Ce,{W:()=>ae});var c=P(5319);class ae extends c.w{constructor(le,ye){super(),this.subject=le,this.subscriber=ye,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const le=this.subject,ye=le.observers;if(this.subject=null,!ye||0===ye.length||le.isStopped||le.closed)return;const ce=ye.indexOf(this.subscriber);-1!==ce&&ye.splice(ce,1)}}},7393:(qe,Ce,P)=>{"use strict";P.d(Ce,{L:()=>oe});var c=P(9105),ae=P(6490),j=P(5319),le=P(9181),ye=P(2494),ce=P(4449);class oe extends j.w{constructor(L,Q,Y){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ae.c;break;case 1:if(!L){this.destination=ae.c;break}if("object"==typeof L){L instanceof oe?(this.syncErrorThrowable=L.syncErrorThrowable,this.destination=L,L.add(this)):(this.syncErrorThrowable=!0,this.destination=new fe(this,L));break}default:this.syncErrorThrowable=!0,this.destination=new fe(this,L,Q,Y)}}[le.b](){return this}static create(L,Q,Y){const z=new oe(L,Q,Y);return z.syncErrorThrowable=!1,z}next(L){this.isStopped||this._next(L)}error(L){this.isStopped||(this.isStopped=!0,this._error(L))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(L){this.destination.next(L)}_error(L){this.destination.error(L),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:L}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=L,this}}class fe extends oe{constructor(L,Q,Y,z){super(),this._parentSubscriber=L;let X,ue=this;(0,c.m)(Q)?X=Q:Q&&(X=Q.next,Y=Q.error,z=Q.complete,Q!==ae.c&&(ue=Object.create(Q),(0,c.m)(ue.unsubscribe)&&this.add(ue.unsubscribe.bind(ue)),ue.unsubscribe=this.unsubscribe.bind(this))),this._context=ue,this._next=X,this._error=Y,this._complete=z}next(L){if(!this.isStopped&&this._next){const{_parentSubscriber:Q}=this;ye.v.useDeprecatedSynchronousErrorHandling&&Q.syncErrorThrowable?this.__tryOrSetError(Q,this._next,L)&&this.unsubscribe():this.__tryOrUnsub(this._next,L)}}error(L){if(!this.isStopped){const{_parentSubscriber:Q}=this,{useDeprecatedSynchronousErrorHandling:Y}=ye.v;if(this._error)Y&&Q.syncErrorThrowable?(this.__tryOrSetError(Q,this._error,L),this.unsubscribe()):(this.__tryOrUnsub(this._error,L),this.unsubscribe());else if(Q.syncErrorThrowable)Y?(Q.syncErrorValue=L,Q.syncErrorThrown=!0):(0,ce.z)(L),this.unsubscribe();else{if(this.unsubscribe(),Y)throw L;(0,ce.z)(L)}}}complete(){if(!this.isStopped){const{_parentSubscriber:L}=this;if(this._complete){const Q=()=>this._complete.call(this._context);ye.v.useDeprecatedSynchronousErrorHandling&&L.syncErrorThrowable?(this.__tryOrSetError(L,Q),this.unsubscribe()):(this.__tryOrUnsub(Q),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(L,Q){try{L.call(this._context,Q)}catch(Y){if(this.unsubscribe(),ye.v.useDeprecatedSynchronousErrorHandling)throw Y;(0,ce.z)(Y)}}__tryOrSetError(L,Q,Y){if(!ye.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{Q.call(this._context,Y)}catch(z){return ye.v.useDeprecatedSynchronousErrorHandling?(L.syncErrorValue=z,L.syncErrorThrown=!0,!0):((0,ce.z)(z),!0)}return!1}_unsubscribe(){const{_parentSubscriber:L}=this;this._context=null,this._parentSubscriber=null,L.unsubscribe()}}},5319:(qe,Ce,P)=>{"use strict";P.d(Ce,{w:()=>ce});var c=P(9796),ae=P(1555),j=P(9105);const ye=(()=>{function fe(V){return Error.call(this),this.message=V?`${V.length} errors occurred during unsubscription:\n${V.map((L,Q)=>`${Q+1}) ${L.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=V,this}return fe.prototype=Object.create(Error.prototype),fe})();class ce{constructor(V){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,V&&(this._ctorUnsubscribe=!0,this._unsubscribe=V)}unsubscribe(){let V;if(this.closed)return;let{_parentOrParents:L,_ctorUnsubscribe:Q,_unsubscribe:Y,_subscriptions:z}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,L instanceof ce)L.remove(this);else if(null!==L)for(let X=0;X<L.length;++X)L[X].remove(this);if((0,j.m)(Y)){Q&&(this._unsubscribe=void 0);try{Y.call(this)}catch(X){V=X instanceof ye?oe(X.errors):[X]}}if((0,c.k)(z)){let X=-1,ue=z.length;for(;++X<ue;){const ve=z[X];if((0,ae.K)(ve))try{ve.unsubscribe()}catch(Ie){V=V||[],Ie instanceof ye?V=V.concat(oe(Ie.errors)):V.push(Ie)}}}if(V)throw new ye(V)}add(V){let L=V;if(!V)return ce.EMPTY;switch(typeof V){case"function":L=new ce(V);case"object":if(L===this||L.closed||"function"!=typeof L.unsubscribe)return L;if(this.closed)return L.unsubscribe(),L;if(!(L instanceof ce)){const z=L;L=new ce,L._subscriptions=[z]}break;default:throw new Error("unrecognized teardown "+V+" added to Subscription.")}let{_parentOrParents:Q}=L;if(null===Q)L._parentOrParents=this;else if(Q instanceof ce){if(Q===this)return L;L._parentOrParents=[Q,this]}else{if(-1!==Q.indexOf(this))return L;Q.push(this)}const Y=this._subscriptions;return null===Y?this._subscriptions=[L]:Y.push(L),L}remove(V){const L=this._subscriptions;if(L){const Q=L.indexOf(V);-1!==Q&&L.splice(Q,1)}}}var fe;function oe(fe){return fe.reduce((V,L)=>V.concat(L instanceof ye?L.errors:L),[])}ce.EMPTY=((fe=new ce).closed=!0,fe)},2494:(qe,Ce,P)=>{"use strict";P.d(Ce,{v:()=>ae});let c=!1;const ae={Promise:void 0,set useDeprecatedSynchronousErrorHandling(j){if(j){const le=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+le.stack)}else c&&console.log("RxJS: Back to a better error behavior. Thank you. <3");c=j},get useDeprecatedSynchronousErrorHandling(){return c}}},5345:(qe,Ce,P)=>{"use strict";P.d(Ce,{IY:()=>le,Ds:()=>ce,ft:()=>fe});var c=P(7393),ae=P(8891),j=P(7444);class le extends c.L{constructor(L){super(),this.parent=L}_next(L){this.parent.notifyNext(L)}_error(L){this.parent.notifyError(L),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ce extends c.L{notifyNext(L){this.destination.next(L)}notifyError(L){this.destination.error(L)}notifyComplete(){this.destination.complete()}}function fe(V,L){if(L.closed)return;if(V instanceof ae.y)return V.subscribe(L);let Q;try{Q=(0,j.s)(V)(L)}catch(Y){L.error(Y)}return Q}},9193:(qe,Ce,P)=>{"use strict";P.d(Ce,{E:()=>ae,c:()=>j});var c=P(8891);const ae=new c.y(ye=>ye.complete());function j(ye){return ye?function(ye){return new c.y(ce=>ye.schedule(()=>ce.complete()))}(ye):ae}},4402:(qe,Ce,P)=>{"use strict";P.d(Ce,{D:()=>ue});var c=P(8891),ae=P(7444),j=P(5319),le=P(6554),oe=P(4087),fe=P(377),Q=P(4072),Y=P(9489);function ue(ve,Ie){return Ie?function(ve,Ie){if(null!=ve){if(function(ve){return ve&&"function"==typeof ve[le.L]}(ve))return function(ve,Ie){return new c.y(Fe=>{const Ue=new j.w;return Ue.add(Ie.schedule(()=>{const Ne=ve[le.L]();Ue.add(Ne.subscribe({next(Ee){Ue.add(Ie.schedule(()=>Fe.next(Ee)))},error(Ee){Ue.add(Ie.schedule(()=>Fe.error(Ee)))},complete(){Ue.add(Ie.schedule(()=>Fe.complete()))}}))})),Ue})}(ve,Ie);if((0,Q.t)(ve))return function(ve,Ie){return new c.y(Fe=>{const Ue=new j.w;return Ue.add(Ie.schedule(()=>ve.then(Ne=>{Ue.add(Ie.schedule(()=>{Fe.next(Ne),Ue.add(Ie.schedule(()=>Fe.complete()))}))},Ne=>{Ue.add(Ie.schedule(()=>Fe.error(Ne)))}))),Ue})}(ve,Ie);if((0,Y.z)(ve))return(0,oe.r)(ve,Ie);if(function(ve){return ve&&"function"==typeof ve[fe.hZ]}(ve)||"string"==typeof ve)return function(ve,Ie){if(!ve)throw new Error("Iterable cannot be null");return new c.y(Fe=>{const Ue=new j.w;let Ne;return Ue.add(()=>{Ne&&"function"==typeof Ne.return&&Ne.return()}),Ue.add(Ie.schedule(()=>{Ne=ve[fe.hZ](),Ue.add(Ie.schedule(function(){if(Fe.closed)return;let Ee,Pe;try{const Mt=Ne.next();Ee=Mt.value,Pe=Mt.done}catch(Mt){return void Fe.error(Mt)}Pe?Fe.complete():(Fe.next(Ee),this.schedule())}))})),Ue})}(ve,Ie)}throw new TypeError((null!==ve&&typeof ve||ve)+" is not observable")}(ve,Ie):ve instanceof c.y?ve:new c.y((0,ae.s)(ve))}},6693:(qe,Ce,P)=>{"use strict";P.d(Ce,{n:()=>le});var c=P(8891),ae=P(5015),j=P(4087);function le(ye,ce){return ce?(0,j.r)(ye,ce):new c.y((0,ae.V)(ye))}},6682:(qe,Ce,P)=>{"use strict";P.d(Ce,{T:()=>ye});var c=P(8891),ae=P(4869),j=P(3282),le=P(6693);function ye(...ce){let oe=Number.POSITIVE_INFINITY,fe=null,V=ce[ce.length-1];return(0,ae.K)(V)?(fe=ce.pop(),ce.length>1&&"number"==typeof ce[ce.length-1]&&(oe=ce.pop())):"number"==typeof V&&(oe=ce.pop()),null===fe&&1===ce.length&&ce[0]instanceof c.y?ce[0]:(0,j.J)(oe)((0,le.n)(ce,fe))}},5917:(qe,Ce,P)=>{"use strict";P.d(Ce,{of:()=>le});var c=P(4869),ae=P(6693),j=P(4087);function le(...ye){let ce=ye[ye.length-1];return(0,c.K)(ce)?(ye.pop(),(0,j.r)(ye,ce)):(0,ae.n)(ye)}},8002:(qe,Ce,P)=>{"use strict";P.d(Ce,{U:()=>ae});var c=P(7393);function ae(ye,ce){return function(fe){if("function"!=typeof ye)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return fe.lift(new j(ye,ce))}}class j{constructor(ce,oe){this.project=ce,this.thisArg=oe}call(ce,oe){return oe.subscribe(new le(ce,this.project,this.thisArg))}}class le extends c.L{constructor(ce,oe,fe){super(ce),this.project=oe,this.count=0,this.thisArg=fe||this}_next(ce){let oe;try{oe=this.project.call(this.thisArg,ce,this.count++)}catch(fe){return void this.destination.error(fe)}this.destination.next(oe)}}},3282:(qe,Ce,P)=>{"use strict";P.d(Ce,{J:()=>j});var c=P(9773),ae=P(4487);function j(le=Number.POSITIVE_INFINITY){return(0,c.zg)(ae.y,le)}},9773:(qe,Ce,P)=>{"use strict";P.d(Ce,{zg:()=>le});var c=P(8002),ae=P(4402),j=P(5345);function le(fe,V,L=Number.POSITIVE_INFINITY){return"function"==typeof V?Q=>Q.pipe(le((Y,z)=>(0,ae.D)(fe(Y,z)).pipe((0,c.U)((X,ue)=>V(Y,X,z,ue))),L)):("number"==typeof V&&(L=V),Q=>Q.lift(new ye(fe,L)))}class ye{constructor(V,L=Number.POSITIVE_INFINITY){this.project=V,this.concurrent=L}call(V,L){return L.subscribe(new ce(V,this.project,this.concurrent))}}class ce extends j.Ds{constructor(V,L,Q=Number.POSITIVE_INFINITY){super(V),this.project=L,this.concurrent=Q,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(V){this.active<this.concurrent?this._tryNext(V):this.buffer.push(V)}_tryNext(V){let L;const Q=this.index++;try{L=this.project(V,Q)}catch(Y){return void this.destination.error(Y)}this.active++,this._innerSub(L)}_innerSub(V){const L=new j.IY(this),Q=this.destination;Q.add(L);const Y=(0,j.ft)(V,L);Y!==L&&Q.add(Y)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(V){this.destination.next(V)}notifyComplete(){const V=this.buffer;this.active--,V.length>0?this._next(V.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},6328:(qe,Ce,P)=>{"use strict";P.d(Ce,{O:()=>L});var c=P(9765),ae=P(8891),j=P(5319),le=P(1307);class ye extends ae.y{constructor(z,X){super(),this.source=z,this.subjectFactory=X,this._refCount=0,this._isComplete=!1}_subscribe(z){return this.getSubject().subscribe(z)}getSubject(){const z=this._subject;return(!z||z.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let z=this._connection;return z||(this._isComplete=!1,z=this._connection=new j.w,z.add(this.source.subscribe(new oe(this.getSubject(),this))),z.closed&&(this._connection=null,z=j.w.EMPTY)),z}refCount(){return(0,le.x)()(this)}}const ce=(()=>{const Y=ye.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:Y._subscribe},_isComplete:{value:Y._isComplete,writable:!0},getSubject:{value:Y.getSubject},connect:{value:Y.connect},refCount:{value:Y.refCount}}})();class oe extends c.Yc{constructor(z,X){super(z),this.connectable=X}_error(z){this._unsubscribe(),super._error(z)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const z=this.connectable;if(z){this.connectable=null;const X=z._connection;z._refCount=0,z._subject=null,z._connection=null,X&&X.unsubscribe()}}}function L(Y,z){return function(ue){let ve;if(ve="function"==typeof Y?Y:function(){return Y},"function"==typeof z)return ue.lift(new Q(ve,z));const Ie=Object.create(ue,ce);return Ie.source=ue,Ie.subjectFactory=ve,Ie}}class Q{constructor(z,X){this.subjectFactory=z,this.selector=X}call(z,X){const{selector:ue}=this,ve=this.subjectFactory(),Ie=ue(ve).subscribe(z);return Ie.add(X.subscribe(ve)),Ie}}},9746:(qe,Ce,P)=>{"use strict";P.d(Ce,{QV:()=>j,ht:()=>ye});var c=P(7393),ae=P(1593);function j(oe,fe=0){return function(L){return L.lift(new le(oe,fe))}}class le{constructor(fe,V=0){this.scheduler=fe,this.delay=V}call(fe,V){return V.subscribe(new ye(fe,this.scheduler,this.delay))}}class ye extends c.L{constructor(fe,V,L=0){super(fe),this.scheduler=V,this.delay=L}static dispatch(fe){const{notification:V,destination:L}=fe;V.observe(L),this.unsubscribe()}scheduleMessage(fe){this.destination.add(this.scheduler.schedule(ye.dispatch,this.delay,new ce(fe,this.destination)))}_next(fe){this.scheduleMessage(ae.P.createNext(fe))}_error(fe){this.scheduleMessage(ae.P.createError(fe)),this.unsubscribe()}_complete(){this.scheduleMessage(ae.P.createComplete()),this.unsubscribe()}}class ce{constructor(fe,V){this.notification=fe,this.destination=V}}},1307:(qe,Ce,P)=>{"use strict";P.d(Ce,{x:()=>ae});var c=P(7393);function ae(){return function(ce){return ce.lift(new j(ce))}}class j{constructor(ce){this.connectable=ce}call(ce,oe){const{connectable:fe}=this;fe._refCount++;const V=new le(ce,fe),L=oe.subscribe(V);return V.closed||(V.connection=fe.connect()),L}}class le extends c.L{constructor(ce,oe){super(ce),this.connectable=oe}_unsubscribe(){const{connectable:ce}=this;if(!ce)return void(this.connection=null);this.connectable=null;const oe=ce._refCount;if(oe<=0)return void(this.connection=null);if(ce._refCount=oe-1,oe>1)return void(this.connection=null);const{connection:fe}=this,V=ce._connection;this.connection=null,V&&(!fe||V===fe)&&V.unsubscribe()}}},3101:(qe,Ce,P)=>{"use strict";P.d(Ce,{R:()=>Ie});var c=P(8891);let ae=1;const j=Promise.resolve(),le={};function ye(Ue){return Ue in le&&(delete le[Ue],!0)}const ce={setImmediate(Ue){const Ne=ae++;return le[Ne]=!0,j.then(()=>ye(Ne)&&Ue()),Ne},clearImmediate(Ue){ye(Ue)}};var fe=P(6465),L=P(6102);const z=new class extends L.v{flush(Ne){this.active=!0,this.scheduled=void 0;const{actions:Ee}=this;let Pe,Mt=-1,Ht=Ee.length;Ne=Ne||Ee.shift();do{if(Pe=Ne.execute(Ne.state,Ne.delay))break}while(++Mt<Ht&&(Ne=Ee.shift()));if(this.active=!1,Pe){for(;++Mt<Ht&&(Ne=Ee.shift());)Ne.unsubscribe();throw Pe}}}(class extends fe.o{constructor(Ne,Ee){super(Ne,Ee),this.scheduler=Ne,this.work=Ee}requestAsyncId(Ne,Ee,Pe=0){return null!==Pe&&Pe>0?super.requestAsyncId(Ne,Ee,Pe):(Ne.actions.push(this),Ne.scheduled||(Ne.scheduled=ce.setImmediate(Ne.flush.bind(Ne,null))))}recycleAsyncId(Ne,Ee,Pe=0){if(null!==Pe&&Pe>0||null===Pe&&this.delay>0)return super.recycleAsyncId(Ne,Ee,Pe);0===Ne.actions.length&&(ce.clearImmediate(Ee),Ne.scheduled=void 0)}});var X=P(9796);class ve extends c.y{constructor(Ne,Ee=0,Pe=z){var Ue;super(),this.source=Ne,this.delayTime=Ee,this.scheduler=Pe,(!(!(0,X.k)(Ue=Ee)&&Ue-parseFloat(Ue)+1>=0)||Ee<0)&&(this.delayTime=0),(!Pe||"function"!=typeof Pe.schedule)&&(this.scheduler=z)}static create(Ne,Ee=0,Pe=z){return new ve(Ne,Ee,Pe)}static dispatch(Ne){const{source:Ee,subscriber:Pe}=Ne;return this.add(Ee.subscribe(Pe))}_subscribe(Ne){return this.scheduler.schedule(ve.dispatch,this.delayTime,{source:this.source,subscriber:Ne})}}function Ie(Ue,Ne=0){return function(Pe){return Pe.lift(new Fe(Ue,Ne))}}class Fe{constructor(Ne,Ee){this.scheduler=Ne,this.delay=Ee}call(Ne,Ee){return new ve(Ee,this.delay,this.scheduler).subscribe(Ne)}}},3342:(qe,Ce,P)=>{"use strict";P.d(Ce,{b:()=>le});var c=P(7393);function ae(){}var j=P(9105);function le(oe,fe,V){return function(Q){return Q.lift(new ye(oe,fe,V))}}class ye{constructor(fe,V,L){this.nextOrObserver=fe,this.error=V,this.complete=L}call(fe,V){return V.subscribe(new ce(fe,this.nextOrObserver,this.error,this.complete))}}class ce extends c.L{constructor(fe,V,L,Q){super(fe),this._tapNext=ae,this._tapError=ae,this._tapComplete=ae,this._tapError=L||ae,this._tapComplete=Q||ae,(0,j.m)(V)?(this._context=this,this._tapNext=V):V&&(this._context=V,this._tapNext=V.next||ae,this._tapError=V.error||ae,this._tapComplete=V.complete||ae)}_next(fe){try{this._tapNext.call(this._context,fe)}catch(V){return void this.destination.error(V)}this.destination.next(fe)}_error(fe){try{this._tapError.call(this._context,fe)}catch(V){return void this.destination.error(V)}this.destination.error(fe)}_complete(){try{this._tapComplete.call(this._context)}catch(fe){return void this.destination.error(fe)}return this.destination.complete()}}},4087:(qe,Ce,P)=>{"use strict";P.d(Ce,{r:()=>j});var c=P(8891),ae=P(5319);function j(le,ye){return new c.y(ce=>{const oe=new ae.w;let fe=0;return oe.add(ye.schedule(function(){fe!==le.length?(ce.next(le[fe++]),ce.closed||oe.add(this.schedule())):ce.complete()})),oe})}},6465:(qe,Ce,P)=>{"use strict";P.d(Ce,{o:()=>j});var c=P(5319);class ae extends c.w{constructor(ye,ce){super()}schedule(ye,ce=0){return this}}class j extends ae{constructor(ye,ce){super(ye,ce),this.scheduler=ye,this.work=ce,this.pending=!1}schedule(ye,ce=0){if(this.closed)return this;this.state=ye;const oe=this.id,fe=this.scheduler;return null!=oe&&(this.id=this.recycleAsyncId(fe,oe,ce)),this.pending=!0,this.delay=ce,this.id=this.id||this.requestAsyncId(fe,this.id,ce),this}requestAsyncId(ye,ce,oe=0){return setInterval(ye.flush.bind(ye,this),oe)}recycleAsyncId(ye,ce,oe=0){if(null!==oe&&this.delay===oe&&!1===this.pending)return ce;clearInterval(ce)}execute(ye,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const oe=this._execute(ye,ce);if(oe)return oe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ye,ce){let fe,oe=!1;try{this.work(ye)}catch(V){oe=!0,fe=!!V&&V||new Error(V)}if(oe)return this.unsubscribe(),fe}_unsubscribe(){const ye=this.id,ce=this.scheduler,oe=ce.actions,fe=oe.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==fe&&oe.splice(fe,1),null!=ye&&(this.id=this.recycleAsyncId(ce,ye,null)),this.delay=null}}},6102:(qe,Ce,P)=>{"use strict";P.d(Ce,{v:()=>ae});let c=(()=>{class j{constructor(ye,ce=j.now){this.SchedulerAction=ye,this.now=ce}schedule(ye,ce=0,oe){return new this.SchedulerAction(this,ye).schedule(oe,ce)}}return j.now=()=>Date.now(),j})();class ae extends c{constructor(le,ye=c.now){super(le,()=>ae.delegate&&ae.delegate!==this?ae.delegate.now():ye()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(le,ye=0,ce){return ae.delegate&&ae.delegate!==this?ae.delegate.schedule(le,ye,ce):super.schedule(le,ye,ce)}flush(le){const{actions:ye}=this;if(this.active)return void ye.push(le);let ce;this.active=!0;do{if(ce=le.execute(le.state,le.delay))break}while(le=ye.shift());if(this.active=!1,ce){for(;le=ye.shift();)le.unsubscribe();throw ce}}}},3637:(qe,Ce,P)=>{"use strict";P.d(Ce,{z:()=>j,P:()=>le});var c=P(6465);const j=new(P(6102).v)(c.o),le=j},7771:(qe,Ce,P)=>{"use strict";P.d(Ce,{c:()=>ce,N:()=>ye});var c=P(6465),j=P(6102);const ye=new class extends j.v{}(class extends c.o{constructor(fe,V){super(fe,V),this.scheduler=fe,this.work=V}schedule(fe,V=0){return V>0?super.schedule(fe,V):(this.delay=V,this.state=fe,this.scheduler.flush(this),this)}execute(fe,V){return V>0||this.closed?super.execute(fe,V):this._execute(fe,V)}requestAsyncId(fe,V,L=0){return null!==L&&L>0||null===L&&this.delay>0?super.requestAsyncId(fe,V,L):fe.flush(this)}}),ce=ye},377:(qe,Ce,P)=>{"use strict";P.d(Ce,{hZ:()=>ae});const ae="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(qe,Ce,P)=>{"use strict";P.d(Ce,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(qe,Ce,P)=>{"use strict";P.d(Ce,{b:()=>c});const c="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(qe,Ce,P)=>{"use strict";P.d(Ce,{N:()=>ae});const ae=(()=>{function j(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return j.prototype=Object.create(Error.prototype),j})()},4449:(qe,Ce,P)=>{"use strict";function c(ae){setTimeout(()=>{throw ae},0)}P.d(Ce,{z:()=>c})},4487:(qe,Ce,P)=>{"use strict";function c(ae){return ae}P.d(Ce,{y:()=>c})},9796:(qe,Ce,P)=>{"use strict";P.d(Ce,{k:()=>c});const c=Array.isArray||(ae=>ae&&"number"==typeof ae.length)},9489:(qe,Ce,P)=>{"use strict";P.d(Ce,{z:()=>c});const c=ae=>ae&&"number"==typeof ae.length&&"function"!=typeof ae},9105:(qe,Ce,P)=>{"use strict";function c(ae){return"function"==typeof ae}P.d(Ce,{m:()=>c})},1555:(qe,Ce,P)=>{"use strict";function c(ae){return null!==ae&&"object"==typeof ae}P.d(Ce,{K:()=>c})},4072:(qe,Ce,P)=>{"use strict";function c(ae){return!!ae&&"function"!=typeof ae.subscribe&&"function"==typeof ae.then}P.d(Ce,{t:()=>c})},4869:(qe,Ce,P)=>{"use strict";function c(ae){return ae&&"function"==typeof ae.schedule}P.d(Ce,{K:()=>c})},4022:(qe,Ce,P)=>{"use strict";P.d(Ce,{z:()=>ae,U:()=>j});var c=P(4487);function ae(...le){return j(le)}function j(le){return 0===le.length?c.y:1===le.length?le[0]:function(ce){return le.reduce((oe,fe)=>fe(oe),ce)}}},7444:(qe,Ce,P)=>{"use strict";P.d(Ce,{s:()=>Q});var c=P(5015),ae=P(4449),le=P(377),ce=P(6554),fe=P(9489),V=P(4072),L=P(1555);const Q=Y=>{if(Y&&"function"==typeof Y[ce.L])return(Y=>z=>{const X=Y[ce.L]();if("function"!=typeof X.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return X.subscribe(z)})(Y);if((0,fe.z)(Y))return(0,c.V)(Y);if((0,V.t)(Y))return(Y=>z=>(Y.then(X=>{z.closed||(z.next(X),z.complete())},X=>z.error(X)).then(null,ae.z),z))(Y);if(Y&&"function"==typeof Y[le.hZ])return(Y=>z=>{const X=Y[le.hZ]();for(;;){let ue;try{ue=X.next()}catch(ve){return z.error(ve),z}if(ue.done){z.complete();break}if(z.next(ue.value),z.closed)break}return"function"==typeof X.return&&z.add(()=>{X.return&&X.return()}),z})(Y);{const X=`You provided ${(0,L.K)(Y)?"an invalid object":`'${Y}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(X)}}},5015:(qe,Ce,P)=>{"use strict";P.d(Ce,{V:()=>c});const c=ae=>j=>{for(let le=0,ye=ae.length;le<ye&&!j.closed;le++)j.next(ae[le]);j.complete()}},7983:()=>{},8404:(qe,Ce,P)=>{"use strict";var c=P(8720);let ae=null;function j(){return ae}const oe=new c.OlP("DocumentToken");var pe=(()=>((pe=pe||{})[pe.Zero=0]="Zero",pe[pe.One=1]="One",pe[pe.Two=2]="Two",pe[pe.Few=3]="Few",pe[pe.Many=4]="Many",pe[pe.Other=5]="Other",pe))();const Fa=c.kL8;class ar{}let _t=(()=>{class r extends ar{constructor(n){super(),this.locale=n}getPluralCategory(n,s){switch(Fa(s||this.locale)(n)){case pe.Zero:return"zero";case pe.One:return"one";case pe.Two:return"two";case pe.Few:return"few";case pe.Many:return"many";default:return"other"}}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(c.soG))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})();function Ds(r,i){i=encodeURIComponent(i);for(const n of r.split(";")){const s=n.indexOf("="),[l,h]=-1==s?[n,""]:[n.slice(0,s),n.slice(s+1)];if(l.trim()===i)return decodeURIComponent(h)}return null}let rs=(()=>{class r{constructor(n,s,l,h){this._iterableDiffers=n,this._keyValueDiffers=s,this._ngEl=l,this._renderer=h,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(n){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof n?n.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(n){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof n?n.split(/\s+/):n,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const n=this._iterableDiffer.diff(this._rawClass);n&&this._applyIterableChanges(n)}else if(this._keyValueDiffer){const n=this._keyValueDiffer.diff(this._rawClass);n&&this._applyKeyValueChanges(n)}}_applyKeyValueChanges(n){n.forEachAddedItem(s=>this._toggleClass(s.key,s.currentValue)),n.forEachChangedItem(s=>this._toggleClass(s.key,s.currentValue)),n.forEachRemovedItem(s=>{s.previousValue&&this._toggleClass(s.key,!1)})}_applyIterableChanges(n){n.forEachAddedItem(s=>{if("string"!=typeof s.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(s.item)}`);this._toggleClass(s.item,!0)}),n.forEachRemovedItem(s=>this._toggleClass(s.item,!1))}_applyClasses(n){n&&(Array.isArray(n)||n instanceof Set?n.forEach(s=>this._toggleClass(s,!0)):Object.keys(n).forEach(s=>this._toggleClass(s,!!n[s])))}_removeClasses(n){n&&(Array.isArray(n)||n instanceof Set?n.forEach(s=>this._toggleClass(s,!1)):Object.keys(n).forEach(s=>this._toggleClass(s,!1)))}_toggleClass(n,s){(n=n.trim())&&n.split(/\s+/g).forEach(l=>{s?this._renderer.addClass(this._ngEl.nativeElement,l):this._renderer.removeClass(this._ngEl.nativeElement,l)})}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},r.\u0275dir=c.lG2({type:r,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),r})();class Qi{constructor(i,n,s,l){this.$implicit=i,this.ngForOf=n,this.index=s,this.count=l}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let qn=(()=>{class r{constructor(n,s,l){this._viewContainer=n,this._template=s,this._differs=l,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(s){throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(r){return r.name||typeof r}(n)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const s=[];n.forEachOperation((l,h,g)=>{if(null==l.previousIndex){const w=this._viewContainer.createEmbeddedView(this._template,new Qi(null,this._ngForOf,-1,-1),null===g?void 0:g),C=new ss(l,w);s.push(C)}else if(null==g)this._viewContainer.remove(null===h?void 0:h);else if(null!==h){const w=this._viewContainer.get(h);this._viewContainer.move(w,g);const C=new ss(l,w);s.push(C)}});for(let l=0;l<s.length;l++)this._perViewChange(s[l].view,s[l].record);for(let l=0,h=this._viewContainer.length;l<h;l++){const g=this._viewContainer.get(l);g.context.index=l,g.context.count=h,g.context.ngForOf=this._ngForOf}n.forEachIdentityChange(l=>{this._viewContainer.get(l.currentIndex).context.$implicit=l.item})}_perViewChange(n,s){n.context.$implicit=s.item}static ngTemplateContextGuard(n,s){return!0}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},r.\u0275dir=c.lG2({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),r})();class ss{constructor(i,n){this.record=i,this.view=n}}let mt=(()=>{class r{constructor(n,s){this._viewContainer=n,this._context=new ef,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){uA("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){uA("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,s){return!0}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.s_b),c.Y36(c.Rgc))},r.\u0275dir=c.lG2({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),r})();class ef{constructor(){this.$implicit=null,this.ngIf=null}}function uA(r,i){if(i&&!i.createEmbeddedView)throw new Error(`${r} must be a TemplateRef, but received '${(0,c.AaK)(i)}'.`)}class Ao{constructor(i,n){this._viewContainerRef=i,this._templateRef=n,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(i){i&&!this._created?this.create():!i&&this._created&&this.destroy()}}let qo=(()=>{class r{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(n)}_matchCase(n){const s=n==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||s,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),s}_updateDefaultCases(n){if(this._defaultViews&&n!==this._defaultUsed){this._defaultUsed=n;for(let s=0;s<this._defaultViews.length;s++)this._defaultViews[s].enforceState(n)}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=c.lG2({type:r,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),r})(),Ss=(()=>{class r{constructor(n,s,l){this.ngSwitch=l,l._addCase(),this._view=new Ao(n,s)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(qo,9))},r.\u0275dir=c.lG2({type:r,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),r})(),Kl=(()=>{class r{constructor(n,s,l){l._addDefault(new Ao(n,s))}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(qo,9))},r.\u0275dir=c.lG2({type:r,selectors:[["","ngSwitchDefault",""]]}),r})(),Hn=(()=>{class r{constructor(n,s,l){this._ngEl=n,this._differs=s,this._renderer=l,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,s){const[l,h]=n.split(".");null!=(s=null!=s&&h?`${s}${h}`:s)?this._renderer.setStyle(this._ngEl.nativeElement,l,s):this._renderer.removeStyle(this._ngEl.nativeElement,l)}_applyChanges(n){n.forEachRemovedItem(s=>this._setStyle(s.key,null)),n.forEachAddedItem(s=>this._setStyle(s.key,s.currentValue)),n.forEachChangedItem(s=>this._setStyle(s.key,s.currentValue))}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.SBq),c.Y36(c.aQg),c.Y36(c.Qsj))},r.\u0275dir=c.lG2({type:r,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),r})(),ki=(()=>{class r{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(n){if(n.ngTemplateOutlet){const s=this._viewContainerRef;this._viewRef&&s.remove(s.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?s.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&n.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.s_b))},r.\u0275dir=c.lG2({type:r,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[c.TTD]}),r})();class Ua{createSubscription(i,n){return i.subscribe({next:n,error:s=>{throw s}})}dispose(i){i.unsubscribe()}onDestroy(i){i.unsubscribe()}}class Lr{createSubscription(i,n){return i.then(n,s=>{throw s})}dispose(i){}onDestroy(i){}}const os=new Lr,qb=new Ua;let Yo=(()=>{class r{constructor(n){this._ref=n,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,s=>this._updateLatestValue(n,s))}_selectStrategy(n){if((0,c.QGY)(n))return os;if((0,c.F4k)(n))return qb;throw function(r,i){return Error(`InvalidPipeArgument: '${i}' for pipe '${(0,c.AaK)(r)}'`)}(r,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,s){n===this._obj&&(this._latestValue=s,this._ref.markForCheck())}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.sBO,16))},r.\u0275pipe=c.Yjl({name:"async",type:r,pure:!1}),r})(),Xl=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({providers:[{provide:ar,useClass:_t}]}),r})();function Br(r){return"browser"===r}function as(r){return"server"===r}class ja{}class Zo extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var r;r=new Zo,ae||(ae=r)}onAndCancel(i,n,s){return i.addEventListener(n,s,!1),()=>{i.removeEventListener(n,s,!1)}}dispatchEvent(i,n){i.dispatchEvent(n)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,n){return(n=n||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,n){return"window"===n?window:"document"===n?i:"body"===n?i.body:null}getBaseHref(i){const n=(Jo=Jo||document.querySelector("base"),Jo?Jo.getAttribute("href"):null);return null==n?null:function(r){Bc=Bc||document.createElement("a"),Bc.setAttribute("href",r);const i=Bc.pathname;return"/"===i.charAt(0)?i:`/${i}`}(n)}resetBaseElement(){Jo=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return Ds(document.cookie,i)}}let Bc,Jo=null;const uf=new c.OlP("TRANSITION_ID"),Uc=[{provide:c.ip1,useFactory:function(r,i,n){return()=>{n.get(c.CZH).donePromise.then(()=>{const s=j(),l=i.querySelectorAll(`style[ng-transition="${r}"]`);for(let h=0;h<l.length;h++)s.remove(l[h])})}},deps:[uf,oe,c.zs3],multi:!0}];class Gc{static init(){(0,c.VLi)(new Gc)}addToWindow(i){c.dqk.getAngularTestability=(s,l=!0)=>{const h=i.findTestabilityInTree(s,l);if(null==h)throw new Error("Could not find testability for element.");return h},c.dqk.getAllAngularTestabilities=()=>i.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>i.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(s=>{const l=c.dqk.getAllAngularTestabilities();let h=l.length,g=!1;const w=function(C){g=g||C,h--,0==h&&s(g)};l.forEach(function(C){C.whenStable(w)})})}findTestabilityInTree(i,n,s){if(null==n)return null;const l=i.getTestability(n);return null!=l?l:s?j().isShadowRoot(n)?this.findTestabilityInTree(i,n.host,!0):this.findTestabilityInTree(i,n.parentElement,!0):null}}let tu=(()=>{class r{build(){return new XMLHttpRequest}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})();const Ko=new c.OlP("EventManagerPlugins");let za=(()=>{class r{constructor(n,s){this._zone=s,this._eventNameToPlugin=new Map,n.forEach(l=>l.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,s,l){return this._findPluginFor(s).addEventListener(n,s,l)}addGlobalEventListener(n,s,l){return this._findPluginFor(s).addGlobalEventListener(n,s,l)}getZone(){return this._zone}_findPluginFor(n){const s=this._eventNameToPlugin.get(n);if(s)return s;const l=this._plugins;for(let h=0;h<l.length;h++){const g=l[h];if(g.supports(n))return this._eventNameToPlugin.set(n,g),g}throw new Error(`No event manager plugin found for event ${n}`)}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(Ko),c.LFG(c.R0b))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})();class ru{constructor(i){this._doc=i}addGlobalEventListener(i,n,s){const l=j().getGlobalEventTarget(this._doc,i);if(!l)throw new Error(`Unsupported event target ${l} for event ${n}`);return this.addEventListener(l,n,s)}}let mA=(()=>{class r{constructor(){this._stylesSet=new Set}addStyles(n){const s=new Set;n.forEach(l=>{this._stylesSet.has(l)||(this._stylesSet.add(l),s.add(l))}),this.onStylesAdded(s)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})(),De=(()=>{class r extends mA{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,s,l){n.forEach(h=>{const g=this._doc.createElement("style");g.textContent=h,l.push(s.appendChild(g))})}addHost(n){const s=[];this._addStylesToHost(this._stylesSet,n,s),this._hostNodes.set(n,s)}removeHost(n){const s=this._hostNodes.get(n);s&&s.forEach(Ot),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((s,l)=>{this._addStylesToHost(n,l,s)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(Ot))}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(oe))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})();function Ot(r){j().remove(r)}const qa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},xn=/%COMP%/g;function Ya(r,i,n){for(let s=0;s<i.length;s++){let l=i[s];Array.isArray(l)?Ya(r,l,n):(l=l.replace(xn,r),n.push(l))}return n}function ou(r){return i=>{if("__ngUnwrap__"===i)return r;!1===r(i)&&(i.preventDefault(),i.returnValue=!1)}}let Wn=(()=>{class r{constructor(n,s,l){this.eventManager=n,this.sharedStylesHost=s,this.appId=l,this.rendererByCompId=new Map,this.defaultRenderer=new Yi(n)}createRenderer(n,s){if(!n||!s)return this.defaultRenderer;switch(s.encapsulation){case c.ifc.Emulated:{let l=this.rendererByCompId.get(s.id);return l||(l=new ff(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,l)),l.applyToHost(n),l}case 1:case c.ifc.ShadowDom:return new yA(this.eventManager,this.sharedStylesHost,n,s);default:if(!this.rendererByCompId.has(s.id)){const l=Ya(s.id,s.styles,[]);this.sharedStylesHost.addStyles(l),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(za),c.LFG(De),c.LFG(c.AFp))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})();class Yi{constructor(i){this.eventManager=i,this.data=Object.create(null)}destroy(){}createElement(i,n){return n?document.createElementNS(qa[n]||n,i):document.createElement(i)}createComment(i){return document.createComment(i)}createText(i){return document.createTextNode(i)}appendChild(i,n){i.appendChild(n)}insertBefore(i,n,s){i&&i.insertBefore(n,s)}removeChild(i,n){i&&i.removeChild(n)}selectRootElement(i,n){let s="string"==typeof i?document.querySelector(i):i;if(!s)throw new Error(`The selector "${i}" did not match any elements`);return n||(s.textContent=""),s}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,n,s,l){if(l){n=l+":"+n;const h=qa[l];h?i.setAttributeNS(h,n,s):i.setAttribute(n,s)}else i.setAttribute(n,s)}removeAttribute(i,n,s){if(s){const l=qa[s];l?i.removeAttributeNS(l,n):i.removeAttribute(`${s}:${n}`)}else i.removeAttribute(n)}addClass(i,n){i.classList.add(n)}removeClass(i,n){i.classList.remove(n)}setStyle(i,n,s,l){l&(c.JOm.DashCase|c.JOm.Important)?i.style.setProperty(n,s,l&c.JOm.Important?"important":""):i.style[n]=s}removeStyle(i,n,s){s&c.JOm.DashCase?i.style.removeProperty(n):i.style[n]=""}setProperty(i,n,s){i[n]=s}setValue(i,n){i.nodeValue=n}listen(i,n,s){return"string"==typeof i?this.eventManager.addGlobalEventListener(i,n,ou(s)):this.eventManager.addEventListener(i,n,ou(s))}}class ff extends Yi{constructor(i,n,s,l){super(i),this.component=s;const h=Ya(l+"-"+s.id,s.styles,[]);n.addStyles(h),this.contentAttr="_ngcontent-%COMP%".replace(xn,l+"-"+s.id),this.hostAttr=function(r){return"_nghost-%COMP%".replace(xn,r)}(l+"-"+s.id)}applyToHost(i){super.setAttribute(i,this.hostAttr,"")}createElement(i,n){const s=super.createElement(i,n);return super.setAttribute(s,this.contentAttr,""),s}}class yA extends Yi{constructor(i,n,s,l){super(i),this.sharedStylesHost=n,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const h=Ya(l.id,l.styles,[]);for(let g=0;g<h.length;g++){const w=document.createElement("style");w.textContent=h[g],this.shadowRoot.appendChild(w)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(i,n){return super.appendChild(this.nodeOrShadowRoot(i),n)}insertBefore(i,n,s){return super.insertBefore(this.nodeOrShadowRoot(i),n,s)}removeChild(i,n){return super.removeChild(this.nodeOrShadowRoot(i),n)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}}let gf=(()=>{class r extends ru{constructor(n){super(n)}supports(n){return!0}addEventListener(n,s,l){return n.addEventListener(s,l,!1),()=>this.removeEventListener(n,s,l)}removeEventListener(n,s,l){return n.removeEventListener(s,l)}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(oe))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})();const Af=["alt","control","meta","shift"],wA={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qc={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},In={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let G_=(()=>{class r extends ru{constructor(n){super(n)}supports(n){return null!=r.parseEventName(n)}addEventListener(n,s,l){const h=r.parseEventName(s),g=r.eventCallback(h.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>j().onAndCancel(n,h.domEventName,g))}static parseEventName(n){const s=n.toLowerCase().split("."),l=s.shift();if(0===s.length||"keydown"!==l&&"keyup"!==l)return null;const h=r._normalizeKey(s.pop());let g="";if(Af.forEach(C=>{const S=s.indexOf(C);S>-1&&(s.splice(S,1),g+=C+".")}),g+=h,0!=s.length||0===h.length)return null;const w={};return w.domEventName=l,w.fullKey=g,w}static getEventFullKey(n){let s="",l=function(r){let i=r.key;if(null==i){if(i=r.keyIdentifier,null==i)return"Unidentified";i.startsWith("U+")&&(i=String.fromCharCode(parseInt(i.substring(2),16)),3===r.location&&qc.hasOwnProperty(i)&&(i=qc[i]))}return wA[i]||i}(n);return l=l.toLowerCase()," "===l?l="space":"."===l&&(l="dot"),Af.forEach(h=>{h!=l&&In[h](n)&&(s+=h+".")}),s+=l,s}static eventCallback(n,s,l){return h=>{r.getEventFullKey(h)===n&&l.runGuarded(()=>s(h))}}static _normalizeKey(n){switch(n){case"esc":return"escape";default:return n}}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(oe))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})(),Nn=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=(0,c.Yz7)({factory:function(){return(0,c.LFG)(_f)},token:r,providedIn:"root"}),r})(),_f=(()=>{class r extends Nn{constructor(n){super(),this._doc=n}sanitize(n,s){if(null==s)return null;switch(n){case c.q3G.NONE:return s;case c.q3G.HTML:return(0,c.qzn)(s,"HTML")?(0,c.z3N)(s):(0,c.EiD)(this._doc,String(s)).toString();case c.q3G.STYLE:return(0,c.qzn)(s,"Style")?(0,c.z3N)(s):s;case c.q3G.SCRIPT:if((0,c.qzn)(s,"Script"))return(0,c.z3N)(s);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.yhl)(s),(0,c.qzn)(s,"URL")?(0,c.z3N)(s):(0,c.mCW)(String(s));case c.q3G.RESOURCE_URL:if((0,c.qzn)(s,"ResourceURL"))return(0,c.z3N)(s);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${n} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(n){return(0,c.JVY)(n)}bypassSecurityTrustStyle(n){return(0,c.L6k)(n)}bypassSecurityTrustScript(n){return(0,c.eBb)(n)}bypassSecurityTrustUrl(n){return(0,c.LAX)(n)}bypassSecurityTrustResourceUrl(n){return(0,c.pB0)(n)}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(oe))},r.\u0275prov=(0,c.Yz7)({factory:function(){return function(r){return new _f(r.get(oe))}((0,c.LFG)(c.gxx))},token:r,providedIn:"root"}),r})();const du=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function(){Zo.makeCurrent(),Gc.init()},multi:!0},{provide:oe,useFactory:function(){return(0,c.RDi)(document),document},deps:[]}]),Q_=[[],{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function(){return new c.qLn},deps:[]},{provide:Ko,useClass:gf,multi:!0,deps:[oe,c.R0b,c.Lbi]},{provide:Ko,useClass:G_,multi:!0,deps:[oe]},[],{provide:Wn,useClass:Wn,deps:[za,De,c.AFp]},{provide:c.FYo,useExisting:Wn},{provide:mA,useExisting:De},{provide:De,useClass:De,deps:[oe]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:za,useClass:za,deps:[Ko,c.R0b]},{provide:ja,useClass:tu,deps:[]},[]];let wf=(()=>{class r{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:r,providers:[{provide:c.AFp,useValue:n.appId},{provide:uf,useExisting:c.AFp},Uc]}}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(r,12))},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({providers:Q_,imports:[Xl,c.hGG]}),r})();"undefined"!=typeof window&&window;var Fn=P(9765),ta=P(7771),wr=P(5319),Rs=P(9746),gu=P(7971),Xa=P(8858);class If extends Fn.xQ{constructor(i=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=i<1?1:i,this._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(i){if(!this.isStopped){const n=this._events;n.push(i),n.length>this._bufferSize&&n.shift()}super.next(i)}nextTimeWindow(i){this.isStopped||(this._events.push(new xA(this._getNow(),i)),this._trimBufferThenGetEvents()),super.next(i)}_subscribe(i){const n=this._infiniteTimeWindow,s=n?this._events:this._trimBufferThenGetEvents(),l=this.scheduler,h=s.length;let g;if(this.closed)throw new gu.N;if(this.isStopped||this.hasError?g=wr.w.EMPTY:(this.observers.push(i),g=new Xa.W(this,i)),l&&i.add(i=new Rs.ht(i,l)),n)for(let w=0;w<h&&!i.closed;w++)i.next(s[w]);else for(let w=0;w<h&&!i.closed;w++)i.next(s[w].value);return this.hasError?i.error(this.thrownError):this.isStopped&&i.complete(),g}_getNow(){return(this.scheduler||ta.c).now()}_trimBufferThenGetEvents(){const i=this._getNow(),n=this._bufferSize,s=this._windowTime,l=this._events,h=l.length;let g=0;for(;g<h&&!(i-l[g].time<s);)g++;return h>n&&(g=Math.max(g,h-n)),g>0&&l.splice(0,g),l}}class xA{constructor(i,n){this.time=i,this.value=n}}var el=P(6682),Bt=P(8002),Zn=P(4402),ks=P(5345);function Oi(r,i){return"function"==typeof i?n=>n.pipe(Oi((s,l)=>(0,Zn.D)(r(s,l)).pipe((0,Bt.U)((h,g)=>i(s,h,l,g))))):n=>n.lift(new Jc(r))}class Jc{constructor(i){this.project=i}call(i,n){return n.subscribe(new na(i,this.project))}}class na extends ks.Ds{constructor(i,n){super(i),this.project=n,this.index=0}_next(i){let n;const s=this.index++;try{n=this.project(i,s)}catch(l){return void this.destination.error(l)}this._innerSub(n)}_innerSub(i){const n=this.innerSubscription;n&&n.unsubscribe();const s=new ks.IY(this),l=this.destination;l.add(s),this.innerSubscription=(0,ks.ft)(i,s),this.innerSubscription!==s&&l.add(this.innerSubscription)}_complete(){const{innerSubscription:i}=this;(!i||i.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(i){this.destination.next(i)}}const Kc={schedule(r,i){const n=setTimeout(r,i);return()=>clearTimeout(n)},scheduleBeforeRender(r){if("undefined"==typeof window)return Kc.schedule(r,0);if(void 0===window.requestAnimationFrame)return Kc.schedule(r,16);const i=window.requestAnimationFrame(r);return()=>window.cancelAnimationFrame(i)}};let Au;function ia(r,i,n){let s=n;return function(r){return!!r&&r.nodeType===Node.ELEMENT_NODE}(r)&&i.some((l,h)=>!("*"===l||!function(r,i){if(!Au){const n=Element.prototype;Au=n.matches||n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}return r.nodeType===Node.ELEMENT_NODE&&Au.call(r,i)}(r,l)||(s=h,0))),s}class rC{constructor(i,n){this.componentFactory=n.get(c._Vd).resolveComponentFactory(i)}create(i){return new DA(this.componentFactory,i)}}class DA{constructor(i,n){this.componentFactory=i,this.injector=n,this.eventEmitters=new If(1),this.events=this.eventEmitters.pipe(Oi(s=>(0,el.T)(...s))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:s})=>s)),this.ngZone=this.injector.get(c.R0b),this.elementZone="undefined"==typeof Zone?null:this.ngZone.run(()=>Zone.current)}connect(i){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(i)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=Kc.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(i){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(i):this.componentRef.instance[i])}setInputValue(i,n){this.runInZone(()=>{null!==this.componentRef?function(r,i){return r===i||r!=r&&i!=i}(n,this.getInputValue(i))&&(void 0!==n||!this.unchangedInputs.has(i))||(this.recordInputChange(i,n),this.unchangedInputs.delete(i),this.hasInputChanges=!0,this.componentRef.instance[i]=n,this.scheduleDetectChanges()):this.initialInputValues.set(i,n)})}initializeComponent(i){const n=c.zs3.create({providers:[],parent:this.injector}),s=function(r,i){const n=r.childNodes,s=i.map(()=>[]);let l=-1;i.some((h,g)=>"*"===h&&(l=g,!0));for(let h=0,g=n.length;h<g;++h){const w=n[h],C=ia(w,i,l);-1!==C&&s[C].push(w)}return s}(i,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(n,s,i),this.viewChangeDetectorRef=this.componentRef.injector.get(c.sBO),this.implementsOnChanges="function"==typeof this.componentRef.instance.ngOnChanges,this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(c.z2F).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:i})=>{this.initialInputValues.has(i)&&this.setInputValue(i,this.initialInputValues.get(i))}),this.initialInputValues.clear()}initializeOutputs(i){const n=this.componentFactory.outputs.map(({propName:s,templateName:l})=>i.instance[s].pipe((0,Bt.U)(g=>({name:l,value:g}))));this.eventEmitters.next(n)}callNgOnChanges(i){if(!this.implementsOnChanges||null===this.inputChanges)return;const n=this.inputChanges;this.inputChanges=null,i.instance.ngOnChanges(n)}markViewForCheck(i){this.hasInputChanges&&(this.hasInputChanges=!1,i.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=Kc.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(i,n){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const s=this.inputChanges[i];if(s)return void(s.currentValue=n);const l=this.unchangedInputs.has(i),h=l?void 0:this.getInputValue(i);this.inputChanges[i]=new c.WD2(h,n,l)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(i){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(i):i()}}class sC extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}function ra(r,i){const n=function(r,i){return i.get(c._Vd).resolveComponentFactory(r).inputs}(r,i.injector),s=i.strategyFactory||new rC(r,i.injector),l=function(r){const i={};return r.forEach(({propName:n,templateName:s})=>{i[function(r){return r.replace(/[A-Z]/g,i=>`-${i.toLowerCase()}`)}(s)]=n}),i}(n);class h extends sC{constructor(w){super(),this.injector=w}get ngElementStrategy(){if(!this._ngElementStrategy){const w=this._ngElementStrategy=s.create(this.injector||i.injector);n.forEach(({propName:C})=>{if(!this.hasOwnProperty(C))return;const S=this[C];delete this[C],w.setInputValue(C,S)})}return this._ngElementStrategy}attributeChangedCallback(w,C,S,T){this.ngElementStrategy.setInputValue(l[w],S)}connectedCallback(){let w=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),w=!0),this.ngElementStrategy.connect(this),w||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(w=>{const C=function(r,i,n){if("function"!=typeof CustomEvent){const h=r.createEvent("CustomEvent");return h.initCustomEvent(i,!1,!1,n),h}return new CustomEvent(i,{bubbles:!1,cancelable:!1,detail:n})}(this.ownerDocument,w.name,w.value);this.dispatchEvent(C)})}}return h.observedAttributes=Object.keys(l),n.forEach(({propName:g})=>{Object.defineProperty(h.prototype,g,{get(){return this.ngElementStrategy.getInputValue(g)},set(w){this.ngElementStrategy.setInputValue(g,w)},configurable:!0,enumerable:!0})}),h}var Wi=P(8891),Eo=P(9796),Mf=P(1555);function yu(r,i){return new Wi.y(n=>{const s=r.length;if(0===s)return void n.complete();const l=new Array(s);let h=0,g=0;for(let w=0;w<s;w++){const C=(0,Zn.D)(r[w]);let S=!1;n.add(C.subscribe({next:T=>{S||(S=!0,g++),l[w]=T},error:T=>n.error(T),complete:()=>{h++,(h===s||!S)&&(g===s&&n.next(i?i.reduce((T,k,B)=>(T[k]=l[B],T),{}):l),n.complete())}}))}})}let Y_=(()=>{class r{constructor(n,s){this._renderer=n,this._elementRef=s,this.onChange=l=>{},this.onTouched=()=>{}}setProperty(n,s){this._renderer.setProperty(this._elementRef.nativeElement,n,s)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.Qsj),c.Y36(c.SBq))},r.\u0275dir=c.lG2({type:r}),r})(),bo=(()=>{class r extends Y_{}return r.\u0275fac=function(){let i;return function(s){return(i||(i=c.n5z(r)))(s||r)}}(),r.\u0275dir=c.lG2({type:r,features:[c.qOj]}),r})();const Er=new c.OlP("NgValueAccessor"),Rf={provide:Er,useExisting:(0,c.Gpc)(()=>Xt),multi:!0},rl=new c.OlP("CompositionEventMode");let Xt=(()=>{class r extends Y_{constructor(n,s,l){super(n,s),this._compositionMode=l,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const r=j()?j().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(n){this.setProperty("value",null==n?"":n)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(rl,8))},r.\u0275dir=c.lG2({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,s){1&n&&c.NdJ("input",function(h){return s._handleInput(h.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(h){return s._compositionEnd(h.target.value)})},features:[c._Bn([Rf]),c.qOj]}),r})();function ds(r){return null==r||0===r.length}function _u(r){return null!=r&&"number"==typeof r.length}const Ni=new c.OlP("NgValidators"),hs=new c.OlP("NgAsyncValidators"),dr=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class yn{static min(i){return function(r){return i=>{if(ds(i.value)||ds(r))return null;const n=parseFloat(i.value);return!isNaN(n)&&n<r?{min:{min:r,actual:i.value}}:null}}(i)}static max(i){return function(r){return i=>{if(ds(i.value)||ds(r))return null;const n=parseFloat(i.value);return!isNaN(n)&&n>r?{max:{max:r,actual:i.value}}:null}}(i)}static required(i){return function(r){return ds(r.value)?{required:!0}:null}(i)}static requiredTrue(i){return function(r){return!0===r.value?null:{required:!0}}(i)}static email(i){return function(r){return ds(r.value)||dr.test(r.value)?null:{email:!0}}(i)}static minLength(i){return function(r){return i=>ds(i.value)||!_u(i.value)?null:i.value.length<r?{minlength:{requiredLength:r,actualLength:i.value.length}}:null}(i)}static maxLength(i){return function(r){return i=>_u(i.value)&&i.value.length>r?{maxlength:{requiredLength:r,actualLength:i.value.length}}:null}(i)}static pattern(i){return function(r){if(!r)return Vr;let i,n;return"string"==typeof r?(n="","^"!==r.charAt(0)&&(n+="^"),n+=r,"$"!==r.charAt(r.length-1)&&(n+="$"),i=new RegExp(n)):(n=r.toString(),i=r),s=>{if(ds(s.value))return null;const l=s.value;return i.test(l)?null:{pattern:{requiredPattern:n,actualValue:l}}}}(i)}static nullValidator(i){return null}static compose(i){return nd(i)}static composeAsync(i){return RA(i)}}function Vr(r){return null}function Zi(r){return null!=r}function ed(r){const i=(0,c.QGY)(r)?(0,Zn.D)(r):r;return(0,c.CqO)(i),i}function Fs(r){let i={};return r.forEach(n=>{i=null!=n?Object.assign(Object.assign({},i),n):i}),0===Object.keys(i).length?null:i}function Of(r,i){return i.map(n=>n(r))}function MA(r){return r.map(i=>function(r){return!r.validate}(i)?i:n=>i.validate(n))}function nd(r){if(!r)return null;const i=r.filter(Zi);return 0==i.length?null:function(n){return Fs(Of(n,i))}}function id(r){return null!=r?nd(MA(r)):null}function RA(r){if(!r)return null;const i=r.filter(Zi);return 0==i.length?null:function(n){return function(...r){if(1===r.length){const i=r[0];if((0,Eo.k)(i))return yu(i,null);if((0,Mf.K)(i)&&Object.getPrototypeOf(i)===Object.prototype){const n=Object.keys(i);return yu(n.map(s=>i[s]),n)}}if("function"==typeof r[r.length-1]){const i=r.pop();return yu(r=1===r.length&&(0,Eo.k)(r[0])?r[0]:r,null).pipe((0,Bt.U)(n=>i(...n)))}return yu(r,null)}(Of(n,i).map(ed)).pipe((0,Bt.U)(Fs))}}function Nf(r){return null!=r?RA(MA(r)):null}function Co(r,i){return null===r?[i]:Array.isArray(r)?[...r,i]:[r,i]}function rd(r){return r._rawValidators}function Eu(r){return r._rawAsyncValidators}function sd(r){return r?Array.isArray(r)?r:[r]:[]}function xo(r,i){return Array.isArray(r)?r.includes(i):r===i}function od(r,i){const n=sd(i);return sd(r).forEach(l=>{xo(n,l)||n.push(l)}),n}function Ps(r,i){return sd(i).filter(n=>!xo(r,n))}let kA=(()=>{class r{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=id(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Nf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,s){return!!this.control&&this.control.hasError(n,s)}getError(n,s){return this.control?this.control.getError(n,s):null}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=c.lG2({type:r}),r})(),ui=(()=>{class r extends kA{get formDirective(){return null}get path(){return null}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=c.n5z(r)))(s||r)}}(),r.\u0275dir=c.lG2({type:r,features:[c.qOj]}),r})();class Ur extends kA{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class sl{constructor(i){this._cd=i}is(i){var n,s,l;return"submitted"===i?!!(null===(n=this._cd)||void 0===n?void 0:n.submitted):!!(null===(l=null===(s=this._cd)||void 0===s?void 0:s.control)||void 0===l?void 0:l[i])}}let sa=(()=>{class r extends sl{constructor(n){super(n)}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(Ur,2))},r.\u0275dir=c.lG2({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,s){2&n&&c.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))},features:[c.qOj]}),r})(),Ls=(()=>{class r extends sl{constructor(n){super(n)}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(ui,10))},r.\u0275dir=c.lG2({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,s){2&n&&c.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))("ng-submitted",s.is("submitted"))},features:[c.qOj]}),r})();function Ji(r,i){ol(r,i),i.valueAccessor.writeValue(r.value),function(r,i){i.valueAccessor.registerOnChange(n=>{r._pendingValue=n,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&aa(r,i)})}(r,i),function(r,i){const n=(s,l)=>{i.valueAccessor.writeValue(s),l&&i.viewToModelUpdate(s)};r.registerOnChange(n),i._registerOnDestroy(()=>{r._unregisterOnChange(n)})}(r,i),function(r,i){i.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&aa(r,i),"submit"!==r.updateOn&&r.markAsTouched()})}(r,i),function(r,i){if(i.valueAccessor.setDisabledState){const n=s=>{i.valueAccessor.setDisabledState(s)};r.registerOnDisabledChange(n),i._registerOnDestroy(()=>{r._unregisterOnDisabledChange(n)})}}(r,i)}function dd(r,i,n=!0){const s=()=>{};i.valueAccessor&&(i.valueAccessor.registerOnChange(s),i.valueAccessor.registerOnTouched(s)),xu(r,i),r&&(i._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function Cu(r,i){r.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(i)})}function ol(r,i){const n=rd(r);null!==i.validator?r.setValidators(Co(n,i.validator)):"function"==typeof n&&r.setValidators([n]);const s=Eu(r);null!==i.asyncValidator?r.setAsyncValidators(Co(s,i.asyncValidator)):"function"==typeof s&&r.setAsyncValidators([s]);const l=()=>r.updateValueAndValidity();Cu(i._rawValidators,l),Cu(i._rawAsyncValidators,l)}function xu(r,i){let n=!1;if(null!==r){if(null!==i.validator){const l=rd(r);if(Array.isArray(l)&&l.length>0){const h=l.filter(g=>g!==i.validator);h.length!==l.length&&(n=!0,r.setValidators(h))}}if(null!==i.asyncValidator){const l=Eu(r);if(Array.isArray(l)&&l.length>0){const h=l.filter(g=>g!==i.asyncValidator);h.length!==l.length&&(n=!0,r.setAsyncValidators(h))}}}const s=()=>{};return Cu(i._rawValidators,s),Cu(i._rawAsyncValidators,s),n}function aa(r,i){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function ua(r,i){const n=r.indexOf(i);n>-1&&r.splice(n,1)}const br="VALID",hd="INVALID",Io="PENDING",fd="DISABLED";function Du(r){return(Vs(r)?r.validators:r)||null}function Su(r){return Array.isArray(r)?id(r):r||null}function gd(r,i){return(Vs(i)?i.asyncValidators:r)||null}function Bf(r){return Array.isArray(r)?Nf(r):r||null}function Vs(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}class Vf{constructor(i,n){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=i,this._rawAsyncValidators=n,this._composedValidatorFn=Su(this._rawValidators),this._composedAsyncValidatorFn=Bf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get valid(){return this.status===br}get invalid(){return this.status===hd}get pending(){return this.status==Io}get disabled(){return this.status===fd}get enabled(){return this.status!==fd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._rawValidators=i,this._composedValidatorFn=Su(i)}setAsyncValidators(i){this._rawAsyncValidators=i,this._composedAsyncValidatorFn=Bf(i)}addValidators(i){this.setValidators(od(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(od(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(Ps(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(Ps(i,this._rawAsyncValidators))}hasValidator(i){return xo(this._rawValidators,i)}hasAsyncValidator(i){return xo(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){this.touched=!0,this._parent&&!i.onlySelf&&this._parent.markAsTouched(i)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(i=>i.markAllAsTouched())}markAsUntouched(i={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}markAsDirty(i={}){this.pristine=!1,this._parent&&!i.onlySelf&&this._parent.markAsDirty(i)}markAsPristine(i={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}markAsPending(i={}){this.status=Io,!1!==i.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!i.onlySelf&&this._parent.markAsPending(i)}disable(i={}){const n=this._parentMarkedDirty(i.onlySelf);this.status=fd,this.errors=null,this._forEachChild(s=>{s.disable(Object.assign(Object.assign({},i),{onlySelf:!0}))}),this._updateValue(),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},i),{skipPristineCheck:n})),this._onDisabledChange.forEach(s=>s(!0))}enable(i={}){const n=this._parentMarkedDirty(i.onlySelf);this.status=br,this._forEachChild(s=>{s.enable(Object.assign(Object.assign({},i),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},i),{skipPristineCheck:n})),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(i){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(i){this._parent=i}updateValueAndValidity(i={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===br||this.status===Io)&&this._runAsyncValidator(i.emitEvent)),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(i)}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fd:br}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i){if(this.asyncValidator){this.status=Io,this._hasOwnPendingAsyncValidator=!0;const n=ed(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:i})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(i,n={}){this.errors=i,this._updateControlsErrors(!1!==n.emitEvent)}get(i){return function(r,i,n){if(null==i||(Array.isArray(i)||(i=i.split(".")),Array.isArray(i)&&0===i.length))return null;let s=r;return i.forEach(l=>{s=s instanceof Tu?s.controls.hasOwnProperty(l)?s.controls[l]:null:s instanceof VA&&s.at(l)||null}),s}(this,i)}getError(i,n){const s=n?this.get(n):this;return s&&s.errors?s.errors[i]:null}hasError(i,n){return!!this.getError(i,n)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(i)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?fd:this.errors?hd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Io)?Io:this._anyControlsHaveStatus(hd)?hd:br}_anyControlsHaveStatus(i){return this._anyControls(n=>n.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i={}){this.pristine=!this._anyControlsDirty(),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}_updateTouched(i={}){this.touched=this._anyControlsTouched(),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}_isBoxedValue(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){Vs(i)&&null!=i.updateOn&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){return!i&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class al extends Vf{constructor(i=null,n,s){super(Du(n),gd(s,n)),this._onChange=[],this._applyFormState(i),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(i,n={}){this.value=this._pendingValue=i,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(i,n={}){this.setValue(i,n)}reset(i=null,n={}){this._applyFormState(i),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){ua(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){ua(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(i){this._isBoxedValue(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}}class Tu extends Vf{constructor(i,n,s){super(Du(n),gd(s,n)),this.controls=i,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(i,n){return this.controls[i]?this.controls[i]:(this.controls[i]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(i,n,s={}){this.registerControl(i,n),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(i,n={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(i,n,s={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],n&&this.registerControl(i,n),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}setValue(i,n={}){this._checkAllValuesPresent(i),Object.keys(i).forEach(s=>{this._throwIfControlMissing(s),this.controls[s].setValue(i[s],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(i,n={}){null!=i&&(Object.keys(i).forEach(s=>{this.controls[s]&&this.controls[s].patchValue(i[s],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(i={},n={}){this._forEachChild((s,l)=>{s.reset(i[l],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(i,n,s)=>(i[s]=n instanceof al?n.value:n.getRawValue(),i))}_syncPendingControls(){let i=this._reduceChildren(!1,(n,s)=>!!s._syncPendingControls()||n);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_throwIfControlMissing(i){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[i])throw new Error(`Cannot find form control with name: ${i}.`)}_forEachChild(i){Object.keys(this.controls).forEach(n=>{const s=this.controls[n];s&&i(s,n)})}_setUpControls(){this._forEachChild(i=>{i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(i){for(const n of Object.keys(this.controls)){const s=this.controls[n];if(this.contains(n)&&i(s))return!0}return!1}_reduceValue(){return this._reduceChildren({},(i,n,s)=>((n.enabled||this.disabled)&&(i[s]=n.value),i))}_reduceChildren(i,n){let s=i;return this._forEachChild((l,h)=>{s=n(s,l,h)}),s}_allControlsDisabled(){for(const i of Object.keys(this.controls))if(this.controls[i].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(i){this._forEachChild((n,s)=>{if(void 0===i[s])throw new Error(`Must supply a value for form control with name: '${s}'.`)})}}class VA extends Vf{constructor(i,n,s){super(Du(n),gd(s,n)),this.controls=i,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(i){return this.controls[i]}push(i,n={}){this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(i,n,s={}){this.controls.splice(i,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(i,n={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(i,n,s={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(i,n={}){this._checkAllValuesPresent(i),i.forEach((s,l)=>{this._throwIfControlMissing(l),this.at(l).setValue(s,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(i,n={}){null!=i&&(i.forEach((s,l)=>{this.at(l)&&this.at(l).patchValue(s,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(i=[],n={}){this._forEachChild((s,l)=>{s.reset(i[l],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(i=>i instanceof al?i.value:i.getRawValue())}clear(i={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}_syncPendingControls(){let i=this.controls.reduce((n,s)=>!!s._syncPendingControls()||n,!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_throwIfControlMissing(i){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(i))throw new Error(`Cannot find form control at index ${i}`)}_forEachChild(i){this.controls.forEach((n,s)=>{i(n,s)})}_updateValue(){this.value=this.controls.filter(i=>i.enabled||this.disabled).map(i=>i.value)}_anyControls(i){return this.controls.some(n=>n.enabled&&i(n))}_setUpControls(){this._forEachChild(i=>this._registerControl(i))}_checkAllValuesPresent(i){this._forEachChild((n,s)=>{if(void 0===i[s])throw new Error(`Must supply a value for form control at index: ${s}.`)})}_allControlsDisabled(){for(const i of this.controls)if(i.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}}let Gf=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=c.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),r})(),Hf=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({}),r})();const ku=new c.OlP("NgModelWithFormControlWarning"),Qf={provide:ui,useExisting:(0,c.Gpc)(()=>Ou)};let Ou=(()=>{class r extends ui{constructor(n,s){super(),this.validators=n,this.asyncValidators=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(n),this._setAsyncValidators(s)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(xu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const s=this.form.get(n.path);return Ji(s,n),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),s}getControl(n){return this.form.get(n.path)}removeControl(n){dd(n.control||null,n,!1),ua(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,s){this.form.get(n.path).setValue(s)}onSubmit(n){return this.submitted=!0,function(r,i){r._syncPendingControls(),i.forEach(n=>{const s=n.control;"submit"===s.updateOn&&s._pendingChange&&(n.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const s=n.control,l=this.form.get(n.path);s!==l&&(dd(s||null,n),l instanceof al&&(Ji(l,n),n.control=l))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const s=this.form.get(n.path);(function(r,i){ol(r,i)})(s,n),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const s=this.form.get(n.path);s&&function(r,i){return xu(r,i)}(s,n)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ol(this.form,this),this._oldForm&&xu(this._oldForm,this)}_checkFormPresent(){}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(Ni,10),c.Y36(hs,10))},r.\u0275dir=c.lG2({type:r,selectors:[["","formGroup",""]],hostBindings:function(n,s){1&n&&c.NdJ("submit",function(h){return s.onSubmit(h)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Qf]),c.qOj,c.TTD]}),r})();const rv={provide:Ur,useExisting:(0,c.Gpc)(()=>ul)};let ul=(()=>{class r extends Ur{constructor(n,s,l,h,g){super(),this._ngModelWarningConfig=g,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(s),this._setAsyncValidators(l),this.valueAccessor=function(r,i){if(!i)return null;let n,s,l;return Array.isArray(i),i.forEach(h=>{h.constructor===Xt?n=h:function(r){return Object.getPrototypeOf(r.constructor)===bo}(h)?s=h:l=h}),l||s||n||null}(0,h)}set isDisabled(n){}ngOnChanges(n){this._added||this._setUpControl(),function(r,i){if(!r.hasOwnProperty("model"))return!1;const n=r.model;return!!n.isFirstChange()||!Object.is(i,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function(r,i){return[...i.path,r]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(ui,13),c.Y36(Ni,10),c.Y36(hs,10),c.Y36(Er,10),c.Y36(ku,8))},r.\u0275dir=c.lG2({type:r,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([rv]),c.qOj,c.TTD]}),r._ngModelWarningSentOnce=!1,r})();const vd={provide:Er,useExisting:(0,c.Gpc)(()=>wd),multi:!0};function qf(r,i){return null==r?`${i}`:(i&&"object"==typeof i&&(i="Object"),`${r}: ${i}`.slice(0,50))}let wd=(()=>{class r extends bo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const s=this._getOptionId(n);null==s&&this.setProperty("selectedIndex",-1);const l=qf(s,n);this.setProperty("value",l)}registerOnChange(n){this.onChange=s=>{this.value=this._getOptionValue(s),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const s of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(s),n))return s;return null}_getOptionValue(n){const s=function(r){return r.split(":")[0]}(n);return this._optionMap.has(s)?this._optionMap.get(s):n}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=c.n5z(r)))(s||r)}}(),r.\u0275dir=c.lG2({type:r,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,s){1&n&&c.NdJ("change",function(h){return s.onChange(h.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([vd]),c.qOj]}),r})(),ln=(()=>{class r{constructor(n,s,l){this._element=n,this._renderer=s,this._select=l,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(qf(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(wd,9))},r.\u0275dir=c.lG2({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),r})();const Ed={provide:Er,useExisting:(0,c.Gpc)(()=>Fu),multi:!0};function bd(r,i){return null==r?`${i}`:("string"==typeof i&&(i=`'${i}'`),i&&"object"==typeof i&&(i="Object"),`${r}: ${i}`.slice(0,50))}let Fu=(()=>{class r extends bo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let s;if(this.value=n,Array.isArray(n)){const l=n.map(h=>this._getOptionId(h));s=(h,g)=>{h._setSelected(l.indexOf(g.toString())>-1)}}else s=(l,h)=>{l._setSelected(!1)};this._optionMap.forEach(s)}registerOnChange(n){this.onChange=s=>{const l=[];if(void 0!==s.selectedOptions){const h=s.selectedOptions;for(let g=0;g<h.length;g++){const w=h.item(g),C=this._getOptionValue(w.value);l.push(C)}}else{const h=s.options;for(let g=0;g<h.length;g++){const w=h.item(g);if(w.selected){const C=this._getOptionValue(w.value);l.push(C)}}}this.value=l,n(l)}}_registerOption(n){const s=(this._idCounter++).toString();return this._optionMap.set(s,n),s}_getOptionId(n){for(const s of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(s)._value,n))return s;return null}_getOptionValue(n){const s=function(r){return r.split(":")[0]}(n);return this._optionMap.has(s)?this._optionMap.get(s)._value:n}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=c.n5z(r)))(s||r)}}(),r.\u0275dir=c.lG2({type:r,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,s){1&n&&c.NdJ("change",function(h){return s.onChange(h.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([Ed]),c.qOj]}),r})(),Ki=(()=>{class r{constructor(n,s,l){this._element=n,this._renderer=s,this._select=l,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(bd(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(bd(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(Fu,9))},r.\u0275dir=c.lG2({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),r})(),eg=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[[Hf]]}),r})(),WA=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[eg]}),r})(),Bu=(()=>{class r{static withConfig(n){return{ngModule:r,providers:[{provide:ku,useValue:n.warnOnNgModelWithFormControl}]}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[eg]}),r})(),ng=(()=>{class r{group(n,s=null){const l=this._reduceControls(n);let w,h=null,g=null;return null!=s&&(function(r){return void 0!==r.asyncValidators||void 0!==r.validators||void 0!==r.updateOn}(s)?(h=null!=s.validators?s.validators:null,g=null!=s.asyncValidators?s.asyncValidators:null,w=null!=s.updateOn?s.updateOn:void 0):(h=null!=s.validator?s.validator:null,g=null!=s.asyncValidator?s.asyncValidator:null)),new Tu(l,{asyncValidators:g,updateOn:w,validators:h})}control(n,s,l){return new al(n,s,l)}array(n,s,l){const h=n.map(g=>this._createControl(g));return new VA(h,s,l)}_reduceControls(n){const s={};return Object.keys(n).forEach(l=>{s[l]=this._createControl(n[l])}),s}_createControl(n){return n instanceof al||n instanceof Tu||n instanceof VA?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=(0,c.Yz7)({factory:function(){return new r},token:r,providedIn:Bu}),r})();var Hr=P(8939);const b_firebase={apiKey:"AIzaSyDLiOmR0QbNQNURZ5sOF9x1Yz63vYyuWhQ",authDomain:"paginas-clientes-4fe76.firebaseapp.com",projectId:"paginas-clientes-4fe76",storageBucket:"paginas-clientes-4fe76.appspot.com",messagingSenderId:"1081540743431",appId:"1:1081540743431:web:dfca2827b84c7bd8c2b5a2",measurementId:"G-MQ6QHZXQDR"},b_apiKey="AIzaSyAOZYPATEKYaZGb42j6koETmgLmQ-R_4QE";var m=P(5917),_=P(7393),x=P(3637);function R(r,i=x.P){return n=>n.lift(new N(r,i))}class N{constructor(i,n){this.dueTime=i,this.scheduler=n}call(i,n){return n.subscribe(new K(i,this.dueTime,this.scheduler))}}class K extends _.L{constructor(i,n,s){super(i),this.dueTime=n,this.scheduler=s,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(i){this.clearDebounce(),this.lastValue=i,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(_e,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:i}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(i)}}clearDebounce(){const i=this.debouncedSubscription;null!==i&&(this.remove(i),i.unsubscribe(),this.debouncedSubscription=null)}}function _e(r){r.debouncedNext()}var Me=P(9126),Ze=P(4486),$=P(8239),Qe=P(5452),Je=P(4685),Xi=P(6034),jr=(()=>{return(r=jr||(jr={}))[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT",jr;var r})();const Dd="firebasestorage.googleapis.com",ig="storageBucket";class tn extends Je.ZR{constructor(i,n){super(Sd(i),`Firebase Storage: ${n} (${Sd(i)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,tn.prototype)}_codeEquals(i){return Sd(i)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(i){this.customData.serverResponse=i,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Sd(r){return"storage/"+r}function Gs(){return new tn("unknown","An unknown error occurred, please check the error payload for server response.")}function ZA(){return new tn("canceled","User canceled the upload/download.")}function Md(){return new tn("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function wC(){return new tn("no-download-url","The given file does not have any download URLs.")}function fl(r){return new tn("invalid-argument",r)}function JA(){return new tn("app-deleted","The Firebase app was deleted.")}function lv(r){return new tn("invalid-root-operation","The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function KA(r,i){return new tn("invalid-format","String does not match format '"+r+"': "+i)}function da(r){throw new tn("internal-error","Internal error: "+r)}class uv{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=jr.NO_ERROR,this.sendPromise_=new Promise(i=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=jr.ABORT,i()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=jr.NETWORK_ERROR,i()}),this.xhr_.addEventListener("load",()=>{i()})})}send(i,n,s,l){if(this.sent_)throw da("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,i,!0),void 0!==l)for(const h in l)l.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,l[h].toString());return void 0!==s?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw da("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw da("cannot .getStatus() before sending");try{return this.xhr_.status}catch(i){return-1}}getResponseText(){if(!this.sent_)throw da("cannot .getResponseText() before sending");return this.xhr_.responseText}abort(){this.xhr_.abort()}getResponseHeader(i){return this.xhr_.getResponseHeader(i)}addUploadProgressListener(i){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",i)}removeUploadProgressListener(i){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",i)}}class oS{createConnection(){return new uv}}class pi{constructor(i,n){this.bucket=i,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const i=encodeURIComponent;return"/b/"+i(this.bucket)+"/o/"+i(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(i,n){let s;try{s=pi.makeFromUrl(i,n)}catch(l){return new pi(i,"")}if(""===s.path)return s;throw new tn("invalid-default-bucket","Invalid default bucket '"+i+"'.")}static makeFromUrl(i,n){let s=null;const l="([A-Za-z0-9.\\-_]+)",w=new RegExp("^gs://"+l+"(/(.*))?$","i");function S(Xe){Xe.path_=decodeURIComponent(Xe.path)}const k=n.replace(/[.]/g,"\\."),Ke=[{regex:w,indices:{bucket:1,path:3},postModify:function(Xe){"/"===Xe.path.charAt(Xe.path.length-1)&&(Xe.path_=Xe.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${k}/v[A-Za-z0-9_]+/b/${l}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:S},{regex:new RegExp(`^https?://${n===Dd?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${l}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:S}];for(let Xe=0;Xe<Ke.length;Xe++){const Zt=Ke[Xe],oi=Zt.regex.exec(i);if(oi){let es=oi[Zt.indices.path];es||(es=""),s=new pi(oi[Zt.indices.bucket],es),Zt.postModify(s);break}}if(null==s)throw new tn("invalid-url","Invalid URL '"+i+"'.");return s}}class aS{constructor(i){this.promise_=Promise.reject(i)}getPromise(){return this.promise_}cancel(i=!1){}}function og(r){return"string"==typeof r||r instanceof String}function $A(r){return XA()&&r instanceof Blob}function XA(){return"undefined"!=typeof Blob}function ag(r,i,n,s){if(s<i)throw fl(`Invalid value for '${r}'. Expected ${i} or greater.`);if(s>n)throw fl(`Invalid value for '${r}'. Expected ${n} or less.`)}function gl(r,i,n){let s=i;return null==n&&(s=`https://${i}`),`${n}://${s}/v0${r}`}function bC(r){const i=encodeURIComponent;let n="?";for(const s in r)r.hasOwnProperty(s)&&(n=n+(i(s)+"=")+i(r[s])+"&");return n=n.slice(0,-1),n}class CC{constructor(i,n,s,l,h,g,w,C,S,T,k){this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=i,this.method_=n,this.headers_=s,this.body_=l,this.successCodes_=h.slice(),this.additionalRetryCodes_=g.slice(),this.callback_=w,this.errorCallback_=C,this.progressCallback_=T,this.timeout_=S,this.pool_=k,this.promise_=new Promise((B,G)=>{this.resolve_=B,this.reject_=G,this.start_()})}start_(){const i=this;function s(l,h){const g=i.resolve_,w=i.reject_,C=h.connection;if(h.wasSuccessCode)try{const S=i.callback_(C,C.getResponseText());void 0!==S?g(S):g()}catch(S){w(S)}else if(null!==C){const S=Gs();S.serverResponse=C.getResponseText(),w(i.errorCallback_?i.errorCallback_(C,S):S)}else w(h.canceled?i.appDelete_?JA():ZA():new tn("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?s(0,new lg(!1,null,!0)):this.backoffId_=function(r,i,n){let s=1,l=null,h=!1,g=0;function w(){return 2===g}let C=!1;function S(...q){C||(C=!0,i.apply(null,q))}function T(q){l=setTimeout(()=>{l=null,r(k,w())},q)}function k(q,...Ae){if(C)return;if(q)return void S.call(null,q,...Ae);if(w()||h)return void S.call(null,q,...Ae);let ke;s<64&&(s*=2),1===g?(g=2,ke=0):ke=1e3*(s+Math.random()),T(ke)}let B=!1;function G(q){B||(B=!0,!C&&(null!==l?(q||(g=2),clearTimeout(l),T(0)):q||(g=1)))}return T(0),setTimeout(()=>{h=!0,G(!0)},n),G}(function(l,h){if(h)return void l(!1,new lg(!1,null,!0));const g=i.pool_.createConnection();function w(C){null!==i.progressCallback_&&i.progressCallback_(C.loaded,C.lengthComputable?C.total:-1)}i.pendingConnection_=g,null!==i.progressCallback_&&g.addUploadProgressListener(w),g.send(i.url_,i.method_,i.body_,i.headers_).then(()=>{null!==i.progressCallback_&&g.removeUploadProgressListener(w),i.pendingConnection_=null;const C=g.getErrorCode()===jr.NO_ERROR,S=g.getStatus();if(!C||i.isRetryStatusCode_(S)){const k=g.getErrorCode()===jr.ABORT;return void l(!1,new lg(!1,null,k))}const T=-1!==i.successCodes_.indexOf(S);l(!0,new lg(T,g))})},s,this.timeout_)}getPromise(){return this.promise_}cancel(i){this.canceled_=!0,this.appDelete_=i||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(i){const n=i>=500&&i<600,l=-1!==[408,429].indexOf(i),h=-1!==this.additionalRetryCodes_.indexOf(i);return n||l||h}}class lg{constructor(i,n,s){this.wasSuccessCode=i,this.connection=n,this.canceled=!!s}}function DC(...r){const i="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==i){const n=new i;for(let s=0;s<r.length;s++)n.append(r[s]);return n.getBlob()}if(XA())return new Blob(r);throw new tn("unsupported-environment","This browser doesn't seem to support creating Blobs")}const hr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class tm{constructor(i,n){this.data=i,this.contentType=n||null}}function Rd(r,i){switch(r){case hr.RAW:return new tm(ug(i));case hr.BASE64:case hr.BASE64URL:return new tm(nm(r,i));case hr.DATA_URL:return new tm(function(r){const i=new cv(r);return i.base64?nm(hr.BASE64,i.rest):function(r){let i;try{i=decodeURIComponent(r)}catch(n){throw KA(hr.DATA_URL,"Malformed data URL.")}return ug(i)}(i.rest)}(i),function(r){return new cv(r).contentType}(i))}throw Gs()}function ug(r){const i=[];for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);s<=127?i.push(s):s<=2047?i.push(192|s>>6,128|63&s):55296==(64512&s)?n<r.length-1&&56320==(64512&r.charCodeAt(n+1))?(s=65536|(1023&s)<<10|1023&r.charCodeAt(++n),i.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|63&s)):i.push(239,191,189):56320==(64512&s)?i.push(239,191,189):i.push(224|s>>12,128|s>>6&63,128|63&s)}return new Uint8Array(i)}function nm(r,i){switch(r){case hr.BASE64:{const l=-1!==i.indexOf("-"),h=-1!==i.indexOf("_");if(l||h)throw KA(r,"Invalid character '"+(l?"-":"_")+"' found: is it base64url encoded?");break}case hr.BASE64URL:{const l=-1!==i.indexOf("+"),h=-1!==i.indexOf("/");if(l||h)throw KA(r,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");i=i.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function(r){return atob(r)}(i)}catch(l){throw KA(r,"Invalid character found")}const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}class cv{constructor(i){this.base64=!1,this.contentType=null;const n=i.match(/^data:([^,]+)?,/);if(null===n)throw KA(hr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;null!=s&&(this.base64=function(r,i){return r.length>=i.length&&r.substring(r.length-i.length)===i}(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-";base64".length):s),this.rest=i.substring(i.indexOf(",")+1)}}class Hs{constructor(i,n){let s=0,l="";$A(i)?(this.data_=i,s=i.size,l=i.type):i instanceof ArrayBuffer?(n?this.data_=new Uint8Array(i):(this.data_=new Uint8Array(i.byteLength),this.data_.set(new Uint8Array(i))),s=this.data_.length):i instanceof Uint8Array&&(n?this.data_=i:(this.data_=new Uint8Array(i.length),this.data_.set(i)),s=i.length),this.size_=s,this.type_=l}size(){return this.size_}type(){return this.type_}slice(i,n){if($A(this.data_)){const l=function(r,i,n){return r.webkitSlice?r.webkitSlice(i,n):r.mozSlice?r.mozSlice(i,n):r.slice?r.slice(i,n):null}(this.data_,i,n);return null===l?null:new Hs(l)}{const s=new Uint8Array(this.data_.buffer,i,n-i);return new Hs(s,!0)}}static getBlob(...i){if(XA()){const n=i.map(s=>s instanceof Hs?s.data_:s);return new Hs(DC.apply(null,n))}{const n=i.map(g=>og(g)?Rd(hr.RAW,g).data:g.data_);let s=0;n.forEach(g=>{s+=g.byteLength});const l=new Uint8Array(s);let h=0;return n.forEach(g=>{for(let w=0;w<g.length;w++)l[h++]=g[w]}),new Hs(l,!0)}}uploadData(){return this.data_}}function hv(r){let i;try{i=JSON.parse(r)}catch(n){return null}return function(r){return"object"==typeof r&&!Array.isArray(r)}(i)?i:null}function im(r){const i=r.lastIndexOf("/",r.length-2);return-1===i?r:r.slice(i+1)}function kC(r,i){return i}class Ir{constructor(i,n,s,l){this.server=i,this.local=n||i,this.writable=!!s,this.xform=l||kC}}let dg=null;function kd(){if(dg)return dg;const r=[];r.push(new Ir("bucket")),r.push(new Ir("generation")),r.push(new Ir("metageneration")),r.push(new Ir("name","fullPath",!0));const n=new Ir("name");n.xform=function(h,g){return function(r){return!og(r)||r.length<2?r:im(r)}(g)},r.push(n);const l=new Ir("size");return l.xform=function(h,g){return void 0!==g?Number(g):g},r.push(l),r.push(new Ir("timeCreated")),r.push(new Ir("updated")),r.push(new Ir("md5Hash",null,!0)),r.push(new Ir("cacheControl",null,!0)),r.push(new Ir("contentDisposition",null,!0)),r.push(new Ir("contentEncoding",null,!0)),r.push(new Ir("contentLanguage",null,!0)),r.push(new Ir("contentType",null,!0)),r.push(new Ir("metadata","customMetadata",!0)),dg=r,dg}function As(r,i,n){const s=hv(i);return null===s?null:function(r,i,n){const s={type:"file"},l=n.length;for(let h=0;h<l;h++){const g=n[h];s[g.local]=g.xform(s,i[g.server])}return function(r,i){Object.defineProperty(r,"ref",{get:function(){const h=new pi(r.bucket,r.fullPath);return i._makeStorageReference(h)}})}(s,r),s}(r,s,n)}function rm(r,i){const n={},s=i.length;for(let l=0;l<s;l++){const h=i[l];h.writable&&(n[h.server]=r[h.local])}return JSON.stringify(n)}const OC="prefixes";class To{constructor(i,n,s,l){this.url=i,this.method=n,this.handler=s,this.timeout=l,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Mo(r){if(!r)throw Gs()}function sm(r,i){return function(s,l){const h=As(r,l,i);return Mo(null!==h),h}}function Uu(r){return function(n,s){let l;return l=401===n.getStatus()?n.getResponseText().includes("Firebase App Check token is invalid")?new tn("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new tn("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===n.getStatus()?function(r){return new tn("quota-exceeded","Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(r.bucket):403===n.getStatus()?function(r){return new tn("unauthorized","User does not have permission to access '"+r+"'.")}(r.path):s,l.serverResponse=s.serverResponse,l}}function hg(r){const i=Uu(r);return function(s,l){let h=i(s,l);return 404===s.getStatus()&&(h=function(r){return new tn("object-not-found","Object '"+r+"' does not exist.")}(r.path)),h.serverResponse=l.serverResponse,h}}function fg(r,i,n){const l=gl(i.fullServerUrl(),r.host,r._protocol),g=r.maxOperationRetryTime,w=new To(l,"GET",sm(r,n),g);return w.errorHandler=hg(i),w}function js(r,i,n,s,l){const h={};h.prefix=i.isRoot?"":i.path+"/",n&&n.length>0&&(h.delimiter=n),s&&(h.pageToken=s),l&&(h.maxResults=l);const w=gl(i.bucketOnlyServerUrl(),r.host,r._protocol),S=r.maxOperationRetryTime,T=new To(w,"GET",function(r,i){return function(s,l){const h=function(r,i,n){const s=hv(n);return null===s?null:function(r,i,n){const s={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[OC])for(const l of n[OC]){const h=l.replace(/\/$/,""),g=r._makeStorageReference(new pi(i,h));s.prefixes.push(g)}if(n.items)for(const l of n.items){const h=r._makeStorageReference(new pi(i,l.name));s.items.push(h)}return s}(r,i,s)}(r,i,l);return Mo(null!==h),h}}(r,i.bucket),S);return T.urlParams=h,T.errorHandler=Uu(i),T}function FC(r,i,n){const l=gl(i.fullServerUrl(),r.host,r._protocol),g=r.maxOperationRetryTime,w=new To(l,"GET",function(r,i){return function(s,l){const h=As(r,l,i);return Mo(null!==h),function(r,i,n,s){const l=hv(i);if(null===l||!og(l.downloadTokens))return null;const h=l.downloadTokens;if(0===h.length)return null;const g=encodeURIComponent;return h.split(",").map(S=>{const k=r.fullPath;return gl("/b/"+g(r.bucket)+"/o/"+g(k),n,s)+bC({alt:"media",token:S})})[0]}(h,l,r.host,r._protocol)}}(r,n),g);return w.errorHandler=hg(i),w}function CS(r,i,n,s){const h=gl(i.fullServerUrl(),r.host,r._protocol),w=rm(n,s),S=r.maxOperationRetryTime,T=new To(h,"PATCH",sm(r,s),S);return T.headers={"Content-Type":"application/json; charset=utf-8"},T.body=w,T.errorHandler=hg(i),T}function fv(r,i){const s=gl(i.fullServerUrl(),r.host,r._protocol),w=new To(s,"DELETE",function(C,S){},r.maxOperationRetryTime);return w.successCodes=[200,204],w.errorHandler=hg(i),w}function om(r,i,n){const s=Object.assign({},n);return s.fullPath=r.path,s.size=i.size(),s.contentType||(s.contentType=function(r,i){return i&&i.type()||"application/octet-stream"}(0,i)),s}class Od{constructor(i,n,s,l){this.current=i,this.total=n,this.finalized=!!s,this.metadata=l||null}}function PC(r,i){let n=null;try{n=r.getResponseHeader("X-Goog-Upload-Status")}catch(l){Mo(!1)}return Mo(!!n&&-1!==(i||["active"]).indexOf(n)),n}const lm={STATE_CHANGED:"state_changed"},Fi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function BC(r){switch(r){case"running":case"pausing":case"canceling":return Fi.RUNNING;case"paused":return Fi.PAUSED;case"success":return Fi.SUCCESS;case"canceled":return Fi.CANCELED;case"error":default:return Fi.ERROR}}class xS{constructor(i,n,s){if("function"==typeof i||null!=n||null!=s)this.next=i,this.error=null!=n?n:void 0,this.complete=null!=s?s:void 0;else{const h=i;this.next=h.next,this.error=h.error,this.complete=h.complete}}}function Gu(r){return(...i)=>{Promise.resolve().then(()=>r(...i))}}class IS{constructor(i,n,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=i,this._blob=n,this._metadata=s,this._mappings=kd(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=l=>{this._request=void 0,this._chunkMultiplier=1,l._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=l,this._transition("error"))},this._metadataErrorHandler=l=>{this._request=void 0,l._codeEquals("canceled")?this.completeTransitions_():(this._error=l,this._transition("error"))},this._promise=new Promise((l,h)=>{this._resolve=l,this._reject=h,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const i=this._transferred;return n=>this._updateProgress(i+n)}_shouldDoResumable(i){return i.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(i){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,s])=>{switch(this._state){case"running":i(n,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((i,n)=>{const s=function(r,i,n,s,l){const h=i.bucketOnlyServerUrl(),g=om(i,s,l),w={name:g.fullPath},C=gl(h,r.host,r._protocol),T={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":g.contentType,"Content-Type":"application/json; charset=utf-8"},k=rm(g,n),q=new To(C,"POST",function(Ae){let Se;PC(Ae);try{Se=Ae.getResponseHeader("X-Goog-Upload-URL")}catch(ke){Mo(!1)}return Mo(og(Se)),Se},r.maxUploadRetryTime);return q.urlParams=w,q.headers=T,q.body=k,q.errorHandler=Uu(i),q}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),l=this._ref.storage._makeRequest(s,i,n);this._request=l,l.getPromise().then(h=>{this._request=void 0,this._uploadUrl=h,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const i=this._uploadUrl;this._resolveToken((n,s)=>{const l=function(r,i,n,s){const C=new To(n,"POST",function(S){const T=PC(S,["active","final"]);let k=null;try{k=S.getResponseHeader("X-Goog-Upload-Size-Received")}catch(G){Mo(!1)}k||Mo(!1);const B=Number(k);return Mo(!isNaN(B)),new Od(B,s.size(),"final"===T)},r.maxUploadRetryTime);return C.headers={"X-Goog-Upload-Command":"query"},C.errorHandler=Uu(i),C}(this._ref.storage,this._ref._location,i,this._blob),h=this._ref.storage._makeRequest(l,n,s);this._request=h,h.getPromise().then(g=>{g=g,this._request=void 0,this._updateProgress(g.current),this._needToFetchStatus=!1,g.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const i=262144*this._chunkMultiplier,n=new Od(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((l,h)=>{let g;try{g=function(r,i,n,s,l,h,g,w){const C=new Od(0,0);if(g?(C.current=g.current,C.total=g.total):(C.current=0,C.total=s.size()),s.size()!==C.total)throw new tn("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const S=C.total-C.current;let T=S;l>0&&(T=Math.min(T,l));const k=C.current,q={"X-Goog-Upload-Command":T===S?"upload, finalize":"upload","X-Goog-Upload-Offset":`${C.current}`},Ae=s.slice(k,k+T);if(null===Ae)throw Md();const Ke=new To(n,"POST",function(Xe,Zt){const oi=PC(Xe,["active","final"]),Hi=C.current+T,es=s.size();let oo;return oo="final"===oi?sm(i,h)(Xe,Zt):null,new Od(Hi,es,"final"===oi,oo)},i.maxUploadRetryTime);return Ke.headers=q,Ke.body=Ae.uploadData(),Ke.progressCallback=w||null,Ke.errorHandler=Uu(r),Ke}(this._ref._location,this._ref.storage,s,this._blob,i,this._mappings,n,this._makeProgressCallback())}catch(C){return this._error=C,void this._transition("error")}const w=this._ref.storage._makeRequest(g,l,h);this._request=w,w.getPromise().then(C=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(C.current),C.finalized?(this._metadata=C.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((i,n)=>{const s=fg(this._ref.storage,this._ref._location,this._mappings),l=this._ref.storage._makeRequest(s,i,n);this._request=l,l.getPromise().then(h=>{this._request=void 0,this._metadata=h,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((i,n)=>{const s=function(r,i,n,s,l){const h=i.bucketOnlyServerUrl(),g={"X-Goog-Upload-Protocol":"multipart"},C=function(){let Ke="";for(let Xe=0;Xe<2;Xe++)Ke+=Math.random().toString().slice(2);return Ke}();g["Content-Type"]="multipart/related; boundary="+C;const S=om(i,s,l),T=rm(S,n),G=Hs.getBlob("--"+C+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+T+"\r\n--"+C+"\r\nContent-Type: "+S.contentType+"\r\n\r\n",s,"\r\n--"+C+"--");if(null===G)throw Md();const q={name:S.fullPath},Ae=gl(h,r.host,r._protocol),ke=r.maxUploadRetryTime,We=new To(Ae,"POST",sm(r,n),ke);return We.urlParams=q,We.headers=g,We.body=G.uploadData(),We.errorHandler=Uu(i),We}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),l=this._ref.storage._makeRequest(s,i,n);this._request=l,l.getPromise().then(h=>{this._request=void 0,this._metadata=h,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(i){const n=this._transferred;this._transferred=i,this._transferred!==n&&this._notifyObservers()}_transition(i){if(this._state!==i)switch(i){case"canceling":case"pausing":this._state=i,void 0!==this._request&&this._request.cancel();break;case"running":const n="paused"===this._state;this._state=i,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=i,this._notifyObservers();break;case"canceled":this._error=ZA(),this._state=i,this._notifyObservers();break;case"error":case"success":this._state=i,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const i=BC(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:i,metadata:this._metadata,task:this,ref:this._ref}}on(i,n,s,l){const h=new xS(n||void 0,s||void 0,l||void 0);return this._addObserver(h),()=>{this._removeObserver(h)}}then(i,n){return this._promise.then(i,n)}catch(i){return this.then(null,i)}_addObserver(i){this._observers.push(i),this._notifyObserver(i)}_removeObserver(i){const n=this._observers.indexOf(i);-1!==n&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(void 0!==this._resolve){let i=!0;switch(BC(this._state)){case Fi.SUCCESS:Gu(this._resolve.bind(null,this.snapshot))();break;case Fi.CANCELED:case Fi.ERROR:Gu(this._reject.bind(null,this._error))();break;default:i=!1}i&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(i){switch(BC(this._state)){case Fi.RUNNING:case Fi.PAUSED:i.next&&Gu(i.next.bind(i,this.snapshot))();break;case Fi.SUCCESS:i.complete&&Gu(i.complete.bind(i))();break;case Fi.CANCELED:case Fi.ERROR:i.error&&Gu(i.error.bind(i,this._error))();break;default:i.error&&Gu(i.error.bind(i,this._error))()}}resume(){const i="paused"===this._state||"pausing"===this._state;return i&&this._transition("running"),i}pause(){const i="running"===this._state;return i&&this._transition("pausing"),i}cancel(){const i="running"===this._state||"pausing"===this._state;return i&&this._transition("canceling"),i}}class Hu{constructor(i,n){this._service=i,this._location=n instanceof pi?n:pi.makeFromUrl(n,i.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(i,n){return new Hu(i,n)}get root(){const i=new pi(this._location.bucket,"");return this._newRef(this._service,i)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return im(this._location.path)}get storage(){return this._service}get parent(){const i=function(r){if(0===r.length)return null;const i=r.lastIndexOf("/");return-1===i?"":r.slice(0,i)}(this._location.path);if(null===i)return null;const n=new pi(this._location.bucket,i);return new Hu(this._service,n)}_throwIfRoot(i){if(""===this._location.path)throw lv(i)}}function um(r,i,n){return GC.apply(this,arguments)}function GC(){return(GC=(0,$.Z)(function*(r,i,n){const l=yield TS(r,{pageToken:n});i.prefixes.push(...l.prefixes),i.items.push(...l.items),null!=l.nextPageToken&&(yield um(r,i,l.nextPageToken))})).apply(this,arguments)}function TS(r,i){return HC.apply(this,arguments)}function HC(){return(HC=(0,$.Z)(function*(r,i){null!=i&&"number"==typeof i.maxResults&&ag("options.maxResults",1,1e3,i.maxResults);const n=i||{},s=js(r.storage,r._location,"/",n.pageToken,n.maxResults);return(yield r.storage.makeRequestWithTokens(s)).getPromise()})).apply(this,arguments)}function jC(){return(jC=(0,$.Z)(function*(r){r._throwIfRoot("getMetadata");const i=fg(r.storage,r._location,kd());return(yield r.storage.makeRequestWithTokens(i)).getPromise()})).apply(this,arguments)}function QC(){return(QC=(0,$.Z)(function*(r,i){r._throwIfRoot("updateMetadata");const n=CS(r.storage,r._location,i,kd());return(yield r.storage.makeRequestWithTokens(n)).getPromise()})).apply(this,arguments)}function zC(){return(zC=(0,$.Z)(function*(r){r._throwIfRoot("getDownloadURL");const i=FC(r.storage,r._location,kd());return(yield r.storage.makeRequestWithTokens(i)).getPromise().then(n=>{if(null===n)throw wC();return n})})).apply(this,arguments)}function qC(){return(qC=(0,$.Z)(function*(r){r._throwIfRoot("deleteObject");const i=fv(r.storage,r._location);return(yield r.storage.makeRequestWithTokens(i)).getPromise()})).apply(this,arguments)}function fa(r,i){const n=function(r,i){const n=i.split("/").filter(s=>s.length>0).join("/");return 0===r.length?n:r+"/"+n}(r._location.path,i),s=new pi(r._location.bucket,n);return new Hu(r.storage,s)}function Av(r,i){if(r instanceof vv){const n=r;if(null==n._bucket)throw new tn("no-default-bucket","No default bucket found. Did you set the '"+ig+"' property when initializing the app?");const s=new Hu(n,n._bucket);return null!=i?Av(s,i):s}return void 0!==i?fa(r,i):r}function mv(r,i){if(i&&function(r){return/^[A-Za-z]+:\/\//.test(r)}(i)){if(r instanceof vv)return function(r,i){return new Hu(r,i)}(r,i);throw fl("To use ref(service, url), the first argument must be a Storage instance.")}return Av(r,i)}function yv(r,i){const n=null==i?void 0:i[ig];return null==n?null:pi.makeFromBucketSpec(n,r)}class vv{constructor(i,n,s,l,h,g){this.app=i,this._authProvider=n,this._appCheckProvider=s,this._pool=l,this._url=h,this._firebaseVersion=g,this._bucket=null,this._host=Dd,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=h?pi.makeFromBucketSpec(h,this._host):yv(this._host,this.app.options)}get host(){return this._host}set host(i){this._host=i,this._bucket=null!=this._url?pi.makeFromBucketSpec(this._url,i):yv(i,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(i){ag("time",0,Number.POSITIVE_INFINITY,i),this._maxUploadRetryTime=i}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(i){ag("time",0,Number.POSITIVE_INFINITY,i),this._maxOperationRetryTime=i}_getAuthToken(){var i=this;return(0,$.Z)(function*(){if(i._overrideAuthToken)return i._overrideAuthToken;const n=i._authProvider.getImmediate({optional:!0});if(n){const s=yield n.getToken();if(null!==s)return s.accessToken}return null})()}_getAppCheckToken(){var i=this;return(0,$.Z)(function*(){const n=i._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(i=>i.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(i){return new Hu(this,i)}_makeRequest(i,n,s){if(this._deleted)return new aS(JA());{const l=function(r,i,n,s,l,h){const g=bC(r.urlParams),w=r.url+g,C=Object.assign({},r.headers);return function(r,i){i&&(r["X-Firebase-GMPID"]=i)}(C,i),function(r,i){null!==i&&i.length>0&&(r.Authorization="Firebase "+i)}(C,n),function(r,i){r["X-Firebase-Storage-Version"]="webjs/"+(null!=i?i:"AppManager")}(C,h),function(r,i){null!==i&&(r["X-Firebase-AppCheck"]=i)}(C,s),new CC(w,r.method,C,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,l)}(i,this._appId,n,s,this._pool,this._firebaseVersion);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(i){var n=this;return(0,$.Z)(function*(){const[s,l]=yield Promise.all([n._getAuthToken(),n._getAppCheckToken()]);return n._makeRequest(i,s,l)})()}}function ju(r,i){return mv(r=(0,Je.m9)(r),i)}(0,Qe._registerComponent)(new Xi.wA("storage",function(r,{instanceIdentifier:i}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),l=r.getProvider("app-check-internal");return new vv(n,s,l,new oS,i,Qe.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,Qe.registerVersion)("@firebase/storage","0.8.2");class Fd{constructor(i,n,s){this._delegate=i,this.task=n,this.ref=s}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class cm{constructor(i,n){this._delegate=i,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Fd(this._delegate.snapshot,this,this._ref)}then(i,n){return this._delegate.then(s=>{if(i)return i(new Fd(s,this,this._ref))},n)}on(i,n,s,l){let h;return n&&(h="function"==typeof n?g=>n(new Fd(g,this,this._ref)):{next:n.next?g=>n.next(new Fd(g,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(i,h,s||void 0,l||void 0)}}class Ev{constructor(i,n){this._delegate=i,this._service=n}get prefixes(){return this._delegate.prefixes.map(i=>new ms(i,this._service))}get items(){return this._delegate.items.map(i=>new ms(i,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ms{constructor(i,n){this._delegate=i,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(i){const n=function(r,i){return fa(r,i)}(this._delegate,i);return new ms(n,this.storage)}get root(){return new ms(this._delegate.root,this.storage)}get parent(){const i=this._delegate.parent;return null==i?null:new ms(i,this.storage)}put(i,n){return this._throwIfRoot("put"),new cm(function(r,i,n){return function(r,i,n){return r._throwIfRoot("uploadBytesResumable"),new IS(r,new Hs(i),n)}(r=(0,Je.m9)(r),i,n)}(this._delegate,i,n),this)}putString(i,n=hr.RAW,s){this._throwIfRoot("putString");const l=Rd(n,i),h=Object.assign({},s);return null==h.contentType&&null!=l.contentType&&(h.contentType=l.contentType),new cm(new IS(this._delegate,new Hs(l.data,!0),h),this)}listAll(){return function(r){return function(r){const i={prefixes:[],items:[]};return um(r,i).then(()=>i)}(r=(0,Je.m9)(r))}(this._delegate).then(i=>new Ev(i,this.storage))}list(i){return function(r,i){return TS(r=(0,Je.m9)(r),i)}(this._delegate,i||void 0).then(n=>new Ev(n,this.storage))}getMetadata(){return function(r){return function(r){return jC.apply(this,arguments)}(r=(0,Je.m9)(r))}(this._delegate)}updateMetadata(i){return function(r,i){return function(r,i){return QC.apply(this,arguments)}(r=(0,Je.m9)(r),i)}(this._delegate,i)}getDownloadURL(){return function(r){return function(r){return zC.apply(this,arguments)}(r=(0,Je.m9)(r))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(r){return function(r){return qC.apply(this,arguments)}(r=(0,Je.m9)(r))}(this._delegate)}_throwIfRoot(i){if(""===this._delegate._location.path)throw lv(i)}}class XC{constructor(i,n){this.app=i,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(i){if(bv(i))throw fl("ref() expected a child path but got a URL, use refFromURL instead.");return new ms(ju(this._delegate,i),this)}refFromURL(i){if(!bv(i))throw fl("refFromURL() expected a full URL but got a child path, use ref() instead.");try{pi.makeFromUrl(i,this._delegate.host)}catch(n){throw fl("refFromUrl() expected a valid full URL but got an invalid one.")}return new ms(ju(this._delegate,i),this)}setMaxUploadRetryTime(i){this._delegate.maxUploadRetryTime=i}setMaxOperationRetryTime(i){this._delegate.maxOperationRetryTime=i}useEmulator(i,n,s={}){!function(r,i,n,s={}){!function(r,i,n,s={}){r.host=`${i}:${n}`,r._protocol="http";const{mockUserToken:l}=s;l&&(r._overrideAuthToken="string"==typeof l?l:(0,Je.Sg)(l,r.app.options.projectId))}(r,i,n,s)}(this._delegate,i,n,s)}}function bv(r){return/^[A-Za-z]+:\/\//.test(r)}function FS(r,{instanceIdentifier:i}){const n=r.getProvider("app-compat").getImmediate(),s=r.getProvider("storage").getImmediate({identifier:i});return new XC(n,s)}!function(r){const i={TaskState:Fi,TaskEvent:lm,StringFormat:hr,Storage:XC,Reference:ms};r.INTERNAL.registerComponent(new Xi.wA("storage-compat",FS,"PUBLIC").setServiceProps(i).setMultipleInstances(!0)),r.registerVersion("@firebase/storage-compat","0.1.2")}(Ze.Z);var ix=P(7841);function Dr(r){const i=function(r){return new Wi.y(i=>{const n=g=>i.next(g);n(r.snapshot);const h=r.on("state_changed",n);return r.then(g=>{n(g),i.complete()},g=>{n(r.snapshot),(g=>{i.error(g)})(g)}),function(){h()}}).pipe(R(0))}(r);return{task:r,then:r.then.bind(r),catch:r.catch.bind(r),pause:r.pause.bind(r),cancel:r.cancel.bind(r),resume:r.resume.bind(r),snapshotChanges:()=>i,percentageChanges:()=>i.pipe((0,Bt.U)(n=>n.bytesTransferred/n.totalBytes*100))}}function dm(r){return{getDownloadURL:()=>(0,m.of)(void 0).pipe(Me.fc,Oi(()=>r.getDownloadURL()),Me.iC),getMetadata:()=>(0,m.of)(void 0).pipe(Me.fc,Oi(()=>r.getMetadata()),Me.iC),delete:()=>(0,Zn.D)(r.delete()),child:i=>dm(r.child(i)),updateMetadata:i=>(0,Zn.D)(r.updateMetadata(i)),put:(i,n)=>Dr(r.put(i,n)),putString:(i,n,s)=>Dr(r.putString(i,n,s)),listAll:()=>(0,Zn.D)(r.listAll())}}const LS=new c.OlP("angularfire2.storageBucket"),Yk=new c.OlP("angularfire2.storage.maxUploadRetryTime"),Wk=new c.OlP("angularfire2.storage.maxOperationRetryTime"),rx=new c.OlP("angularfire2.storage.use-emulator");let Cv=(()=>{class r{constructor(n,s,l,h,g,w,C,S,T){const k=(0,Hr.on)(n,g,s);this.storage=(0,Me.cc)(`${k.name}.storage.${l}`,"AngularFireStorage",k.name,()=>{const B=g.runOutsideAngular(()=>k.storage(l||void 0)),G=T;return G&&B.useEmulator(...G),C&&B.setMaxUploadRetryTime(C),S&&B.setMaxOperationRetryTime(S),B},[C,S])}ref(n){return dm(this.storage.ref(n))}refFromURL(n){return dm(this.storage.refFromURL(n))}upload(n,s,l){return dm(this.storage.ref(n)).put(s,l)}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(Hr.Dh),c.LFG(Hr.xv,8),c.LFG(LS,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Me.HU),c.LFG(Yk,8),c.LFG(Wk,8),c.LFG(rx,8))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),xv=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({}),r})(),sx=(()=>{class r{constructor(){ix.Z.registerVersion("angularfire",Me.q4.full,"gcs-compat")}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({providers:[Cv],imports:[xv]}),r})();var BS=P(3282);function ox(...r){return(0,BS.J)(1)((0,m.of)(...r))}var Iv=P(4869);function Pd(...r){const i=r[r.length-1];return(0,Iv.K)(i)?(r.pop(),n=>ox(r,n,i)):n=>ox(r,n)}function hm(){return r=>r.lift(new US)}class US{call(i,n){return n.subscribe(new GS(i))}}class GS extends _.L{constructor(i){super(i),this.hasPrev=!1}_next(i){let n;this.hasPrev?n=[this.prev,i]:this.hasPrev=!0,this.prev=i,n&&this.destination.next(n)}}function mg(r,i){let n=!1;return arguments.length>=2&&(n=!0),function(l){return l.lift(new ax(r,i,n))}}class ax{constructor(i,n,s=!1){this.accumulator=i,this.seed=n,this.hasSeed=s}call(i,n){return n.subscribe(new HS(i,this.accumulator,this.seed,this.hasSeed))}}class HS extends _.L{constructor(i,n,s,l){super(i),this.accumulator=n,this._seed=s,this.hasSeed=l,this.index=0}get seed(){return this._seed}set seed(i){this.hasSeed=!0,this._seed=i}_next(i){if(this.hasSeed)return this._tryNext(i);this.seed=i,this.destination.next(i)}_tryNext(i){const n=this.index++;let s;try{s=this.accumulator(this.seed,i,n)}catch(l){this.destination.error(l)}this.seed=s,this.destination.next(s)}}function ys(r,i){return n=>n.lift(new Dv(r,i))}class Dv{constructor(i,n){this.compare=i,this.keySelector=n}call(i,n){return n.subscribe(new jS(i,this.compare,this.keySelector))}}class jS extends _.L{constructor(i,n,s){super(i),this.keySelector=s,this.hasKey=!1,"function"==typeof n&&(this.compare=n)}compare(i,n){return i===n}_next(i){let n;try{const{keySelector:l}=this;n=l?l(i):i}catch(l){return this.destination.error(l)}let s=!1;if(this.hasKey)try{const{compare:l}=this;s=l(this.key,n)}catch(l){return this.destination.error(l)}else this.hasKey=!0;s||(this.key=n,this.destination.next(i))}}function Qs(r,i){return function(s){return s.lift(new Jk(r,i))}}class Jk{constructor(i,n){this.predicate=i,this.thisArg=n}call(i,n){return n.subscribe(new lx(i,this.predicate,this.thisArg))}}class lx extends _.L{constructor(i,n,s){super(i),this.predicate=n,this.thisArg=s,this.count=0}_next(i){let n;try{n=this.predicate.call(this.thisArg,i,this.count++)}catch(s){return void this.destination.error(s)}n&&this.destination.next(i)}}P(6780);var Qu=P(300),Sv=function(r,i){return(Sv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(n[l]=s[l])})(r,i)};function ux(r){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&r[i],s=0;if(n)return n.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}var ze,QS="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},yg=yg||{},wt=QS||self;function Ld(){}function _g(r){var i=typeof r;return"array"==(i="object"!=i?i:r?Array.isArray(r)?"array":i:"null")||"object"==i&&"number"==typeof r.length}function Bd(r){var i=typeof r;return"object"==i&&null!=r||"function"==i}var Mv="closure_uid_"+(1e9*Math.random()>>>0),Rv=0;function $k(r,i,n){return r.call.apply(r.bind,arguments)}function qS(r,i,n){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,s),r.apply(i,l)}}return function(){return r.apply(i,arguments)}}function Ai(r,i,n){return(Ai=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?$k:qS).apply(null,arguments)}function vg(r,i){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function mi(r,i){function n(){}n.prototype=i.prototype,r.Z=i.prototype,r.prototype=new n,r.prototype.constructor=r,r.Vb=function(s,l,h){for(var g=Array(arguments.length-2),w=2;w<arguments.length;w++)g[w-2]=arguments[w];return i.prototype[l].apply(s,g)}}function ga(){this.s=this.s,this.o=this.o}var pa={};ga.prototype.s=!1,ga.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var r=function(r){return Object.prototype.hasOwnProperty.call(r,Mv)&&r[Mv]||(r[Mv]=++Rv)}(this);delete pa[r]}},ga.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var wg=Array.prototype.indexOf?function(r,i){return Array.prototype.indexOf.call(r,i,void 0)}:function(r,i){if("string"==typeof r)return"string"!=typeof i||1!=i.length?-1:r.indexOf(i,0);for(var n=0;n<r.length;n++)if(n in r&&r[n]===i)return n;return-1},dx=Array.prototype.forEach?function(r,i,n){Array.prototype.forEach.call(r,i,n)}:function(r,i,n){for(var s=r.length,l="string"==typeof r?r.split(""):r,h=0;h<s;h++)h in l&&i.call(n,l[h],h,r)};function WS(r){return Array.prototype.concat.apply([],arguments)}function Al(r){var i=r.length;if(0<i){for(var n=Array(i),s=0;s<i;s++)n[s]=r[s];return n}return[]}function Eg(r){return/^[\s\xa0]*$/.test(r)}var Pi,Vd=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function ci(r,i){return-1!=r.indexOf(i)}function kv(r,i){return r<i?-1:r>i?1:0}e:{var Ov=wt.navigator;if(Ov){var hx=Ov.userAgent;if(hx){Pi=hx;break e}}Pi=""}function fm(r,i,n){for(var s in r)i.call(n,r[s],s,r)}function fx(r){var i={};for(var n in r)i[n]=r[n];return i}var gm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gx(r,i){for(var n,s,l=1;l<arguments.length;l++){for(n in s=arguments[l])r[n]=s[n];for(var h=0;h<gm.length;h++)n=gm[h],Object.prototype.hasOwnProperty.call(s,n)&&(r[n]=s[n])}}function Nv(r){return Nv[" "](r),r}Nv[" "]=Ld;var pm,r,Ud=ci(Pi,"Opera"),zu=ci(Pi,"Trident")||ci(Pi,"MSIE"),Ax=ci(Pi,"Edge"),Fv=Ax||zu,qu=ci(Pi,"Gecko")&&!(ci(Pi.toLowerCase(),"webkit")&&!ci(Pi,"Edge"))&&!(ci(Pi,"Trident")||ci(Pi,"MSIE"))&&!ci(Pi,"Edge"),ZS=ci(Pi.toLowerCase(),"webkit")&&!ci(Pi,"Edge");function mx(){var r=wt.document;return r?r.documentMode:void 0}e:{var Pv="",yx=(r=Pi,qu?/rv:([^\);]+)(\)|;)/.exec(r):Ax?/Edge\/([\d\.]+)/.exec(r):zu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):ZS?/WebKit\/(\S+)/.exec(r):Ud?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(yx&&(Pv=yx?yx[1]:""),zu){var Lv=mx();if(null!=Lv&&Lv>parseFloat(Pv)){pm=String(Lv);break e}}pm=Pv}var _x={};function _n(){return i=_x,Object.prototype.hasOwnProperty.call(i,9)?i[9]:i[9]=function(){for(var r=0,i=Vd(String(pm)).split("."),n=Vd("9").split("."),s=Math.max(i.length,n.length),l=0;0==r&&l<s;l++){var h=i[l]||"",g=n[l]||"";do{if(h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],0==h[0].length&&0==g[0].length)break;r=kv(0==h[1].length?0:parseInt(h[1],10),0==g[1].length?0:parseInt(g[1],10))||kv(0==h[2].length,0==g[2].length)||kv(h[2],g[2]),h=h[3],g=g[3]}while(0==r)}return 0<=r}();var i}var Aa=wt.document&&zu&&(mx()||parseInt(pm,10))||void 0,Bv=function(){if(!wt.addEventListener||!Object.defineProperty)return!1;var r=!1,i=Object.defineProperty({},"passive",{get:function(){r=!0}});try{wt.addEventListener("test",Ld,i),wt.removeEventListener("test",Ld,i)}catch(n){}return r}();function yi(r,i){this.type=r,this.g=this.target=i,this.defaultPrevented=!1}function Am(r,i){if(yi.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var n=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=i,i=r.relatedTarget){if(qu){e:{try{Nv(i.nodeName);var l=!0;break e}catch(h){}l=!1}l||(i=null)}}else"mouseover"==n?i=r.fromElement:"mouseout"==n&&(i=r.toElement);this.relatedTarget=i,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:KS[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Am.Z.h.call(this)}}yi.prototype.h=function(){this.defaultPrevented=!0},mi(Am,yi);var KS={2:"touch",3:"pen",4:"mouse"};Am.prototype.h=function(){Am.Z.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Cg="closure_listenable_"+(1e6*Math.random()|0),vx=0;function wx(r,i,n,s,l){this.listener=r,this.proxy=null,this.src=i,this.type=n,this.capture=!!s,this.ia=l,this.key=++vx,this.ca=this.fa=!1}function xg(r){r.ca=!0,r.listener=null,r.proxy=null,r.src=null,r.ia=null}function Ig(r){this.src=r,this.g={},this.h=0}function Vv(r,i){var n=i.type;if(n in r.g){var h,s=r.g[n],l=wg(s,i);(h=0<=l)&&Array.prototype.splice.call(s,l,1),h&&(xg(i),0==r.g[n].length&&(delete r.g[n],r.h--))}}function Uv(r,i,n,s){for(var l=0;l<r.length;++l){var h=r[l];if(!h.ca&&h.listener==i&&h.capture==!!n&&h.ia==s)return l}return-1}Ig.prototype.add=function(r,i,n,s,l){var h=r.toString();(r=this.g[h])||(r=this.g[h]=[],this.h++);var g=Uv(r,i,s,l);return-1<g?(i=r[g],n||(i.fa=!1)):((i=new wx(i,this.src,h,!!s,l)).fa=n,r.push(i)),i};var Yu="closure_lm_"+(1e6*Math.random()|0),Dg={};function Gv(r,i,n,s,l){if(s&&s.once)return jv(r,i,n,s,l);if(Array.isArray(i)){for(var h=0;h<i.length;h++)Gv(r,i[h],n,s,l);return null}return n=ym(n),r&&r[Cg]?r.N(i,n,Bd(s)?!!s.capture:!!s,l):Hv(r,i,n,!1,s,l)}function Hv(r,i,n,s,l,h){if(!i)throw Error("Invalid event type");var g=Bd(l)?!!l.capture:!!l,w=mm(r);if(w||(r[Yu]=w=new Ig(r)),(n=w.add(i,n,s,g,h)).proxy)return n;if(s=function(){var i=$S;return function r(n){return i.call(r.src,r.listener,n)}}(),n.proxy=s,s.src=r,s.listener=n,r.addEventListener)Bv||(l=g),void 0===l&&(l=!1),r.addEventListener(i.toString(),s,l);else if(r.attachEvent)r.attachEvent(Cx(i.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return n}function jv(r,i,n,s,l){if(Array.isArray(i)){for(var h=0;h<i.length;h++)jv(r,i[h],n,s,l);return null}return n=ym(n),r&&r[Cg]?r.O(i,n,Bd(s)?!!s.capture:!!s,l):Hv(r,i,n,!0,s,l)}function bx(r,i,n,s,l){if(Array.isArray(i))for(var h=0;h<i.length;h++)bx(r,i[h],n,s,l);else s=Bd(s)?!!s.capture:!!s,n=ym(n),r&&r[Cg]?(r=r.i,(i=String(i).toString())in r.g&&-1<(n=Uv(h=r.g[i],n,s,l))&&(xg(h[n]),Array.prototype.splice.call(h,n,1),0==h.length&&(delete r.g[i],r.h--))):r&&(r=mm(r))&&(i=r.g[i.toString()],r=-1,i&&(r=Uv(i,n,s,l)),(n=-1<r?i[r]:null)&&Qv(n))}function Qv(r){if("number"!=typeof r&&r&&!r.ca){var i=r.src;if(i&&i[Cg])Vv(i.i,r);else{var n=r.type,s=r.proxy;i.removeEventListener?i.removeEventListener(n,s,r.capture):i.detachEvent?i.detachEvent(Cx(n),s):i.addListener&&i.removeListener&&i.removeListener(s),(n=mm(i))?(Vv(n,r),0==n.h&&(n.src=null,i[Yu]=null)):xg(r)}}}function Cx(r){return r in Dg?Dg[r]:Dg[r]="on"+r}function $S(r,i){if(r.ca)r=!0;else{i=new Am(i,this);var n=r.listener,s=r.ia||r.src;r.fa&&Qv(r),r=n.call(s,i)}return r}function mm(r){return(r=r[Yu])instanceof Ig?r:null}var xx="__closure_events_fn_"+(1e9*Math.random()>>>0);function ym(r){return"function"==typeof r?r:(r[xx]||(r[xx]=function(i){return r.handleEvent(i)}),r[xx])}function _i(){ga.call(this),this.i=new Ig(this),this.P=this,this.I=null}function Li(r,i){var n,s=r.I;if(s)for(n=[];s;s=s.I)n.push(s);if(r=r.P,s=i.type||i,"string"==typeof i)i=new yi(i,r);else if(i instanceof yi)i.target=i.target||r;else{var l=i;gx(i=new yi(s,r),l)}if(l=!0,n)for(var h=n.length-1;0<=h;h--){var g=i.g=n[h];l=zv(g,s,!0,i)&&l}if(l=zv(g=i.g=r,s,!0,i)&&l,l=zv(g,s,!1,i)&&l,n)for(h=0;h<n.length;h++)l=zv(g=i.g=n[h],s,!1,i)&&l}function zv(r,i,n,s){if(!(i=r.i.g[String(i)]))return!0;i=i.concat();for(var l=!0,h=0;h<i.length;++h){var g=i[h];if(g&&!g.ca&&g.capture==n){var w=g.listener,C=g.ia||g.src;g.fa&&Vv(r.i,g),l=!1!==w.call(C,s)&&l}}return l&&!s.defaultPrevented}mi(_i,ga),_i.prototype[Cg]=!0,_i.prototype.removeEventListener=function(r,i,n,s){bx(this,r,i,n,s)},_i.prototype.M=function(){if(_i.Z.M.call(this),this.i){var i,r=this.i;for(i in r.g){for(var n=r.g[i],s=0;s<n.length;s++)xg(n[s]);delete r.g[i],r.h--}}this.I=null},_i.prototype.N=function(r,i,n,s){return this.i.add(String(r),i,!1,n,s)},_i.prototype.O=function(r,i,n,s){return this.i.add(String(r),i,!0,n,s)};var Ix=wt.JSON.stringify;function qv(){var r=Wv,i=null;return r.g&&(i=r.g,r.g=r.g.next,r.g||(r.h=null),i.next=null),i}var Sx,XS=function(){function r(){this.h=this.g=null}return r.prototype.add=function(i,n){var s=Yv.get();s.set(i,n),this.h?this.h.next=s:this.g=s,this.h=s},r}(),Yv=new(function(){function r(i,n){this.i=i,this.j=n,this.h=0,this.g=null}return r.prototype.get=function(){var i;return 0<this.h?(this.h--,this.g=(i=this.g).next,i.next=null):i=this.i(),i},r}())(function(){return new Dx},function(r){return r.reset()}),Dx=function(){function r(){this.next=this.g=this.h=null}return r.prototype.set=function(i,n){this.h=i,this.g=n,this.next=null},r.prototype.reset=function(){this.next=this.g=this.h=null},r}();function Xk(r){wt.setTimeout(function(){throw r},0)}function Qr(r,i){Sx||function(){var r=wt.Promise.resolve(void 0);Sx=function(){r.then(Mx)}}(),Tx||(Sx(),Tx=!0),Wv.add(r,i)}var Tx=!1,Wv=new XS;function Mx(){for(var r;r=qv();){try{r.h.call(r.g)}catch(n){Xk(n)}var i=Yv;i.j(r),100>i.h&&(i.h++,r.next=i.g,i.g=r)}Tx=!1}function Sg(r,i){_i.call(this),this.h=r||1,this.g=i||wt,this.j=Ai(this.kb,this),this.l=Date.now()}function Zv(r){r.da=!1,r.S&&(r.g.clearTimeout(r.S),r.S=null)}function Rx(r,i,n){if("function"==typeof r)n&&(r=Ai(r,n));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Ai(r.handleEvent,r)}return 2147483647<Number(i)?-1:wt.setTimeout(r,i||0)}function Jv(r){r.g=Rx(function(){r.g=null,r.i&&(r.i=!1,Jv(r))},r.j);var i=r.h;r.h=null,r.m.apply(null,i)}mi(Sg,_i),(ze=Sg.prototype).da=!1,ze.S=null,ze.kb=function(){if(this.da){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-r):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Li(this,"tick"),this.da&&(Zv(this),this.start()))}},ze.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ze.M=function(){Sg.Z.M.call(this),Zv(this),delete this.g};var Kv=function(r){function i(n,s){var l=r.call(this)||this;return l.m=n,l.j=s,l.h=null,l.i=!1,l.g=null,l}return function(r,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=r}Sv(r,i),r.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}(i,r),i.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:Jv(this)},i.prototype.M=function(){r.prototype.M.call(this),this.g&&(wt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},i}(ga);function Tg(r){ga.call(this),this.h=r,this.g={}}mi(Tg,ga);var _m=[];function kx(r,i,n,s){Array.isArray(n)||(n&&(_m[0]=n.toString()),n=_m);for(var l=0;l<n.length;l++){var h=Gv(i,n[l],s||r.handleEvent,!1,r.h||r);if(!h)break;r.g[h.key]=h}}function Ox(r){fm(r.g,function(i,n){this.g.hasOwnProperty(n)&&Qv(i)},r),r.g={}}function vm(){this.g=!0}function Gd(r,i,n,s){r.info(function(){return"XMLHTTP TEXT ("+i+"): "+function(r,i){if(!r.g)return i;if(!i)return null;try{var n=JSON.parse(i);if(n)for(r=0;r<n.length;r++)if(Array.isArray(n[r])){var s=n[r];if(!(2>s.length)){var l=s[1];if(Array.isArray(l)&&!(1>l.length)){var h=l[0];if("noop"!=h&&"stop"!=h&&"close"!=h)for(var g=1;g<l.length;g++)l[g]=""}}}return Ix(n)}catch(w){return i}}(r,n)+(s?" "+s:"")})}Tg.prototype.M=function(){Tg.Z.M.call(this),Ox(this)},Tg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},vm.prototype.Aa=function(){this.g=!1},vm.prototype.info=function(){};var ml={},_s=null;function yl(){return _s=_s||new _i}function Nx(r){yi.call(this,ml.Ma,r)}function Mg(r){var i=yl();Li(i,new Nx(i,r))}function Em(r,i){yi.call(this,ml.STAT_EVENT,r),this.stat=i}function vn(r){var i=yl();Li(i,new Em(i,r))}function jd(r,i){yi.call(this,ml.Na,r),this.size=i}function Jn(r,i){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return wt.setTimeout(function(){r()},i)}ml.Ma="serverreachability",mi(Nx,yi),ml.STAT_EVENT="statevent",mi(Em,yi),ml.Na="timingevent",mi(jd,yi);var ko={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Rg={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Sr(){}function Wu(){}Sr.prototype.h=null;var wl,Oo={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function _l(){yi.call(this,"d")}function vl(){yi.call(this,"c")}function ma(){}function No(r,i,n,s){this.l=r,this.j=i,this.m=n,this.X=s||1,this.V=new Tg(this),this.P=Qd,this.W=new Sg(r=Fv?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Zu}function Zu(){this.i=null,this.g="",this.h=!1}mi(_l,yi),mi(vl,yi),mi(ma,Sr),ma.prototype.g=function(){return new XMLHttpRequest},ma.prototype.i=function(){return{}},wl=new ma;var Qd=45e3,Cm={},kg={};function xm(r,i,n){r.K=1,r.v=sw(ya(i)),r.s=n,r.U=!0,$v(r,null)}function $v(r,i){r.F=Date.now(),zd(r),r.A=ya(r.v);var n=r.A,s=r.X;Array.isArray(s)||(s=[String(s)]),$u(n.h,"t",s),r.C=0,n=r.l.H,r.h=new Zu,r.g=Kx(r.l,n?i:null,!r.s),0<r.O&&(r.L=new Kv(Ai(r.Ia,r,r.g),r.O)),kx(r.V,r.g,"readystatechange",r.gb),i=r.H?fx(r.H):{},r.s?(r.u||(r.u="POST"),i["Content-Type"]="application/x-www-form-urlencoded",r.g.ea(r.A,r.u,r.s,i)):(r.u="GET",r.g.ea(r.A,r.u,null,i)),Mg(1),function(r,i,n,s,l,h){r.info(function(){if(r.g)if(h)for(var g="",w=h.split("&"),C=0;C<w.length;C++){var S=w[C].split("=");if(1<S.length){var T=S[0];S=S[1];var k=T.split("_");g=2<=k.length&&"type"==k[1]?g+(T+"=")+S+"&":g+(T+"=redacted&")}}else g=null;else g=h;return"XMLHTTP REQ ("+s+") [attempt "+l+"]: "+i+"\n"+n+"\n"+g})}(r.j,r.u,r.A,r.m,r.X,r.s)}function Xv(r){return!!r.g&&"GET"==r.u&&2!=r.K&&r.l.Ba}function ew(r,i,n){for(var l,s=!0;!r.I&&r.C<n.length;){if((l=Fx(r,n))==kg){4==i&&(r.o=4,vn(14),s=!1),Gd(r.j,r.m,null,"[Incomplete Response]");break}if(l==Cm){r.o=4,vn(15),Gd(r.j,r.m,n,"[Invalid Chunk]"),s=!1;break}Gd(r.j,r.m,l,null),Dm(r,l)}Xv(r)&&l!=kg&&l!=Cm&&(r.h.g="",r.C=0),4!=i||0!=n.length||r.h.h||(r.o=1,vn(16),s=!1),r.i=r.i&&s,s?0<n.length&&!r.aa&&(r.aa=!0,(i=r.l).g==r&&i.$&&!i.L&&(i.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Lm(i),i.L=!0,vn(11))):(Gd(r.j,r.m,n,"[Invalid Chunked Response]"),Ju(r),qd(r))}function Fx(r,i){var n=r.C,s=i.indexOf("\n",n);return-1==s?kg:(n=Number(i.substring(n,s)),isNaN(n)?Cm:(s+=1)+n>i.length?kg:(i=i.substr(s,n),r.C=s+n,i))}function zd(r){r.Y=Date.now()+r.P,tw(r,r.P)}function tw(r,i){if(null!=r.B)throw Error("WatchDog timer not null");r.B=Jn(Ai(r.eb,r),i)}function Im(r){r.B&&(wt.clearTimeout(r.B),r.B=null)}function qd(r){0==r.l.G||r.I||Ew(r.l,r)}function Ju(r){Im(r);var i=r.L;i&&"function"==typeof i.na&&i.na(),r.L=null,Zv(r.W),Ox(r.V),r.g&&(i=r.g,r.g=null,i.abort(),i.na())}function Dm(r,i){try{var n=r.l;if(0!=n.G&&(n.g==r||uw(n.i,r)))if(n.I=r.N,!r.J&&uw(n.i,r)&&3==n.G){try{var s=n.Ca.g.parse(i)}catch(Se){s=null}if(Array.isArray(s)&&3==s.length){var l=s;if(0==l[0])e:if(n.u)n.ta=l[1],0<n.ta-n.U&&37500>l[2]&&n.N&&0==n.A&&!n.v&&(n.v=Jn(Ai(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<r.F))break e;Qg(n),Gg(n)}Pm(n),vn(18)}if(1>=lw(n.i)&&n.ka){try{n.ka()}catch(Se){}n.ka=void 0}}else bl(n,11)}else if((r.J||n.g==r)&&Qg(n),!Eg(i))for(l=n.Ca.g.parse(i),i=0;i<l.length;i++){var h=l[i];if(n.U=h[0],h=h[1],2==n.G)if("c"==h[0]){n.J=h[1],n.la=h[2];var g=h[3];null!=g&&(n.ma=g,n.h.info("VER="+n.ma));var w=h[4];null!=w&&(n.za=w,n.h.info("SVER="+n.za));var C=h[5];null!=C&&"number"==typeof C&&0<C&&(n.K=s=1.5*C,n.h.info("backChannelRequestTimeoutMs_="+s)),s=n;var S=r.g;if(S){var T=S.g?S.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(T){var k=s.i;!k.g&&(ci(T,"spdy")||ci(T,"quic")||ci(T,"h2"))&&(k.j=k.l,k.g=new Set,k.h&&(cw(k,k.h),k.h=null))}if(s.D){var B=S.g?S.g.getResponseHeader("X-HTTP-Session-Id"):null;B&&(s.sa=B,Sn(s.F,s.D,B))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-r.F,n.h.info("Handshake RTT: "+n.O+"ms"));var G=r;if((s=n).oa=dT(s,s.H?s.la:null,s.W),G.J){Hx(s.i,G);var q=G,Ae=s.K;Ae&&q.setTimeout(Ae),q.B&&(Im(q),zd(q)),s.g=G}else Fm(s);0<n.l.length&&jg(n)}else"stop"!=h[0]&&"close"!=h[0]||bl(n,7);else 3==n.G&&("stop"==h[0]||"close"==h[0]?"stop"==h[0]?bl(n,7):mw(n):"noop"!=h[0]&&n.j&&n.j.wa(h),n.A=0)}Mg(4)}catch(Se){}}function nw(r,i){if(r.forEach&&"function"==typeof r.forEach)r.forEach(i,void 0);else if(_g(r)||"string"==typeof r)dx(r,i,void 0);else{if(r.T&&"function"==typeof r.T)var n=r.T();else if(r.R&&"function"==typeof r.R)n=void 0;else if(_g(r)||"string"==typeof r){n=[];for(var s=r.length,l=0;l<s;l++)n.push(l)}else for(l in n=[],s=0,r)n[s++]=l;l=(s=function(r){if(r.R&&"function"==typeof r.R)return r.R();if("string"==typeof r)return r.split("");if(_g(r)){for(var i=[],n=r.length,s=0;s<n;s++)i.push(r[s]);return i}for(s in i=[],n=0,r)i[n++]=r[s];return i}(r)).length;for(var h=0;h<l;h++)i.call(void 0,s[h],n&&n[h],r)}}function Og(r,i){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var s=0;s<n;s+=2)this.set(arguments[s],arguments[s+1])}else if(r)if(r instanceof Og)for(n=r.T(),s=0;s<n.length;s++)this.set(n[s],r.get(n[s]));else for(s in r)this.set(s,r[s])}function iw(r){if(r.i!=r.g.length){for(var i=0,n=0;i<r.g.length;){var s=r.g[i];El(r.h,s)&&(r.g[n++]=s),i++}r.g.length=n}if(r.i!=r.g.length){var l={};for(n=i=0;i<r.g.length;)El(l,s=r.g[i])||(r.g[n++]=s,l[s]=1),i++;r.g.length=n}}function El(r,i){return Object.prototype.hasOwnProperty.call(r,i)}(ze=No.prototype).setTimeout=function(r){this.P=r},ze.gb=function(r){r=r.target;var i=this.L;i&&3==Fo(r)?i.l():this.Ia(r)},ze.Ia=function(r){try{if(r==this.g)e:{var i=Fo(this.g),n=this.g.Da(),s=this.g.ba();if(!(3>i)&&(3!=i||Fv||this.g&&(this.h.h||this.g.ga()||Nm(this.g)))){this.I||4!=i||7==n||Mg(8==n||0>=s?3:2),Im(this);var l=this.g.ba();this.N=l;t:if(Xv(this)){var h=Nm(this.g);r="";var g=h.length,w=4==Fo(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ju(this),qd(this);var C="";break t}this.h.i=new wt.TextDecoder}for(n=0;n<g;n++)this.h.h=!0,r+=this.h.i.decode(h[n],{stream:w&&n==g-1});h.splice(0,g),this.h.g+=r,this.C=0,C=this.h.g}else C=this.g.ga();if(this.i=200==l,function(r,i,n,s,l,h,g){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+l+"]: "+i+"\n"+n+"\n"+h+" "+g})}(this.j,this.u,this.A,this.m,this.X,i,l),this.i){if(this.$&&!this.J){t:{if(this.g){var S,T=this.g;if((S=T.g?T.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Eg(S)){var k=S;break t}}k=null}if(!(l=k)){this.i=!1,this.o=3,vn(12),Ju(this),qd(this);break e}Gd(this.j,this.m,l,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Dm(this,l)}this.U?(ew(this,i,C),Fv&&this.i&&3==i&&(kx(this.V,this.W,"tick",this.fb),this.W.start())):(Gd(this.j,this.m,C,null),Dm(this,C)),4==i&&Ju(this),this.i&&!this.I&&(4==i?Ew(this.l,this):(this.i=!1,zd(this)))}else 400==l&&0<C.indexOf("Unknown SID")?(this.o=3,vn(12)):(this.o=0,vn(13)),Ju(this),qd(this)}}}catch(B){}},ze.fb=function(){if(this.g){var r=Fo(this.g),i=this.g.ga();this.C<i.length&&(Im(this),ew(this,r,i),this.i&&4!=r&&zd(this))}},ze.cancel=function(){this.I=!0,Ju(this)},ze.eb=function(){this.B=null;var r=Date.now();0<=r-this.Y?(function(r,i){r.info(function(){return"TIMEOUT: "+i})}(this.j,this.A),2!=this.K&&(Mg(3),vn(17)),Ju(this),this.o=2,qd(this)):tw(this,this.Y-r)},(ze=Og.prototype).R=function(){iw(this);for(var r=[],i=0;i<this.g.length;i++)r.push(this.h[this.g[i]]);return r},ze.T=function(){return iw(this),this.g.concat()},ze.get=function(r,i){return El(this.h,r)?this.h[r]:i},ze.set=function(r,i){El(this.h,r)||(this.i++,this.g.push(r)),this.h[r]=i},ze.forEach=function(r,i){for(var n=this.T(),s=0;s<n.length;s++){var l=n[s],h=this.get(l);r.call(i,h,l,this)}};var Lx=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ku(r,i){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,r instanceof Ku){this.g=void 0!==i?i:r.g,rw(this,r.j),this.s=r.s,Sm(this,r.i),Ng(this,r.m),this.l=r.l,i=r.h;var n=new Lg;n.i=i.i,i.g&&(n.g=new Og(i.g),n.h=i.h),nT(this,n),this.o=r.o}else r&&(n=String(r).match(Lx))?(this.g=!!i,rw(this,n[1]||"",!0),this.s=Fg(n[2]||""),Sm(this,n[3]||"",!0),Ng(this,n[4]),this.l=Fg(n[5]||"",!0),nT(this,n[6]||"",!0),this.o=Fg(n[7]||"")):(this.g=!!i,this.h=new Lg(null,this.g))}function ya(r){return new Ku(r)}function rw(r,i,n){r.j=n?Fg(i,!0):i,r.j&&(r.j=r.j.replace(/:$/,""))}function Sm(r,i,n){r.i=n?Fg(i,!0):i}function Ng(r,i){if(i){if(i=Number(i),isNaN(i)||0>i)throw Error("Bad port number "+i);r.m=i}else r.m=null}function nT(r,i,n){i instanceof Lg?(r.h=i,function(r,i){i&&!r.j&&(_a(r),r.i=null,r.g.forEach(function(n,s){var l=s.toLowerCase();s!=l&&(sT(this,s),$u(this,l,n))},r)),r.j=i}(r.h,r.g)):(n||(i=Pg(i,i1)),r.h=new Lg(i,r.g))}function Sn(r,i,n){r.h.set(i,n)}function sw(r){return Sn(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Fg(r,i){return r?i?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Pg(r,i,n){return"string"==typeof r?(r=encodeURI(r).replace(i,ow),n&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function ow(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Ku.prototype.toString=function(){var r=[],i=this.j;i&&r.push(Pg(i,Tm,!0),":");var n=this.i;return(n||"file"==i)&&(r.push("//"),(i=this.s)&&r.push(Pg(i,Tm,!0),"@"),r.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&r.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&r.push("/"),r.push(Pg(n,"/"==n.charAt(0)?n1:rT,!0))),(n=this.h.toString())&&r.push("?",n),(n=this.o)&&r.push("#",Pg(n,r1)),r.join("")};var Tm=/[#\/\?@]/g,rT=/[#\?:]/g,n1=/[#\?]/g,i1=/[#\?@]/g,r1=/#/g;function Lg(r,i){this.h=this.g=null,this.i=r||null,this.j=!!i}function _a(r){r.g||(r.g=new Og,r.h=0,r.i&&function(r,i){if(r){r=r.split("&");for(var n=0;n<r.length;n++){var s=r[n].indexOf("="),l=null;if(0<=s){var h=r[n].substring(0,s);l=r[n].substring(s+1)}else h=r[n];i(h,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(r.i,function(i,n){r.add(decodeURIComponent(i.replace(/\+/g," ")),n)}))}function sT(r,i){_a(r),i=Yd(r,i),El(r.g.h,i)&&(r.i=null,r.h-=r.g.get(i).length,El((r=r.g).h,i)&&(delete r.h[i],r.i--,r.g.length>2*r.i&&iw(r)))}function Vx(r,i){return _a(r),i=Yd(r,i),El(r.g.h,i)}function $u(r,i,n){sT(r,i),0<n.length&&(r.i=null,r.g.set(Yd(r,i),Al(n)),r.h+=n.length)}function Yd(r,i){return i=String(i),r.j&&(i=i.toLowerCase()),i}(ze=Lg.prototype).add=function(r,i){_a(this),this.i=null,r=Yd(this,r);var n=this.g.get(r);return n||this.g.set(r,n=[]),n.push(i),this.h+=1,this},ze.forEach=function(r,i){_a(this),this.g.forEach(function(n,s){dx(n,function(l){r.call(i,l,s,this)},this)},this)},ze.T=function(){_a(this);for(var r=this.g.R(),i=this.g.T(),n=[],s=0;s<i.length;s++)for(var l=r[s],h=0;h<l.length;h++)n.push(i[s]);return n},ze.R=function(r){_a(this);var i=[];if("string"==typeof r)Vx(this,r)&&(i=WS(i,this.g.get(Yd(this,r))));else{r=this.g.R();for(var n=0;n<r.length;n++)i=WS(i,r[n])}return i},ze.set=function(r,i){return _a(this),this.i=null,Vx(this,r=Yd(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[i]),this.h+=1,this},ze.get=function(r,i){return r&&0<(r=this.R(r)).length?String(r[0]):i},ze.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var r=[],i=this.g.T(),n=0;n<i.length;n++){var s=i[n],l=encodeURIComponent(String(s));s=this.R(s);for(var h=0;h<s.length;h++){var g=l;""!==s[h]&&(g+="="+encodeURIComponent(String(s[h]))),r.push(g)}}return this.i=r.join("&")};var oT=function(i,n){this.h=i,this.g=n};function aw(r){this.l=r||Mm,r=wt.PerformanceNavigationTiming?0<(r=wt.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(wt.g&&wt.g.Ea&&wt.g.Ea()&&wt.g.Ea().Zb),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Mm=10;function Gx(r){return!!r.h||!!r.g&&r.g.size>=r.j}function lw(r){return r.h?1:r.g?r.g.size:0}function uw(r,i){return r.h?r.h==i:!!r.g&&r.g.has(i)}function cw(r,i){r.g?r.g.add(i):r.h=i}function Hx(r,i){r.h&&r.h==i?r.h=null:r.g&&r.g.has(i)&&r.g.delete(i)}function jx(r){var i,n;if(null!=r.h)return r.i.concat(r.h.D);if(null!=r.g&&0!==r.g.size){var s=r.i;try{for(var l=ux(r.g.values()),h=l.next();!h.done;h=l.next())s=s.concat(h.value.D)}catch(w){i={error:w}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(i)throw i.error}}return s}return Al(r.i)}function dw(){}function Qx(){this.g=new dw}function aT(r,i,n){var s=n||"";try{nw(r,function(l,h){var g=l;Bd(l)&&(g=Ix(l)),i.push(s+h+"="+encodeURIComponent(g))})}catch(l){throw i.push(s+"type="+encodeURIComponent("_badmap")),l}}function Bg(r,i,n,s,l){try{i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null,l(s)}catch(h){}}function Xu(r){this.l=r.$b||null,this.j=r.ib||!1}function hw(r,i){_i.call(this),this.D=r,this.u=i,this.m=void 0,this.readyState=Vg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}aw.prototype.cancel=function(){var r,i;if(this.i=jx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=ux(this.g.values()),s=n.next();!s.done;s=n.next())s.value.cancel()}catch(h){r={error:h}}finally{try{s&&!s.done&&(i=n.return)&&i.call(n)}finally{if(r)throw r.error}}this.g.clear()}},dw.prototype.stringify=function(r){return wt.JSON.stringify(r,void 0)},dw.prototype.parse=function(r){return wt.JSON.parse(r,void 0)},mi(Xu,Sr),Xu.prototype.g=function(){return new hw(this.l,this.j)},Xu.prototype.i=function(r){return function(){return r}}({}),mi(hw,_i);var Vg=0;function qx(r){r.j.read().then(r.Sa.bind(r)).catch(r.ha.bind(r))}function Rm(r){r.readyState=4,r.l=null,r.j=null,r.A=null,va(r)}function va(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(ze=hw.prototype).open=function(r,i){if(this.readyState!=Vg)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=i,this.readyState=1,va(this)},ze.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var i={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(i.body=r),(this.D||wt).fetch(new Request(this.B,i)).then(this.Va.bind(this),this.ha.bind(this))},ze.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rm(this)),this.readyState=Vg},ze.Va=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,va(this)),this.g&&(this.readyState=3,va(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==wt.ReadableStream&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qx(this)}else r.text().then(this.Ua.bind(this),this.ha.bind(this))},ze.Sa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var i=r.value?r.value:new Uint8Array(0);(i=this.A.decode(i,{stream:!r.done}))&&(this.response=this.responseText+=i)}r.done?Rm(this):va(this),3==this.readyState&&qx(this)}},ze.Ua=function(r){this.g&&(this.response=this.responseText=r,Rm(this))},ze.Ta=function(r){this.g&&(this.response=r,Rm(this))},ze.ha=function(){this.g&&Rm(this)},ze.setRequestHeader=function(r,i){this.v.append(r,i)},ze.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},ze.getAllResponseHeaders=function(){if(!this.h)return"";for(var r=[],i=this.h.entries(),n=i.next();!n.done;)r.push((n=n.value)[0]+": "+n[1]),n=i.next();return r.join("\r\n")},Object.defineProperty(hw.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var Yx=wt.JSON.parse;function Pn(r){_i.call(this),this.headers=new Og,this.u=r||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=km,this.K=this.L=!1}mi(Pn,_i);var km="",lT=/^https?$/i,fw=["POST","PUT"];function Wx(r){return"content-type"==r.toLowerCase()}function uT(r,i){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=i,r.m=5,Zx(r),Wd(r)}function Zx(r){r.D||(r.D=!0,Li(r,"complete"),Li(r,"error"))}function Om(r){if(r.h&&void 0!==yg&&(!r.C[1]||4!=Fo(r)||2!=r.ba()))if(r.v&&4==Fo(r))Rx(r.Fa,0,r);else if(Li(r,"readystatechange"),4==Fo(r)){r.h=!1;try{var s,i=r.ba();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}if(!(s=n)){var l;if(l=0===i){var h=String(r.H).match(Lx)[1]||null;if(!h&&wt.self&&wt.self.location){var g=wt.self.location.protocol;h=g.substr(0,g.length-1)}l=!lT.test(h?h.toLowerCase():"")}s=l}if(s)Li(r,"complete"),Li(r,"success");else{r.m=6;try{var w=2<Fo(r)?r.g.statusText:""}catch(C){w=""}r.j=w+" ["+r.ba()+"]",Zx(r)}}finally{Wd(r)}}}function Wd(r,i){if(r.g){pw(r);var n=r.g,s=r.C[0]?Ld:null;r.g=null,r.C=null,i||Li(r,"ready");try{n.onreadystatechange=s}catch(l){}}}function pw(r){r.g&&r.K&&(r.g.ontimeout=null),r.A&&(wt.clearTimeout(r.A),r.A=null)}function Fo(r){return r.g?r.g.readyState:0}function Nm(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.J){case km:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch(i){return null}}function Ug(r,i,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=function(r){var i="";return fm(r,function(n,s){i+=s,i+=":",i+=n,i+="\r\n"}),i}(n),"string"==typeof r?null!=n&&encodeURIComponent(String(n)):Sn(r,i,n))}function ec(r,i,n){return n&&n.internalChannelParams&&n.internalChannelParams[r]||i}function Aw(r){this.za=0,this.l=[],this.h=new vm,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ec("failFast",!1,r),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ec("baseRetryDelayMs",5e3,r),this.$a=ec("retryDelaySeedMs",1e4,r),this.Ya=ec("forwardChannelMaxRetries",2,r),this.ra=ec("forwardChannelRequestTimeoutMs",2e4,r),this.qa=r&&r.xmlHttpFactory||void 0,this.Ba=r&&r.Yb||!1,this.K=void 0,this.H=r&&r.supportsCrossDomainXhr||!1,this.J="",this.i=new aw(r&&r.concurrentRequestLimit),this.Ca=new Qx,this.ja=r&&r.fastHandshake||!1,this.Ra=r&&r.Wb||!1,r&&r.Aa&&this.h.Aa(),r&&r.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&r&&r.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!r||!1!==r.Xb}function mw(r){if(yw(r),3==r.G){var i=r.V++,n=ya(r.F);Sn(n,"SID",r.J),Sn(n,"RID",i),Sn(n,"TYPE","terminate"),Zd(r,n),(i=new No(r,r.h,i,void 0)).K=2,i.v=sw(ya(n)),n=!1,wt.navigator&&wt.navigator.sendBeacon&&(n=wt.navigator.sendBeacon(i.v.toString(),"")),!n&&wt.Image&&((new Image).src=i.v,n=!0),n||(i.g=Kx(i.l,null),i.g.ea(i.v)),i.F=Date.now(),zd(i)}Cw(r)}function Gg(r){r.g&&(Lm(r),r.g.cancel(),r.g=null)}function yw(r){Gg(r),r.u&&(wt.clearTimeout(r.u),r.u=null),Qg(r),r.i.cancel(),r.m&&("number"==typeof r.m&&wt.clearTimeout(r.m),r.m=null)}function Hg(r,i){r.l.push(new oT(r.Za++,i)),3==r.G&&jg(r)}function jg(r){Gx(r.i)||r.m||(r.m=!0,Qr(r.Ha,r),r.C=0)}function _w(r,i){var n;n=i?i.m:r.V++;var s=ya(r.F);Sn(s,"SID",r.J),Sn(s,"RID",n),Sn(s,"AID",r.U),Zd(r,s),r.o&&r.s&&Ug(s,r.o,r.s),n=new No(r,r.h,n,r.C+1),null===r.o&&(n.H=r.s),i&&(r.l=i.D.concat(r.l)),i=vw(r,n,1e3),n.setTimeout(Math.round(.5*r.ra)+Math.round(.5*r.ra*Math.random())),cw(r.i,n),xm(n,s,i)}function Zd(r,i){r.j&&nw({},function(n,s){Sn(i,s,n)})}function vw(r,i,n){n=Math.min(r.l.length,n);var s=r.j?Ai(r.j.Oa,r.j,r):null;e:for(var l=r.l,h=-1;;){var g=["count="+n];-1==h?0<n?g.push("ofs="+(h=l[0].h)):h=0:g.push("ofs="+h);for(var w=!0,C=0;C<n;C++){var S=l[C].h,T=l[C].g;if(0>(S-=h))h=Math.max(0,l[C].h-100),w=!1;else try{aT(T,g,"req"+S+"_")}catch(k){s&&s(T)}}if(w){s=g.join("&");break e}}return r=r.l.splice(0,n),i.D=r,s}function Fm(r){r.g||r.u||(r.Y=1,Qr(r.Ga,r),r.A=0)}function Pm(r){return!(r.g||r.u||3<=r.A||(r.Y++,r.u=Jn(Ai(r.Ga,r),bw(r,r.A)),r.A++,0))}function Lm(r){null!=r.B&&(wt.clearTimeout(r.B),r.B=null)}function ww(r){r.g=new No(r,r.h,"rpc",r.Y),null===r.o&&(r.g.H=r.s),r.g.O=0;var i=ya(r.oa);Sn(i,"RID","rpc"),Sn(i,"SID",r.J),Sn(i,"CI",r.N?"0":"1"),Sn(i,"AID",r.U),Zd(r,i),Sn(i,"TYPE","xmlhttp"),r.o&&r.s&&Ug(i,r.o,r.s),r.K&&r.g.setTimeout(r.K);var n=r.g;r=r.la,n.K=1,n.v=sw(ya(i)),n.s=null,n.U=!0,$v(n,r)}function Qg(r){null!=r.v&&(wt.clearTimeout(r.v),r.v=null)}function Ew(r,i){var n=null;if(r.g==i){Qg(r),Lm(r),r.g=null;var s=2}else{if(!uw(r.i,i))return;n=i.D,Hx(r.i,i),s=1}if(r.I=i.N,0!=r.G)if(i.i)if(1==s){n=i.s?i.s.length:0,i=Date.now()-i.F;var l=r.C;Li(s=yl(),new jd(s,n,i,l)),jg(r)}else Fm(r);else if(3==(l=i.o)||0==l&&0<r.I||!(1==s&&function(r,i){return!(lw(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.l=i.D.concat(r.l),0):1==r.G||2==r.G||r.C>=(r.Xa?0:r.Ya)||(r.m=Jn(Ai(r.Ha,r,i),bw(r,r.C)),r.C++,0)))}(r,i)||2==s&&Pm(r)))switch(n&&0<n.length&&(i=r.i,i.i=i.i.concat(n)),l){case 1:bl(r,5);break;case 4:bl(r,10);break;case 3:bl(r,6);break;default:bl(r,2)}}function bw(r,i){var n=r.Pa+Math.floor(Math.random()*r.$a);return r.j||(n*=2),n*i}function bl(r,i){if(r.h.info("Error code "+i),2==i){var n=null;r.j&&(n=null);var s=Ai(r.jb,r);n||(n=new Ku("//www.google.com/images/cleardot.gif"),wt.location&&"http"==wt.location.protocol||rw(n,"https"),sw(n)),function(r,i){var n=new vm;if(wt.Image){var s=new Image;s.onload=vg(Bg,n,s,"TestLoadImage: loaded",!0,i),s.onerror=vg(Bg,n,s,"TestLoadImage: error",!1,i),s.onabort=vg(Bg,n,s,"TestLoadImage: abort",!1,i),s.ontimeout=vg(Bg,n,s,"TestLoadImage: timeout",!1,i),wt.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else i(!1)}(n.toString(),s)}else vn(2);r.G=0,r.j&&r.j.va(i),Cw(r),yw(r)}function Cw(r){r.G=0,r.I=-1,r.j&&((0!=jx(r.i).length||0!=r.l.length)&&(r.i.i.length=0,Al(r.l),r.l.length=0),r.j.ua())}function dT(r,i,n){var s=function(r){return r instanceof Ku?ya(r):new Ku(r,void 0)}(n);if(""!=s.i)i&&Sm(s,i+"."+s.i),Ng(s,s.m);else{var l=wt.location;s=function(r,i,n,s){var l=new Ku(null,void 0);return r&&rw(l,r),i&&Sm(l,i),n&&Ng(l,n),s&&(l.l=s),l}(l.protocol,i?i+"."+l.hostname:l.hostname,+l.port,n)}return r.aa&&fm(r.aa,function(h,g){Sn(s,g,h)}),n=r.sa,(i=r.D)&&n&&Sn(s,i,n),Sn(s,"VER",r.ma),Zd(r,s),s}function Kx(r,i,n){if(i&&!r.H)throw Error("Can't create secondary domain capable XhrIo object.");return(i=new Pn(n&&r.Ba&&!r.qa?new Xu({ib:!0}):r.qa)).L=r.H,i}function $x(){}function zg(){if(zu&&!(10<=Number(Aa)))throw Error("Environmental error: no available transport.")}function zr(r,i){_i.call(this),this.g=new Aw(i),this.l=r,this.h=i&&i.messageUrlParams||null,r=i&&i.messageHeaders||null,i&&i.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=i&&i.initMessageHeaders||null,i&&i.messageContentType&&(r?r["X-WebChannel-Content-Type"]=i.messageContentType:r={"X-WebChannel-Content-Type":i.messageContentType}),i&&i.ya&&(r?r["X-WebChannel-Client-Profile"]=i.ya:r={"X-WebChannel-Client-Profile":i.ya}),this.g.P=r,(r=i&&i.httpHeadersOverwriteParam)&&!Eg(r)&&(this.g.o=r),this.A=i&&i.supportsCrossDomainXhr||!1,this.v=i&&i.sendRawJson||!1,(i=i&&i.httpSessionIdParam)&&!Eg(i)&&(this.g.D=i,null!==(r=this.h)&&i in r&&i in(r=this.h)&&delete r[i]),this.j=new Jd(this)}function Kn(r){_l.call(this);var i=r.__sm__;if(i){e:{for(var n in i){r=n;break e}r=void 0}(this.i=r)&&(r=this.i,i=null!==i&&r in i?i[r]:void 0),this.data=i}else this.data=r}function xw(){vl.call(this),this.status=1}function Jd(r){this.g=r}(ze=Pn.prototype).ea=function(r,i,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+r);i=i?i.toUpperCase():"GET",this.H=r,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():wl.g(),this.C=function(r){return r.h||(r.h=r.i())}(this.u?this.u:wl),this.g.onreadystatechange=Ai(this.Fa,this);try{this.F=!0,this.g.open(i,String(r),!0),this.F=!1}catch(h){return void uT(this,h)}r=n||"";var l=new Og(this.headers);s&&nw(s,function(h,g){l.set(g,h)}),s=function(r){e:{for(var i=Wx,n=r.length,s="string"==typeof r?r.split(""):r,l=0;l<n;l++)if(l in s&&i.call(void 0,s[l],l,r)){i=l;break e}i=-1}return 0>i?null:"string"==typeof r?r.charAt(i):r[i]}(l.T()),n=wt.FormData&&r instanceof wt.FormData,!(0<=wg(fw,i))||s||n||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),l.forEach(function(h,g){this.g.setRequestHeader(g,h)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{pw(this),0<this.B&&((this.K=function(r){return zu&&_n()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ai(this.pa,this)):this.A=Rx(this.pa,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(h){uT(this,h)}},ze.pa=function(){void 0!==yg&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Li(this,"timeout"),this.abort(8))},ze.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Li(this,"complete"),Li(this,"abort"),Wd(this))},ze.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Wd(this,!0)),Pn.Z.M.call(this)},ze.Fa=function(){this.s||(this.F||this.v||this.l?Om(this):this.cb())},ze.cb=function(){Om(this)},ze.ba=function(){try{return 2<Fo(this)?this.g.status:-1}catch(r){return-1}},ze.ga=function(){try{return this.g?this.g.responseText:""}catch(r){return""}},ze.Qa=function(r){if(this.g){var i=this.g.responseText;return r&&0==i.indexOf(r)&&(i=i.substring(r.length)),Yx(i)}},ze.Da=function(){return this.m},ze.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ze=Aw.prototype).ma=8,ze.G=1,ze.hb=function(r){try{this.h.info("Origin Trials invoked: "+r)}catch(i){}},ze.Ha=function(r){if(this.m)if(this.m=null,1==this.G){if(!r){this.V=Math.floor(1e5*Math.random()),r=this.V++;var i=new No(this,this.h,r,void 0),n=this.s;if(this.P&&(n?gx(n=fx(n),this.P):n=this.P),null===this.o&&(i.H=n),this.ja)e:{for(var s=0,l=0;l<this.l.length;l++){var h=this.l[l];if(void 0===(h="__data__"in h.g&&"string"==typeof(h=h.g.__data__)?h.length:void 0))break;if(4096<(s+=h)){s=l;break e}if(4096===s||l===this.l.length-1){s=l+1;break e}}s=1e3}else s=1e3;s=vw(this,i,s),Sn(l=ya(this.F),"RID",r),Sn(l,"CVER",22),this.D&&Sn(l,"X-HTTP-Session-Id",this.D),Zd(this,l),this.o&&n&&Ug(l,this.o,n),cw(this.i,i),this.Ra&&Sn(l,"TYPE","init"),this.ja?(Sn(l,"$req",s),Sn(l,"SID","null"),i.$=!0,xm(i,l,null)):xm(i,l,s),this.G=2}}else 3==this.G&&(r?_w(this,r):0==this.l.length||Gx(this.i)||_w(this))},ze.Ga=function(){if(this.u=null,ww(this),this.$&&!(this.L||null==this.g||0>=this.O)){var r=2*this.O;this.h.info("BP detection timer enabled: "+r),this.B=Jn(Ai(this.bb,this),r)}},ze.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,vn(10),Gg(this),ww(this))},ze.ab=function(){null!=this.v&&(this.v=null,Gg(this),Pm(this),vn(19))},ze.jb=function(r){r?(this.h.info("Successfully pinged google.com"),vn(2)):(this.h.info("Failed to ping google.com"),vn(1))},(ze=$x.prototype).xa=function(){},ze.wa=function(){},ze.va=function(){},ze.ua=function(){},ze.Oa=function(){},zg.prototype.g=function(r,i){return new zr(r,i)},mi(zr,_i),zr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var r=this.g,i=this.l,n=this.h||void 0;r.Wa&&(r.h.info("Origin Trials enabled."),Qr(Ai(r.hb,r,i))),vn(0),r.W=i,r.aa=n||{},r.N=r.X,r.F=dT(r,null,r.W),jg(r)},zr.prototype.close=function(){mw(this.g)},zr.prototype.u=function(r){if("string"==typeof r){var i={};i.__data__=r,Hg(this.g,i)}else this.v?((i={}).__data__=Ix(r),Hg(this.g,i)):Hg(this.g,r)},zr.prototype.M=function(){this.g.j=null,delete this.j,mw(this.g),delete this.g,zr.Z.M.call(this)},mi(Kn,_l),mi(xw,vl),mi(Jd,$x),Jd.prototype.xa=function(){Li(this.g,"a")},Jd.prototype.wa=function(r){Li(this.g,new Kn(r))},Jd.prototype.va=function(r){Li(this.g,new xw(r))},Jd.prototype.ua=function(){Li(this.g,"b")},zg.prototype.createWebChannel=zg.prototype.g,zr.prototype.send=zr.prototype.u,zr.prototype.open=zr.prototype.m,zr.prototype.close=zr.prototype.close,ko.NO_ERROR=0,ko.TIMEOUT=8,ko.HTTP_ERROR=6,Rg.COMPLETE="complete",Wu.EventType=Oo,Oo.OPEN="a",Oo.CLOSE="b",Oo.ERROR="c",Oo.MESSAGE="d",_i.prototype.listen=_i.prototype.N,Pn.prototype.listenOnce=Pn.prototype.O,Pn.prototype.getLastError=Pn.prototype.La,Pn.prototype.getLastErrorCode=Pn.prototype.Da,Pn.prototype.getStatus=Pn.prototype.ba,Pn.prototype.getResponseJson=Pn.prototype.Qa,Pn.prototype.getResponseText=Pn.prototype.ga,Pn.prototype.send=Pn.prototype.ea;var Bm=ko,Dw=Rg,Sw=ml,Cl_PROXY=10,Cl_NOPROXY=11,e0=Xu,qg=Wu,Tw=Pn;class er{constructor(i){this.uid=i}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(i){return i.uid===this.uid}}er.UNAUTHENTICATED=new er(null),er.GOOGLE_CREDENTIALS=new er("google-credentials-uid"),er.FIRST_PARTY=new er("first-party-uid"),er.MOCK_USER=new er("mock-user");let xl="9.0.2";const Po=new Qu.Yd("@firebase/firestore");function qr(){return Po.logLevel}function Le(r,...i){if(Po.logLevel<=Qu.in.DEBUG){const n=i.map(Yr);Po.debug(`Firestore (${xl}): ${r}`,...n)}}function Yt(r,...i){if(Po.logLevel<=Qu.in.ERROR){const n=i.map(Yr);Po.error(`Firestore (${xl}): ${r}`,...n)}}function fr(r,...i){if(Po.logLevel<=Qu.in.WARN){const n=i.map(Yr);Po.warn(`Firestore (${xl}): ${r}`,...n)}}function Yr(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch(n){return r}}function tt(r="Unexpected state"){const i=`FIRESTORE (${xl}) INTERNAL ASSERTION FAILED: `+r;throw Yt(i),new Error(i)}function gt(r,i){r||tt()}function Ge(r,i){return r}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends Error{constructor(i,n){super(n),this.code=i,this.message=n,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $n{constructor(){this.promise=new Promise((i,n)=>{this.resolve=i,this.reject=n})}}class Kd{constructor(i,n){this.user=n,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${i}`}}class pT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(i,n){i.enqueueRetryable(()=>n(er.UNAUTHENTICATED))}shutdown(){}}class t0{constructor(i){this.token=i,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(i,n){this.changeListener=n,i.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class AT{constructor(i){this.t=i,this.currentUser=er.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(i,n){var s=this;let l=this.i;const h=S=>this.i!==l?(l=this.i,n(S)):Promise.resolve();let g=new $n;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new $n,i.enqueueRetryable(()=>h(this.currentUser))};const w=()=>{const S=g;i.enqueueRetryable((0,$.Z)(function*(){yield S.promise,yield h(s.currentUser)}))},C=S=>{Le("FirebaseCredentialsProvider","Auth detected"),this.auth=S,this.auth.addAuthTokenListener(this.o),w()};this.t.onInit(S=>C(S)),setTimeout(()=>{if(!this.auth){const S=this.t.getImmediate({optional:!0});S?C(S):(Le("FirebaseCredentialsProvider","Auth not yet detected"),g.resolve(),g=new $n)}},0),w()}getToken(){const i=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==i?(Le("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(gt("string"==typeof s.accessToken),new Kd(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const i=this.auth&&this.auth.getUid();return gt(null===i||"string"==typeof i),new er(i)}}class n0{constructor(i,n,s){this.h=i,this.l=n,this.m=s,this.type="FirstParty",this.user=er.FIRST_PARTY}get authHeaders(){const i={"X-Goog-AuthUser":this.l},n=this.h.auth.getAuthHeaderValueForFirstParty([]);return n&&(i.Authorization=n),this.m&&(i["X-Goog-Iam-Authorization-Token"]=this.m),i}}class r0{constructor(i,n,s){this.h=i,this.l=n,this.m=s}getToken(){return Promise.resolve(new n0(this.h,this.l,this.m))}start(i,n){i.enqueueRetryable(()=>n(er.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tr{constructor(i,n){this.previousValue=i,n&&(n.sequenceNumberHandler=s=>this.g(s),this.p=s=>n.writeSequenceNumber(s))}g(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.p&&this.p(i),i}}function mT(r){const i="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(i&&"function"==typeof i.getRandomValues)i.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}tr.T=-1;class Mw{static I(){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/i.length)*i.length;let s="";for(;s.length<20;){const l=mT(40);for(let h=0;h<l.length;++h)s.length<20&&l[h]<n&&(s+=i.charAt(l[h]%i.length))}return s}}function Nt(r,i){return r<i?-1:r>i?1:0}function Il(r,i,n){return r.length===i.length&&r.every((s,l)=>n(s,i[l]))}function Yg(r){return r+"\0"}class Xn{constructor(i,n){if(this.seconds=i,this.nanoseconds=n,n<0)throw new Re(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Re(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(i<-62135596800)throw new Re(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i);if(i>=253402300800)throw new Re(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i)}static now(){return Xn.fromMillis(Date.now())}static fromDate(i){return Xn.fromMillis(i.getTime())}static fromMillis(i){const n=Math.floor(i/1e3),s=Math.floor(1e6*(i-1e3*n));return new Xn(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(i){return this.seconds===i.seconds?Nt(this.nanoseconds,i.nanoseconds):Nt(this.seconds,i.seconds)}isEqual(i){return i.seconds===this.seconds&&i.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Et{constructor(i){this.timestamp=i}static fromTimestamp(i){return new Et(i)}static min(){return new Et(new Xn(0,0))}compareTo(i){return this.timestamp._compareTo(i.timestamp)}isEqual(i){return this.timestamp.isEqual(i.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Rw(r){let i=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&i++;return i}function Dl(r,i){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&i(n,r[n])}function kw(r){for(const i in r)if(Object.prototype.hasOwnProperty.call(r,i))return!1;return!0}class $d{constructor(i,n,s){void 0===n?n=0:n>i.length&&tt(),void 0===s?s=i.length-n:s>i.length-n&&tt(),this.segments=i,this.offset=n,this.len=s}get length(){return this.len}isEqual(i){return 0===$d.comparator(this,i)}child(i){const n=this.segments.slice(this.offset,this.limit());return i instanceof $d?i.forEach(s=>{n.push(s)}):n.push(i),this.construct(n)}limit(){return this.offset+this.length}popFirst(i){return this.construct(this.segments,this.offset+(i=void 0===i?1:i),this.length-i)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(i){return this.segments[this.offset+i]}isEmpty(){return 0===this.length}isPrefixOf(i){if(i.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==i.get(n))return!1;return!0}isImmediateParentOf(i){if(this.length+1!==i.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==i.get(n))return!1;return!0}forEach(i){for(let n=this.offset,s=this.limit();n<s;n++)i(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(i,n){const s=Math.min(i.length,n.length);for(let l=0;l<s;l++){const h=i.get(l),g=n.get(l);if(h<g)return-1;if(h>g)return 1}return i.length<n.length?-1:i.length>n.length?1:0}}class Ut extends $d{construct(i,n,s){return new Ut(i,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...i){const n=[];for(const s of i){if(s.indexOf("//")>=0)throw new Re(me.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new Ut(n)}static emptyPath(){return new Ut([])}}const s0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bi extends $d{construct(i,n,s){return new Bi(i,n,s)}static isValidIdentifier(i){return s0.test(i)}canonicalString(){return this.toArray().map(i=>(i=i.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bi.isValidIdentifier(i)||(i="`"+i+"`"),i)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Bi(["__name__"])}static fromServerFormat(i){const n=[];let s="",l=0;const h=()=>{if(0===s.length)throw new Re(me.INVALID_ARGUMENT,`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let g=!1;for(;l<i.length;){const w=i[l];if("\\"===w){if(l+1===i.length)throw new Re(me.INVALID_ARGUMENT,"Path has trailing escape character: "+i);const C=i[l+1];if("\\"!==C&&"."!==C&&"`"!==C)throw new Re(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+i);s+=C,l+=2}else"`"===w?(g=!g,l++):"."!==w||g?(s+=w,l++):(h(),l++)}if(h(),g)throw new Re(me.INVALID_ARGUMENT,"Unterminated ` in path: "+i);return new Bi(n)}static emptyPath(){return new Bi([])}}class Xd{constructor(i){this.fields=i,i.sort(Bi.comparator)}covers(i){for(const n of this.fields)if(n.isPrefixOf(i))return!0;return!1}isEqual(i){return Il(this.fields,i.fields,(n,s)=>n.isEqual(s))}}class vi{constructor(i){this.binaryString=i}static fromBase64String(i){const n=atob(i);return new vi(n)}static fromUint8Array(i){const n=function(s){let l="";for(let h=0;h<s.length;++h)l+=String.fromCharCode(s[h]);return l}(i);return new vi(n)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const n=new Uint8Array(i.length);for(let s=0;s<i.length;s++)n[s]=i.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(i){return Nt(this.binaryString,i.binaryString)}isEqual(i){return this.binaryString===i.binaryString}}vi.EMPTY_BYTE_STRING=new vi("");const _T=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sl(r){if(gt(!!r),"string"==typeof r){let i=0;const n=_T.exec(r);if(gt(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),i=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:i}}return{seconds:ei(r.seconds),nanos:ei(r.nanos)}}function ei(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function eh(r){return"string"==typeof r?vi.fromBase64String(r):vi.fromUint8Array(r)}function Ow(r){var i,n;return"server_timestamp"===(null===(n=((null===(i=null==r?void 0:r.mapValue)||void 0===i?void 0:i.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Nw(r){const i=r.mapValue.fields.__previous_value__;return Ow(i)?Nw(i):i}function Wg(r){const i=Sl(r.mapValue.fields.__local_write_time__.timestampValue);return new Xn(i.seconds,i.nanos)}function tc(r){return null==r}function Vm(r){return 0===r&&1/r==-1/0}function o0(r){return"number"==typeof r&&Number.isInteger(r)&&!Vm(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}class nt{constructor(i){this.path=i}static fromPath(i){return new nt(Ut.fromString(i))}static fromName(i){return new nt(Ut.fromString(i).popFirst(5))}hasCollectionId(i){return this.path.length>=2&&this.path.get(this.path.length-2)===i}isEqual(i){return null!==i&&0===Ut.comparator(this.path,i.path)}toString(){return this.path.toString()}static comparator(i,n){return Ut.comparator(i.path,n.path)}static isDocumentKey(i){return i.length%2==0}static fromSegments(i){return new nt(new Ut(i.slice()))}}function nc(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ow(r)?4:10:tt()}function Lo(r,i){const n=nc(r);if(n!==nc(i))return!1;switch(n){case 0:return!0;case 1:return r.booleanValue===i.booleanValue;case 4:return Wg(r).isEqual(Wg(i));case 3:return function(s,l){if("string"==typeof s.timestampValue&&"string"==typeof l.timestampValue&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const h=Sl(s.timestampValue),g=Sl(l.timestampValue);return h.seconds===g.seconds&&h.nanos===g.nanos}(r,i);case 5:return r.stringValue===i.stringValue;case 6:return l=i,eh(r.bytesValue).isEqual(eh(l.bytesValue));case 7:return r.referenceValue===i.referenceValue;case 8:return function(s,l){return ei(s.geoPointValue.latitude)===ei(l.geoPointValue.latitude)&&ei(s.geoPointValue.longitude)===ei(l.geoPointValue.longitude)}(r,i);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return ei(s.integerValue)===ei(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const h=ei(s.doubleValue),g=ei(l.doubleValue);return h===g?Vm(h)===Vm(g):isNaN(h)&&isNaN(g)}return!1}(r,i);case 9:return Il(r.arrayValue.values||[],i.arrayValue.values||[],Lo);case 10:return function(s,l){const h=s.mapValue.fields||{},g=l.mapValue.fields||{};if(Rw(h)!==Rw(g))return!1;for(const w in h)if(h.hasOwnProperty(w)&&(void 0===g[w]||!Lo(h[w],g[w])))return!1;return!0}(r,i);default:return tt()}var l}function Zg(r,i){return void 0!==(r.values||[]).find(n=>Lo(n,i))}function ic(r,i){const n=nc(r),s=nc(i);if(n!==s)return Nt(n,s);switch(n){case 0:return 0;case 1:return Nt(r.booleanValue,i.booleanValue);case 2:return function(l,h){const g=ei(l.integerValue||l.doubleValue),w=ei(h.integerValue||h.doubleValue);return g<w?-1:g>w?1:g===w?0:isNaN(g)?isNaN(w)?0:-1:1}(r,i);case 3:return Fw(r.timestampValue,i.timestampValue);case 4:return Fw(Wg(r),Wg(i));case 5:return Nt(r.stringValue,i.stringValue);case 6:return function(l,h){const g=eh(l),w=eh(h);return g.compareTo(w)}(r.bytesValue,i.bytesValue);case 7:return function(l,h){const g=l.split("/"),w=h.split("/");for(let C=0;C<g.length&&C<w.length;C++){const S=Nt(g[C],w[C]);if(0!==S)return S}return Nt(g.length,w.length)}(r.referenceValue,i.referenceValue);case 8:return function(l,h){const g=Nt(ei(l.latitude),ei(h.latitude));return 0!==g?g:Nt(ei(l.longitude),ei(h.longitude))}(r.geoPointValue,i.geoPointValue);case 9:return function(l,h){const g=l.values||[],w=h.values||[];for(let C=0;C<g.length&&C<w.length;++C){const S=ic(g[C],w[C]);if(S)return S}return Nt(g.length,w.length)}(r.arrayValue,i.arrayValue);case 10:return function(l,h){const g=l.fields||{},w=Object.keys(g),C=h.fields||{},S=Object.keys(C);w.sort(),S.sort();for(let T=0;T<w.length&&T<S.length;++T){const k=Nt(w[T],S[T]);if(0!==k)return k;const B=ic(g[w[T]],C[S[T]]);if(0!==B)return B}return Nt(w.length,S.length)}(r.mapValue,i.mapValue);default:throw tt()}}function Fw(r,i){if("string"==typeof r&&"string"==typeof i&&r.length===i.length)return Nt(r,i);const n=Sl(r),s=Sl(i),l=Nt(n.seconds,s.seconds);return 0!==l?l:Nt(n.nanos,s.nanos)}function Um(r){return Gm(r)}function Gm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const l=Sl(s);return`time(${l.seconds},${l.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?eh(r.bytesValue).toBase64():"referenceValue"in r?nt.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(i=r.geoPointValue).latitude},${i.longitude})`:"arrayValue"in r?function(s){let l="[",h=!0;for(const g of s.values||[])h?h=!1:l+=",",l+=Gm(g);return l+"]"}(r.arrayValue):"mapValue"in r?function(s){const l=Object.keys(s.fields||{}).sort();let h="{",g=!0;for(const w of l)g?g=!1:h+=",",h+=`${w}:${Gm(s.fields[w])}`;return h+"}"}(r.mapValue):tt();var i}function Jg(r,i){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${i.path.canonicalString()}`}}function Hm(r){return!!r&&"integerValue"in r}function jm(r){return!!r&&"arrayValue"in r}function Pw(r){return!!r&&"nullValue"in r}function Lw(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function th(r){return!!r&&"mapValue"in r}function nh(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const i={mapValue:{fields:{}}};return Dl(r.mapValue.fields,(n,s)=>i.mapValue.fields[n]=nh(s)),i}if(r.arrayValue){const i={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)i.arrayValue.values[n]=nh(r.arrayValue.values[n]);return i}return Object.assign({},r)}class Ln{constructor(i){this.value=i}static empty(){return new Ln({mapValue:{}})}field(i){if(i.isEmpty())return this.value;{let n=this.value;for(let s=0;s<i.length-1;++s)if(n=(n.mapValue.fields||{})[i.get(s)],!th(n))return null;return n=(n.mapValue.fields||{})[i.lastSegment()],n||null}}set(i,n){this.getFieldsMap(i.popLast())[i.lastSegment()]=nh(n)}setAll(i){let n=Bi.emptyPath(),s={},l=[];i.forEach((g,w)=>{if(!n.isImmediateParentOf(w)){const C=this.getFieldsMap(n);this.applyChanges(C,s,l),s={},l=[],n=w.popLast()}g?s[w.lastSegment()]=nh(g):l.push(w.lastSegment())});const h=this.getFieldsMap(n);this.applyChanges(h,s,l)}delete(i){const n=this.field(i.popLast());th(n)&&n.mapValue.fields&&delete n.mapValue.fields[i.lastSegment()]}isEqual(i){return Lo(this.value,i.value)}getFieldsMap(i){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<i.length;++s){let l=n.mapValue.fields[i.get(s)];th(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[i.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(i,n,s){Dl(n,(l,h)=>i[l]=h);for(const l of s)delete i[l]}clone(){return new Ln(nh(this.value))}}function a0(r){const i=[];return Dl(r.fields,(n,s)=>{const l=new Bi([n]);if(th(s)){const h=a0(s.mapValue).fields;if(0===h.length)i.push(l);else for(const g of h)i.push(l.child(g))}else i.push(l)}),new Xd(i)}class wn{constructor(i,n,s,l,h){this.key=i,this.documentType=n,this.version=s,this.data=l,this.documentState=h}static newInvalidDocument(i){return new wn(i,0,Et.min(),Ln.empty(),0)}static newFoundDocument(i,n,s){return new wn(i,1,n,s,0)}static newNoDocument(i,n){return new wn(i,2,n,Ln.empty(),0)}static newUnknownDocument(i,n){return new wn(i,3,n,Ln.empty(),2)}convertToFoundDocument(i,n){return this.version=i,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(i){return this.version=i,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(i){return this.version=i,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(i){return i instanceof wn&&this.key.isEqual(i.key)&&this.version.isEqual(i.version)&&this.documentType===i.documentType&&this.documentState===i.documentState&&this.data.isEqual(i.data)}clone(){return new wn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ih{constructor(i,n=null,s=[],l=[],h=null,g=null,w=null){this.path=i,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=h,this.startAt=g,this.endAt=w,this.A=null}}function vT(r,i=null,n=[],s=[],l=null,h=null,g=null){return new ih(r,i,n,s,l,h,g)}function rc(r){const i=Ge(r);if(null===i.A){let n=i.path.canonicalString();null!==i.collectionGroup&&(n+="|cg:"+i.collectionGroup),n+="|f:",n+=i.filters.map(s=>function(r){return r.field.canonicalString()+r.op.toString()+Um(r.value)}(s)).join(","),n+="|ob:",n+=i.orderBy.map(s=>{return(l=s).field.canonicalString()+l.dir;var l}).join(","),tc(i.limit)||(n+="|l:",n+=i.limit),i.startAt&&(n+="|lb:",n+=ep(i.startAt)),i.endAt&&(n+="|ub:",n+=ep(i.endAt)),i.A=n}return i.A}function Kg(r,i){if(r.limit!==i.limit||r.orderBy.length!==i.orderBy.length)return!1;for(let l=0;l<r.orderBy.length;l++)if(!xT(r.orderBy[l],i.orderBy[l]))return!1;if(r.filters.length!==i.filters.length)return!1;for(let l=0;l<r.filters.length;l++)if((n=r.filters[l]).op!==(s=i.filters[l]).op||!n.field.isEqual(s.field)||!Lo(n.value,s.value))return!1;var n,s;return r.collectionGroup===i.collectionGroup&&!!r.path.isEqual(i.path)&&!!Vw(r.startAt,i.startAt)&&Vw(r.endAt,i.endAt)}function $g(r){return nt.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}class Tr extends class{}{constructor(i,n,s){super(),this.field=i,this.op=n,this.value=s}static create(i,n,s){return i.isKeyField()?"in"===n||"not-in"===n?this.R(i,n,s):new wT(i,n,s):"array-contains"===n?new CT(i,s):"in"===n?new Qm(i,s):"not-in"===n?new zm(i,s):"array-contains-any"===n?new Bn(i,s):new Tr(i,n,s)}static R(i,n,s){return"in"===n?new ET(i,s):new bT(i,s)}matches(i){const n=i.data.field(this.field);return"!="===this.op?null!==n&&this.P(ic(n,this.value)):null!==n&&nc(this.value)===nc(n)&&this.P(ic(n,this.value))}P(i){switch(this.op){case"<":return i<0;case"<=":return i<=0;case"==":return 0===i;case"!=":return 0!==i;case">":return i>0;case">=":return i>=0;default:return tt()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class wT extends Tr{constructor(i,n,s){super(i,n,s),this.key=nt.fromName(s.referenceValue)}matches(i){const n=nt.comparator(i.key,this.key);return this.P(n)}}class ET extends Tr{constructor(i,n){super(i,"in",n),this.keys=Xg(0,n)}matches(i){return this.keys.some(n=>n.isEqual(i.key))}}class bT extends Tr{constructor(i,n){super(i,"not-in",n),this.keys=Xg(0,n)}matches(i){return!this.keys.some(n=>n.isEqual(i.key))}}function Xg(r,i){var n;return((null===(n=i.arrayValue)||void 0===n?void 0:n.values)||[]).map(s=>nt.fromName(s.referenceValue))}class CT extends Tr{constructor(i,n){super(i,"array-contains",n)}matches(i){const n=i.data.field(this.field);return jm(n)&&Zg(n.arrayValue,this.value)}}class Qm extends Tr{constructor(i,n){super(i,"in",n)}matches(i){const n=i.data.field(this.field);return null!==n&&Zg(this.value.arrayValue,n)}}class zm extends Tr{constructor(i,n){super(i,"not-in",n)}matches(i){if(Zg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=i.data.field(this.field);return null!==n&&!Zg(this.value.arrayValue,n)}}class Bn extends Tr{constructor(i,n){super(i,"array-contains-any",n)}matches(i){const n=i.data.field(this.field);return!(!jm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Zg(this.value.arrayValue,s))}}class qm{constructor(i,n){this.position=i,this.before=n}}function ep(r){return`${r.before?"b":"a"}:${r.position.map(i=>Um(i)).join(",")}`}class Tl{constructor(i,n="asc"){this.field=i,this.dir=n}}function xT(r,i){return r.dir===i.dir&&r.field.isEqual(i.field)}function Bw(r,i,n){let s=0;for(let l=0;l<r.position.length;l++){const h=i[l],g=r.position[l];if(s=h.field.isKeyField()?nt.comparator(nt.fromName(g.referenceValue),n.key):ic(g,n.data.field(h.field)),"desc"===h.dir&&(s*=-1),0!==s)break}return r.before?s<=0:s<0}function Vw(r,i){if(null===r)return null===i;if(null===i||r.before!==i.before||r.position.length!==i.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Lo(r.position[n],i.position[n]))return!1;return!0}class Bo{constructor(i,n=null,s=[],l=[],h=null,g="F",w=null,C=null){this.path=i,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=h,this.limitType=g,this.startAt=w,this.endAt=C,this.V=null,this.S=null}}function Uw(r,i,n,s,l,h,g,w){return new Bo(r,i,n,s,l,h,g,w)}function rh(r){return new Bo(r)}function Ym(r){return!tc(r.limit)&&"F"===r.limitType}function Wm(r){return!tc(r.limit)&&"L"===r.limitType}function sc(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function Gw(r){for(const i of r.filters)if(i.v())return i.field;return null}function Hw(r){return null!==r.collectionGroup}function sh(r){const i=Ge(r);if(null===i.V){i.V=[];const n=Gw(i),s=sc(i);if(null!==n&&null===s)n.isKeyField()||i.V.push(new Tl(n)),i.V.push(new Tl(Bi.keyField(),"asc"));else{let l=!1;for(const h of i.explicitOrderBy)i.V.push(h),h.field.isKeyField()&&(l=!0);if(!l){const h=i.explicitOrderBy.length>0?i.explicitOrderBy[i.explicitOrderBy.length-1].dir:"asc";i.V.push(new Tl(Bi.keyField(),h))}}}return i.V}function gr(r){const i=Ge(r);if(!i.S)if("F"===i.limitType)i.S=vT(i.path,i.collectionGroup,sh(i),i.filters,i.limit,i.startAt,i.endAt);else{const n=[];for(const h of sh(i))n.push(new Tl(h.field,"desc"===h.dir?"asc":"desc"));const s=i.endAt?new qm(i.endAt.position,!i.endAt.before):null,l=i.startAt?new qm(i.startAt.position,!i.startAt.before):null;i.S=vT(i.path,i.collectionGroup,n,i.filters,i.limit,s,l)}return i.S}function jw(r,i,n){return new Bo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),i,n,r.startAt,r.endAt)}function oh(r,i){return Kg(gr(r),gr(i))&&r.limitType===i.limitType}function Qw(r){return`${rc(gr(r))}|lt:${r.limitType}`}function zw(r){return`Query(target=${function(r){let i=r.path.canonicalString();return null!==r.collectionGroup&&(i+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(i+=`, filters: [${r.filters.map(n=>{return`${(s=n).field.canonicalString()} ${s.op} ${Um(s.value)}`;var s}).join(", ")}]`),tc(r.limit)||(i+=", limit: "+r.limit),r.orderBy.length>0&&(i+=`, orderBy: [${r.orderBy.map(n=>{return`${(s=n).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),r.startAt&&(i+=", startAt: "+ep(r.startAt)),r.endAt&&(i+=", endAt: "+ep(r.endAt)),`Target(${i})`}(gr(r))}; limitType=${r.limitType})`}function wa(r,i){return i.isFoundDocument()&&function(n,s){const l=s.key.path;return null!==n.collectionGroup?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(l):nt.isDocumentKey(n.path)?n.path.isEqual(l):n.path.isImmediateParentOf(l)}(r,i)&&function(n,s){for(const l of n.explicitOrderBy)if(!l.field.isKeyField()&&null===s.data.field(l.field))return!1;return!0}(r,i)&&function(n,s){for(const l of n.filters)if(!l.matches(s))return!1;return!0}(r,i)&&(s=i,!((n=r).startAt&&!Bw(n.startAt,sh(n),s)||n.endAt&&Bw(n.endAt,sh(n),s)));var n,s}function ah(r){return(i,n)=>{let s=!1;for(const l of sh(r)){const h=IT(l,i,n);if(0!==h)return h;s=s||l.field.isKeyField()}return 0}}function IT(r,i,n){const s=r.field.isKeyField()?nt.comparator(i.key,n.key):function(l,h,g){const w=h.data.field(l),C=g.data.field(l);return null!==w&&null!==C?ic(w,C):tt()}(r.field,i,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return tt()}}function l0(r,i){if(r.D){if(isNaN(i))return{doubleValue:"NaN"};if(i===1/0)return{doubleValue:"Infinity"};if(i===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vm(i)?"-0":i}}function u0(r){return{integerValue:""+r}}function qw(r,i){return o0(i)?u0(i):l0(r,i)}class tp{constructor(){this._=void 0}}function c0(r,i,n){return r instanceof lh?function(s,l){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&(h.fields.__previous_value__=l),{mapValue:h}}(n,i):r instanceof oc?ST(r,i):r instanceof uh?TT(r,i):function(s,l){const h=Yw(s,l),g=Ww(h)+Ww(s.C);return Hm(h)&&Hm(s.C)?u0(g):l0(s.N,g)}(r,i)}function DT(r,i,n){return r instanceof oc?ST(r,i):r instanceof uh?TT(r,i):n}function Yw(r,i){return r instanceof np?Hm(n=i)||(s=n)&&"doubleValue"in s?i:{integerValue:0}:null;var s,n}class lh extends tp{}class oc extends tp{constructor(i){super(),this.elements=i}}function ST(r,i){const n=ip(i);for(const s of r.elements)n.some(l=>Lo(l,s))||n.push(s);return{arrayValue:{values:n}}}class uh extends tp{constructor(i){super(),this.elements=i}}function TT(r,i){let n=ip(i);for(const s of r.elements)n=n.filter(l=>!Lo(l,s));return{arrayValue:{values:n}}}class np extends tp{constructor(i,n){super(),this.N=i,this.C=n}}function Ww(r){return ei(r.integerValue||r.doubleValue)}function ip(r){return jm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class rp{constructor(i,n){this.field=i,this.transform=n}}class d0{constructor(i,n){this.version=i,this.transformResults=n}}class En{constructor(i,n){this.updateTime=i,this.exists=n}static none(){return new En}static exists(i){return new En(void 0,i)}static updateTime(i){return new En(i)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(i){return this.exists===i.exists&&(this.updateTime?!!i.updateTime&&this.updateTime.isEqual(i.updateTime):!i.updateTime)}}function Zm(r,i){return void 0!==r.updateTime?i.isFoundDocument()&&i.version.isEqual(r.updateTime):void 0===r.exists||r.exists===i.isFoundDocument()}class Jm{}function RT(r,i,n){r instanceof sp?function(s,l,h){const g=s.value.clone(),w=Kw(s.fieldTransforms,l,h.transformResults);g.setAll(w),l.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(r,i,n):r instanceof Wr?function(s,l,h){if(!Zm(s.precondition,l))return void l.convertToUnknownDocument(h.version);const g=Kw(s.fieldTransforms,l,h.transformResults),w=l.data;w.setAll(f0(s)),w.setAll(g),l.convertToFoundDocument(h.version,w).setHasCommittedMutations()}(r,i,n):i.convertToNoDocument(n.version).setHasCommittedMutations()}function Zw(r,i,n){var l;r instanceof sp?function(s,l,h){if(!Zm(s.precondition,l))return;const g=s.value.clone(),w=g0(s.fieldTransforms,h,l);g.setAll(w),l.convertToFoundDocument(h0(l),g).setHasLocalMutations()}(r,i,n):r instanceof Wr?function(s,l,h){if(!Zm(s.precondition,l))return;const g=g0(s.fieldTransforms,h,l),w=l.data;w.setAll(f0(s)),w.setAll(g),l.convertToFoundDocument(h0(l),w).setHasLocalMutations()}(r,i,n):Zm(r.precondition,l=i)&&l.convertToNoDocument(Et.min())}function kT(r,i){let n=null;for(const s of r.fieldTransforms){const l=i.data.field(s.field),h=Yw(s.transform,l||null);null!=h&&(null==n&&(n=Ln.empty()),n.set(s.field,h))}return n||null}function Jw(r,i){return r.type===i.type&&!!r.key.isEqual(i.key)&&!!r.precondition.isEqual(i.precondition)&&(s=i.fieldTransforms,!!(void 0===(n=r.fieldTransforms)&&void 0===s||n&&s&&Il(n,s,(l,h)=>function(r,i){return r.field.isEqual(i.field)&&(s=i.transform,(n=r.transform)instanceof oc&&s instanceof oc||n instanceof uh&&s instanceof uh?Il(n.elements,s.elements,Lo):n instanceof np&&s instanceof np?Lo(n.C,s.C):n instanceof lh&&s instanceof lh);var n,s}(l,h))))&&(0===r.type?r.value.isEqual(i.value):1!==r.type||r.data.isEqual(i.data)&&r.fieldMask.isEqual(i.fieldMask));var n,s}function h0(r){return r.isFoundDocument()?r.version:Et.min()}class sp extends Jm{constructor(i,n,s,l=[]){super(),this.key=i,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}}class Wr extends Jm{constructor(i,n,s,l,h=[]){super(),this.key=i,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=h,this.type=1}}function f0(r){const i=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);i.set(n,s)}}),i}function Kw(r,i,n){const s=new Map;gt(r.length===n.length);for(let l=0;l<n.length;l++){const h=r[l],g=h.transform,w=i.data.field(h.field);s.set(h.field,DT(g,w,n[l]))}return s}function g0(r,i,n){const s=new Map;for(const l of r){const h=l.transform,g=n.data.field(l.field);s.set(l.field,c0(h,g,i))}return s}class ch extends Jm{constructor(i,n){super(),this.key=i,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class $w extends Jm{constructor(i,n){super(),this.key=i,this.precondition=n,this.type=3,this.fieldTransforms=[]}}class p0{constructor(i){this.count=i}}var ti,Ft;function A0(r){switch(r){case me.OK:return tt();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return tt()}}function Xw(r){if(void 0===r)return Yt("GRPC error has no .code"),me.UNKNOWN;switch(r){case ti.OK:return me.OK;case ti.CANCELLED:return me.CANCELLED;case ti.UNKNOWN:return me.UNKNOWN;case ti.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case ti.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case ti.INTERNAL:return me.INTERNAL;case ti.UNAVAILABLE:return me.UNAVAILABLE;case ti.UNAUTHENTICATED:return me.UNAUTHENTICATED;case ti.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case ti.NOT_FOUND:return me.NOT_FOUND;case ti.ALREADY_EXISTS:return me.ALREADY_EXISTS;case ti.PERMISSION_DENIED:return me.PERMISSION_DENIED;case ti.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case ti.ABORTED:return me.ABORTED;case ti.OUT_OF_RANGE:return me.OUT_OF_RANGE;case ti.UNIMPLEMENTED:return me.UNIMPLEMENTED;case ti.DATA_LOSS:return me.DATA_LOSS;default:return tt()}}(Ft=ti||(ti={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";class ni{constructor(i,n){this.comparator=i,this.root=n||Vi.EMPTY}insert(i,n){return new ni(this.comparator,this.root.insert(i,n,this.comparator).copy(null,null,Vi.BLACK,null,null))}remove(i){return new ni(this.comparator,this.root.remove(i,this.comparator).copy(null,null,Vi.BLACK,null,null))}get(i){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(i,n.key);if(0===s)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(i){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(i,s.key);if(0===l)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(i){return this.root.inorderTraversal(i)}forEach(i){this.inorderTraversal((n,s)=>(i(n,s),!1))}toString(){const i=[];return this.inorderTraversal((n,s)=>(i.push(`${n}:${s}`),!1)),`{${i.join(", ")}}`}reverseTraversal(i){return this.root.reverseTraversal(i)}getIterator(){return new Km(this.root,null,this.comparator,!1)}getIteratorFrom(i){return new Km(this.root,i,this.comparator,!1)}getReverseIterator(){return new Km(this.root,null,this.comparator,!0)}getReverseIteratorFrom(i){return new Km(this.root,i,this.comparator,!0)}}class Km{constructor(i,n,s,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!i.isEmpty();)if(h=n?s(i.key,n):1,l&&(h*=-1),h<0)i=this.isReverse?i.left:i.right;else{if(0===h){this.nodeStack.push(i);break}this.nodeStack.push(i),i=this.isReverse?i.right:i.left}}getNext(){let i=this.nodeStack.pop();const n={key:i.key,value:i.value};if(this.isReverse)for(i=i.left;!i.isEmpty();)this.nodeStack.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack.push(i),i=i.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const i=this.nodeStack[this.nodeStack.length-1];return{key:i.key,value:i.value}}}class Vi{constructor(i,n,s,l,h){this.key=i,this.value=n,this.color=null!=s?s:Vi.RED,this.left=null!=l?l:Vi.EMPTY,this.right=null!=h?h:Vi.EMPTY,this.size=this.left.size+1+this.right.size}copy(i,n,s,l,h){return new Vi(null!=i?i:this.key,null!=n?n:this.value,null!=s?s:this.color,null!=l?l:this.left,null!=h?h:this.right)}isEmpty(){return!1}inorderTraversal(i){return this.left.inorderTraversal(i)||i(this.key,this.value)||this.right.inorderTraversal(i)}reverseTraversal(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(i,n,s){let l=this;const h=s(i,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(i,n,s),null):0===h?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(i,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Vi.EMPTY;let i=this;return i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.removeMin(),null),i.fixUp()}remove(i,n){let s,l=this;if(n(i,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(i,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===n(i,l.key)){if(l.right.isEmpty())return Vi.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(i,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let i=this;return i.right.isRed()&&!i.left.isRed()&&(i=i.rotateLeft()),i.left.isRed()&&i.left.left.isRed()&&(i=i.rotateRight()),i.left.isRed()&&i.right.isRed()&&(i=i.colorFlip()),i}moveRedLeft(){let i=this.colorFlip();return i.right.left.isRed()&&(i=i.copy(null,null,null,null,i.right.rotateRight()),i=i.rotateLeft(),i=i.colorFlip()),i}moveRedRight(){let i=this.colorFlip();return i.left.left.isRed()&&(i=i.rotateRight(),i=i.colorFlip()),i}rotateLeft(){const i=this.copy(null,null,Vi.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)}rotateRight(){const i=this.copy(null,null,Vi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)}colorFlip(){const i=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,n)}checkMaxDepth(){const i=this.check();return Math.pow(2,i)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tt();const i=this.left.check();if(i!==this.right.check())throw tt();return i+(this.isRed()?0:1)}}Vi.EMPTY=null,Vi.RED=!0,Vi.BLACK=!1,Vi.EMPTY=new class{constructor(){this.size=0}get key(){throw tt()}get value(){throw tt()}get color(){throw tt()}get left(){throw tt()}get right(){throw tt()}copy(r,i,n,s,l){return this}insert(r,i,n){return new Vi(r,i)}remove(r,i){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vn{constructor(i){this.comparator=i,this.data=new ni(this.comparator)}has(i){return null!==this.data.get(i)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(i){return this.data.indexOf(i)}forEach(i){this.data.inorderTraversal((n,s)=>(i(n),!1))}forEachInRange(i,n){const s=this.data.getIteratorFrom(i[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,i[1])>=0)return;n(l.key)}}forEachWhile(i,n){let s;for(s=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!i(s.getNext().key))return}firstAfterOrEqual(i){const n=this.data.getIteratorFrom(i);return n.hasNext()?n.getNext().key:null}getIterator(){return new $m(this.data.getIterator())}getIteratorFrom(i){return new $m(this.data.getIteratorFrom(i))}add(i){return this.copy(this.data.remove(i).insert(i,!0))}delete(i){return this.has(i)?this.copy(this.data.remove(i)):this}isEmpty(){return this.data.isEmpty()}unionWith(i){let n=this;return n.size<i.size&&(n=i,i=this),i.forEach(s=>{n=n.add(s)}),n}isEqual(i){if(!(i instanceof Vn)||this.size!==i.size)return!1;const n=this.data.getIterator(),s=i.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,h=s.getNext().key;if(0!==this.comparator(l,h))return!1}return!0}toArray(){const i=[];return this.forEach(n=>{i.push(n)}),i}toString(){const i=[];return this.forEach(n=>i.push(n)),"SortedSet("+i.toString()+")"}copy(i){const n=new Vn(this.comparator);return n.data=i,n}}class $m{constructor(i){this.iter=i}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const OT=new ni(nt.comparator);function Zr(){return OT}const NT=new ni(nt.comparator);function eE(){return NT}const FT=new ni(nt.comparator);function m0(){return FT}const PT=new Vn(nt.comparator);function Wt(...r){let i=PT;for(const n of r)i=i.add(n);return i}const LT=new Vn(Nt);function Xm(){return LT}class dh{constructor(i,n,s,l,h){this.snapshotVersion=i,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(i,n){const s=new Map;return s.set(i,hh.createSynthesizedTargetChangeForCurrentChange(i,n)),new dh(Et.min(),s,Xm(),Zr(),Wt())}}class hh{constructor(i,n,s,l,h){this.resumeToken=i,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(i,n){return new hh(vi.EMPTY_BYTE_STRING,n,Wt(),Wt(),Wt())}}class ey{constructor(i,n,s,l){this.k=i,this.removedTargetIds=n,this.key=s,this.$=l}}class y0{constructor(i,n){this.targetId=i,this.O=n}}class tE{constructor(i,n,s=vi.EMPTY_BYTE_STRING,l=null){this.state=i,this.targetIds=n,this.resumeToken=s,this.cause=l}}class _0{constructor(){this.F=0,this.M=ty(),this.L=vi.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(i){i.approximateByteSize()>0&&(this.U=!0,this.L=i)}W(){let i=Wt(),n=Wt(),s=Wt();return this.M.forEach((l,h)=>{switch(h){case 0:i=i.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:tt()}}),new hh(this.L,this.B,i,n,s)}G(){this.U=!1,this.M=ty()}H(i,n){this.U=!0,this.M=this.M.insert(i,n)}J(i){this.U=!0,this.M=this.M.remove(i)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class BT{constructor(i){this.tt=i,this.et=new Map,this.nt=Zr(),this.st=v0(),this.it=new Vn(Nt)}rt(i){for(const n of i.k)i.$&&i.$.isFoundDocument()?this.ot(n,i.$):this.at(n,i.key,i.$);for(const n of i.removedTargetIds)this.at(n,i.key,i.$)}ct(i){this.forEachTarget(i,n=>{const s=this.ut(n);switch(i.state){case 0:this.ht(n)&&s.j(i.resumeToken);break;case 1:s.X(),s.q||s.G(),s.j(i.resumeToken);break;case 2:s.X(),s.q||this.removeTarget(n);break;case 3:this.ht(n)&&(s.Z(),s.j(i.resumeToken));break;case 4:this.ht(n)&&(this.lt(n),s.j(i.resumeToken));break;default:tt()}})}forEachTarget(i,n){i.targetIds.length>0?i.targetIds.forEach(n):this.et.forEach((s,l)=>{this.ht(l)&&n(l)})}ft(i){const n=i.targetId,s=i.O.count,l=this.dt(n);if(l){const h=l.target;if($g(h))if(0===s){const g=new nt(h.path);this.at(n,g,wn.newNoDocument(g,Et.min()))}else gt(1===s);else this.wt(n)!==s&&(this.lt(n),this.it=this.it.add(n))}}_t(i){const n=new Map;this.et.forEach((h,g)=>{const w=this.dt(g);if(w){if(h.current&&$g(w.target)){const C=new nt(w.target.path);null!==this.nt.get(C)||this.gt(g,C)||this.at(g,C,wn.newNoDocument(C,i))}h.K&&(n.set(g,h.W()),h.G())}});let s=Wt();this.st.forEach((h,g)=>{let w=!0;g.forEachWhile(C=>{const S=this.dt(C);return!S||2===S.purpose||(w=!1,!1)}),w&&(s=s.add(h))});const l=new dh(i,n,this.it,this.nt,s);return this.nt=Zr(),this.st=v0(),this.it=new Vn(Nt),l}ot(i,n){if(!this.ht(i))return;const s=this.gt(i,n.key)?2:0;this.ut(i).H(n.key,s),this.nt=this.nt.insert(n.key,n),this.st=this.st.insert(n.key,this.yt(n.key).add(i))}at(i,n,s){if(!this.ht(i))return;const l=this.ut(i);this.gt(i,n)?l.H(n,1):l.J(n),this.st=this.st.insert(n,this.yt(n).delete(i)),s&&(this.nt=this.nt.insert(n,s))}removeTarget(i){this.et.delete(i)}wt(i){const n=this.ut(i).W();return this.tt.getRemoteKeysForTarget(i).size+n.addedDocuments.size-n.removedDocuments.size}Y(i){this.ut(i).Y()}ut(i){let n=this.et.get(i);return n||(n=new _0,this.et.set(i,n)),n}yt(i){let n=this.st.get(i);return n||(n=new Vn(Nt),this.st=this.st.insert(i,n)),n}ht(i){const n=null!==this.dt(i);return n||Le("WatchChangeAggregator","Detected inactive target",i),n}dt(i){const n=this.et.get(i);return n&&n.q?null:this.tt.Et(i)}lt(i){this.et.set(i,new _0),this.tt.getRemoteKeysForTarget(i).forEach(n=>{this.at(i,n,null)})}gt(i,n){return this.tt.getRemoteKeysForTarget(i).has(n)}}function v0(){return new ni(nt.comparator)}function ty(){return new ni(nt.comparator)}const nE={asc:"ASCENDING",desc:"DESCENDING"},w0={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class iE{constructor(i,n){this.databaseId=i,this.D=n}}function op(r,i){return r.D?`${new Date(1e3*i.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+i.nanoseconds).slice(-9)}Z`:{seconds:""+i.seconds,nanos:i.nanoseconds}}function E0(r,i){return r.D?i.toBase64():i.toUint8Array()}function rE(r,i){return op(r,i.toTimestamp())}function wi(r){return gt(!!r),Et.fromTimestamp(function(i){const n=Sl(i);return new Xn(n.seconds,n.nanos)}(r))}function ny(r,i){return(n=r,new Ut(["projects",n.projectId,"databases",n.database])).child("documents").child(i).canonicalString();var n}function b0(r){const i=Ut.fromString(r);return gt(lE(i)),i}function fh(r,i){return ny(r.databaseId,i.path)}function zs(r,i){const n=b0(i);if(n.get(1)!==r.databaseId.projectId)throw new Re(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Re(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new nt(ac(n))}function iy(r,i){return ny(r.databaseId,i)}function VT(r){const i=b0(r);return 4===i.length?Ut.emptyPath():ac(i)}function ap(r){return new Ut(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ac(r){return gt(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function UT(r,i,n){return{name:fh(r,i),fields:n.value.mapValue.fields}}function ry(r,i,n){const s=zs(r,i.name),l=wi(i.updateTime),h=new Ln({mapValue:{fields:i.fields}}),g=wn.newFoundDocument(s,l,h);return n&&g.setHasCommittedMutations(),n?g.setHasCommittedMutations():g}function Ea(r,i){let n;if(i instanceof sp)n={update:UT(r,i.key,i.value)};else if(i instanceof ch)n={delete:fh(r,i.key)};else if(i instanceof Wr)n={update:UT(r,i.key,i.data),updateMask:aE(i.fieldMask)};else{if(!(i instanceof $w))return tt();n={verify:fh(r,i.key)}}return i.fieldTransforms.length>0&&(n.updateTransforms=i.fieldTransforms.map(s=>function(l,h){const g=h.transform;if(g instanceof lh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof oc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof uh)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof np)return{fieldPath:h.field.canonicalString(),increment:g.C};throw tt()}(0,s))),i.precondition.isNone||(n.currentDocument=void 0!==(l=i.precondition).updateTime?{updateTime:rE(r,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:tt()),n;var l}function C0(r,i){const n=i.currentDocument?void 0!==(l=i.currentDocument).updateTime?En.updateTime(wi(l.updateTime)):void 0!==l.exists?En.exists(l.exists):En.none():En.none(),s=i.updateTransforms?i.updateTransforms.map(l=>function(h,g){let w=null;"setToServerValue"in g?(gt("REQUEST_TIME"===g.setToServerValue),w=new lh):"appendMissingElements"in g?w=new oc(g.appendMissingElements.values||[]):"removeAllFromArray"in g?w=new uh(g.removeAllFromArray.values||[]):"increment"in g?w=new np(h,g.increment):tt();const C=Bi.fromServerFormat(g.fieldPath);return new rp(C,w)}(r,l)):[];var l;if(i.update){const l=zs(r,i.update.name),h=new Ln({mapValue:{fields:i.update.fields}});if(i.updateMask){const g=new Xd((i.updateMask.fieldPaths||[]).map(S=>Bi.fromServerFormat(S)));return new Wr(l,h,g,n,s)}return new sp(l,h,n,s)}if(i.delete){const l=zs(r,i.delete);return new ch(l,n)}if(i.verify){const l=zs(r,i.verify);return new $w(l,n)}return tt()}function x0(r,i){return{documents:[iy(r,i.path)]}}function qs(r,i){const n={structuredQuery:{}},s=i.path;null!==i.collectionGroup?(n.parent=iy(r,s),n.structuredQuery.from=[{collectionId:i.collectionGroup,allDescendants:!0}]):(n.parent=iy(r,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const l=function(w){if(0===w.length)return;const C=w.map(S=>function(T){if("=="===T.op){if(Lw(T.value))return{unaryFilter:{field:gh(T.field),op:"IS_NAN"}};if(Pw(T.value))return{unaryFilter:{field:gh(T.field),op:"IS_NULL"}}}else if("!="===T.op){if(Lw(T.value))return{unaryFilter:{field:gh(T.field),op:"IS_NOT_NAN"}};if(Pw(T.value))return{unaryFilter:{field:gh(T.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gh(T.field),op:HT(T.op),value:T.value}}}(S));return 1===C.length?C[0]:{compositeFilter:{op:"AND",filters:C}}}(i.filters);l&&(n.structuredQuery.where=l);const h=function(w){if(0!==w.length)return w.map(C=>{return{field:gh((S=C).field),direction:u1(S.dir)};var S})}(i.orderBy);h&&(n.structuredQuery.orderBy=h);const g=(C=i.limit,r.D||tc(C)?C:{value:C});var C;return null!==g&&(n.structuredQuery.limit=g),i.startAt&&(n.structuredQuery.startAt=I0(i.startAt)),i.endAt&&(n.structuredQuery.endAt=I0(i.endAt)),n}function sE(r){let i=VT(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){gt(1===s);const T=n.from[0];T.allDescendants?l=T.collectionId:i=i.child(T.collectionId)}let h=[];n.where&&(h=lp(n.where));let g=[];n.orderBy&&(g=n.orderBy.map(T=>{return new Tl(ph((k=T).field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction));var k}));let w=null;n.limit&&(w=function(T){let k;return k="object"==typeof T?T.value:T,tc(k)?null:k}(n.limit));let C=null;n.startAt&&(C=D0(n.startAt));let S=null;return n.endAt&&(S=D0(n.endAt)),Uw(i,l,g,h,w,"F",C,S)}function lp(r){return r?void 0!==r.unaryFilter?[S0(r)]:void 0!==r.fieldFilter?[oE(r)]:void 0!==r.compositeFilter?r.compositeFilter.filters.map(i=>lp(i)).reduce((i,n)=>i.concat(n)):tt():[]}function I0(r){return{before:r.before,values:r.position}}function D0(r){return new qm(r.values||[],!!r.before)}function u1(r){return nE[r]}function HT(r){return w0[r]}function gh(r){return{fieldPath:r.canonicalString()}}function ph(r){return Bi.fromServerFormat(r.fieldPath)}function oE(r){return Tr.create(ph(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return tt()}}(r.fieldFilter.op),r.fieldFilter.value)}function S0(r){switch(r.unaryFilter.op){case"IS_NAN":const i=ph(r.unaryFilter.field);return Tr.create(i,"==",{doubleValue:NaN});case"IS_NULL":const n=ph(r.unaryFilter.field);return Tr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ph(r.unaryFilter.field);return Tr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ph(r.unaryFilter.field);return Tr.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return tt()}}function aE(r){const i=[];return r.fields.forEach(n=>i.push(n.canonicalString())),{fieldPaths:i}}function lE(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}function Ys(r){let i="";for(let n=0;n<r.length;n++)i.length>0&&(i=T0(i)),i=c1(r.get(n),i);return T0(i)}function c1(r,i){let n=i;const s=r.length;for(let l=0;l<s;l++){const h=r.charAt(l);switch(h){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=h}}return n}function T0(r){return r+"\x01\x01"}function ba(r){const i=r.length;if(gt(i>=2),2===i)return gt("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),Ut.emptyPath();const n=i-2,s=[];let l="";for(let h=0;h<i;){const g=r.indexOf("\x01",h);switch((g<0||g>n)&&tt(),r.charAt(g+1)){case"\x01":const w=r.substring(h,g);let C;0===l.length?C=w:(l+=w,C=l,l=""),s.push(C);break;case"\x10":l+=r.substring(h,g),l+="\0";break;case"\x11":l+=r.substring(h,g+1);break;default:tt()}h=g+2}return new Ut(s)}class jT{constructor(i,n){this.seconds=i,this.nanoseconds=n}}class Mr{constructor(i,n,s){this.ownerId=i,this.allowTabSynchronization=n,this.leaseTimestampMs=s}}Mr.store="owner",Mr.key="owner";class Ca{constructor(i,n,s){this.userId=i,this.lastAcknowledgedBatchId=n,this.lastStreamToken=s}}Ca.store="mutationQueues",Ca.keyPath="userId";class un{constructor(i,n,s,l,h){this.userId=i,this.batchId=n,this.localWriteTimeMs=s,this.baseMutations=l,this.mutations=h}}un.store="mutations",un.keyPath="batchId",un.userMutationsIndex="userMutationsIndex",un.userMutationsKeyPath=["userId","batchId"];class nr{constructor(){}static prefixForUser(i){return[i]}static prefixForPath(i,n){return[i,Ys(n)]}static key(i,n,s){return[i,Ys(n),s]}}nr.store="documentMutations",nr.PLACEHOLDER=new nr;class QT{constructor(i,n){this.path=i,this.readTime=n}}class M0{constructor(i,n){this.path=i,this.version=n}}class hn{constructor(i,n,s,l,h,g){this.unknownDocument=i,this.noDocument=n,this.document=s,this.hasCommittedMutations=l,this.readTime=h,this.parentPath=g}}hn.store="remoteDocuments",hn.readTimeIndex="readTimeIndex",hn.readTimeIndexPath="readTime",hn.collectionReadTimeIndex="collectionReadTimeIndex",hn.collectionReadTimeIndexPath=["parentPath","readTime"];class Vo{constructor(i){this.byteSize=i}}Vo.store="remoteDocumentGlobal",Vo.key="remoteDocumentGlobalKey";class pr{constructor(i,n,s,l,h,g,w){this.targetId=i,this.canonicalId=n,this.readTime=s,this.resumeToken=l,this.lastListenSequenceNumber=h,this.lastLimboFreeSnapshotVersion=g,this.query=w}}pr.store="targets",pr.keyPath="targetId",pr.queryTargetsIndexName="queryTargetsIndex",pr.queryTargetsKeyPath=["canonicalId","targetId"];class ii{constructor(i,n,s){this.targetId=i,this.path=n,this.sequenceNumber=s}}ii.store="targetDocuments",ii.keyPath=["targetId","path"],ii.documentTargetsIndex="documentTargetsIndex",ii.documentTargetsKeyPath=["path","targetId"];class ir{constructor(i,n,s,l){this.highestTargetId=i,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=s,this.targetCount=l}}ir.key="targetGlobalKey",ir.store="targetGlobal";class Ws{constructor(i,n){this.collectionId=i,this.parent=n}}Ws.store="collectionParents",Ws.keyPath=["collectionId","parent"];class xa{constructor(i,n,s,l){this.clientId=i,this.updateTimeMs=n,this.networkEnabled=s,this.inForeground=l}}xa.store="clientMetadata",xa.keyPath="clientId";class Ah{constructor(i,n,s){this.bundleId=i,this.createTime=n,this.version=s}}Ah.store="bundles",Ah.keyPath="bundleId";class up{constructor(i,n,s){this.name=i,this.readTime=n,this.bundledQuery=s}}up.store="namedQueries",up.keyPath="name";const zT=[Ca.store,un.store,nr.store,hn.store,pr.store,Mr.store,ir.store,ii.store,xa.store,Vo.store,Ws.store,Ah.store,up.store],R0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class k0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(i){this.onCommittedListeners.push(i)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(i=>i())}}class Te{constructor(i){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,i(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(i){return this.next(void 0,i)}next(i,n){return this.callbackAttached&&tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(i,this.result):new Te((s,l)=>{this.nextCallback=h=>{this.wrapSuccess(i,h).next(s,l)},this.catchCallback=h=>{this.wrapFailure(n,h).next(s,l)}})}toPromise(){return new Promise((i,n)=>{this.next(i,n)})}wrapUserFunction(i){try{const n=i();return n instanceof Te?n:Te.resolve(n)}catch(n){return Te.reject(n)}}wrapSuccess(i,n){return i?this.wrapUserFunction(()=>i(n)):Te.resolve(n)}wrapFailure(i,n){return i?this.wrapUserFunction(()=>i(n)):Te.reject(n)}static resolve(i){return new Te((n,s)=>{n(i)})}static reject(i){return new Te((n,s)=>{s(i)})}static waitFor(i){return new Te((n,s)=>{let l=0,h=0,g=!1;i.forEach(w=>{++l,w.next(()=>{++h,g&&h===l&&n()},C=>s(C))}),g=!0,h===l&&n()})}static or(i){let n=Te.resolve(!1);for(const s of i)n=n.next(l=>l?Te.resolve(l):s());return n}static forEach(i,n){const s=[];return i.forEach((l,h)=>{s.push(n.call(this,l,h))}),this.waitFor(s)}}class oy{constructor(i,n){this.action=i,this.transaction=n,this.aborted=!1,this.Tt=new $n,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{n.error?this.Tt.reject(new cp(i,n.error)):this.Tt.resolve()},this.transaction.onerror=s=>{const l=uE(s.target.error);this.Tt.reject(new cp(i,l))}}static open(i,n,s,l){try{return new oy(n,i.transaction(l,s))}catch(h){throw new cp(n,h)}}get It(){return this.Tt.promise}abort(i){i&&this.Tt.reject(i),this.aborted||(Le("SimpleDb","Aborting transaction:",i?i.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(i){const n=this.transaction.objectStore(i);return new d1(n)}}class Zs{constructor(i,n,s){this.name=i,this.version=n,this.At=s,12.2===Zs.Rt((0,Je.z$)())&&Yt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(i){return Le("SimpleDb","Removing database:",i),uc(window.indexedDB.deleteDatabase(i)).toPromise()}static bt(){if("undefined"==typeof indexedDB)return!1;if(Zs.Pt())return!0;const i=(0,Je.z$)(),n=Zs.Rt(i),s=0<n&&n<10,l=Zs.vt(i),h=0<l&&l<4.5;return!(i.indexOf("MSIE ")>0||i.indexOf("Trident/")>0||i.indexOf("Edge/")>0||s||h)}static Pt(){var i;return"undefined"!=typeof process&&"YES"===(null===(i=process.env)||void 0===i?void 0:i.Vt)}static St(i,n){return i.store(n)}static Rt(i){const n=i.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static vt(i){const n=i.match(/Android ([\d.]+)/i),s=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(s)}Dt(i){var n=this;return(0,$.Z)(function*(){return n.db||(Le("SimpleDb","Opening database:",n.name),n.db=yield new Promise((s,l)=>{const h=indexedDB.open(n.name,n.version);h.onsuccess=g=>{s(g.target.result)},h.onblocked=()=>{l(new cp(i,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},h.onerror=g=>{const w=g.target.error;l("VersionError"===w.name?new Re(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===w.name?new Re(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+w):new cp(i,w))},h.onupgradeneeded=g=>{Le("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',g.oldVersion),n.At.Ct(g.target.result,h.transaction,g.oldVersion,n.version).next(()=>{Le("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.Nt&&(n.db.onversionchange=s=>n.Nt(s)),n.db})()}xt(i){this.Nt=i,this.db&&(this.db.onversionchange=n=>i(n))}runTransaction(i,n,s,l){var h=this;return(0,$.Z)(function*(){const g="readonly"===n;let w=0;for(;;){++w;try{h.db=yield h.Dt(i);const C=oy.open(h.db,i,g?"readonly":"readwrite",s),S=l(C).catch(T=>(C.abort(T),Te.reject(T))).toPromise();return S.catch(()=>{}),yield C.It,S}catch(C){const S="FirebaseError"!==C.name&&w<3;if(Le("SimpleDb","Transaction failed with error:",C.message,"Retrying:",S),h.close(),!S)return Promise.reject(C)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class qT{constructor(i){this.kt=i,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(i){this.kt=i}done(){this.$t=!0}Mt(i){this.Ot=i}delete(){return uc(this.kt.delete())}}class cp extends Re{constructor(i,n){super(me.UNAVAILABLE,`IndexedDB transaction '${i}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function lc(r){return"IndexedDbTransactionError"===r.name}class d1{constructor(i){this.store=i}put(i,n){let s;return void 0!==n?(Le("SimpleDb","PUT",this.store.name,i,n),s=this.store.put(n,i)):(Le("SimpleDb","PUT",this.store.name,"<auto-key>",i),s=this.store.put(i)),uc(s)}add(i){return Le("SimpleDb","ADD",this.store.name,i,i),uc(this.store.add(i))}get(i){return uc(this.store.get(i)).next(n=>(void 0===n&&(n=null),Le("SimpleDb","GET",this.store.name,i,n),n))}delete(i){return Le("SimpleDb","DELETE",this.store.name,i),uc(this.store.delete(i))}count(){return Le("SimpleDb","COUNT",this.store.name),uc(this.store.count())}Lt(i,n){const s=this.cursor(this.options(i,n)),l=[];return this.Bt(s,(h,g)=>{l.push(g)}).next(()=>l)}Ut(i,n){Le("SimpleDb","DELETE ALL",this.store.name);const s=this.options(i,n);s.qt=!1;const l=this.cursor(s);return this.Bt(l,(h,g,w)=>w.delete())}Kt(i,n){let s;n?s=i:(s={},n=i);const l=this.cursor(s);return this.Bt(l,n)}jt(i){const n=this.cursor({});return new Te((s,l)=>{n.onerror=h=>{const g=uE(h.target.error);l(g)},n.onsuccess=h=>{const g=h.target.result;g?i(g.primaryKey,g.value).next(w=>{w?g.continue():s()}):s()}})}Bt(i,n){const s=[];return new Te((l,h)=>{i.onerror=g=>{h(g.target.error)},i.onsuccess=g=>{const w=g.target.result;if(!w)return void l();const C=new qT(w),S=n(w.primaryKey,w.value,C);if(S instanceof Te){const T=S.catch(k=>(C.done(),Te.reject(k)));s.push(T)}C.isDone?l():null===C.Ft?w.continue():w.continue(C.Ft)}}).next(()=>Te.waitFor(s))}options(i,n){let s;return void 0!==i&&("string"==typeof i?s=i:n=i),{index:s,range:n}}cursor(i){let n="next";if(i.reverse&&(n="prev"),i.index){const s=this.store.index(i.index);return i.qt?s.openKeyCursor(i.range,n):s.openCursor(i.range,n)}return this.store.openCursor(i.range,n)}}function uc(r){return new Te((i,n)=>{r.onsuccess=s=>{i(s.target.result)},r.onerror=s=>{const l=uE(s.target.error);n(l)}})}let mh=!1;function uE(r){const i=Zs.Rt((0,Je.z$)());if(i>=12.2&&i<13){const n="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(n)>=0){const s=new Re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return mh||(mh=!0,setTimeout(()=>{throw s},0)),s}}return r}class O0 extends k0{constructor(i,n){super(),this.Qt=i,this.currentSequenceNumber=n}}function Rr(r,i){const n=Ge(r);return Zs.St(n.Qt,i)}class yh{constructor(i,n,s,l){this.batchId=i,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(i,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(i.key)&&RT(h,i,s[l])}}applyToLocalView(i){for(const n of this.baseMutations)n.key.isEqual(i.key)&&Zw(n,i,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(i.key)&&Zw(n,i,this.localWriteTime)}applyToLocalDocumentSet(i){this.mutations.forEach(n=>{const s=i.get(n.key),l=s;this.applyToLocalView(l),s.isValidDocument()||l.convertToNoDocument(Et.min())})}keys(){return this.mutations.reduce((i,n)=>i.add(n.key),Wt())}isEqual(i){return this.batchId===i.batchId&&Il(this.mutations,i.mutations,(n,s)=>Jw(n,s))&&Il(this.baseMutations,i.baseMutations,(n,s)=>Jw(n,s))}}class Ia{constructor(i,n,s,l){this.batch=i,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(i,n,s){gt(i.mutations.length===s.length);let l=m0();const h=i.mutations;for(let g=0;g<h.length;g++)l=l.insert(h[g].key,s[g].version);return new Ia(i,n,s,l)}}class Ml{constructor(i,n,s,l,h=Et.min(),g=Et.min(),w=vi.EMPTY_BYTE_STRING){this.target=i,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=w}withSequenceNumber(i){return new Ml(this.target,this.targetId,this.purpose,i,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(i,n){return new Ml(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,i)}withLastLimboFreeSnapshotVersion(i){return new Ml(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,i,this.resumeToken)}}class N0{constructor(i){this.Wt=i}}function F0(r,i){if(i.document)return ry(r.Wt,i.document,!!i.hasCommittedMutations);if(i.noDocument){const n=nt.fromSegments(i.noDocument.path),s=cc(i.noDocument.readTime),l=wn.newNoDocument(n,s);return i.hasCommittedMutations?l.setHasCommittedMutations():l}if(i.unknownDocument){const n=nt.fromSegments(i.unknownDocument.path),s=cc(i.unknownDocument.version);return wn.newUnknownDocument(n,s)}return tt()}function P0(r,i,n){const s=_h(n),l=i.key.path.popLast().toArray();if(i.isFoundDocument()){const h={name:fh(w=r.Wt,(C=i).key),fields:C.data.value.mapValue.fields,updateTime:op(w,C.version.toTimestamp())};return new hn(null,null,h,i.hasCommittedMutations,s,l)}var w,C;if(i.isNoDocument()){const h=i.key.path.toArray(),g=vh(i.version),w=i.hasCommittedMutations;return new hn(null,new QT(h,g),null,w,s,l)}if(i.isUnknownDocument()){const h=i.key.path.toArray(),g=vh(i.version);return new hn(new M0(h,g),null,null,!0,s,l)}return tt()}function _h(r){const i=r.toTimestamp();return[i.seconds,i.nanoseconds]}function L0(r){const i=new Xn(r[0],r[1]);return Et.fromTimestamp(i)}function vh(r){const i=r.toTimestamp();return new jT(i.seconds,i.nanoseconds)}function cc(r){const i=new Xn(r.seconds,r.nanoseconds);return Et.fromTimestamp(i)}function dc(r,i){const n=(i.baseMutations||[]).map(h=>C0(r.Wt,h));for(let h=0;h<i.mutations.length-1;++h){const g=i.mutations[h];h+1<i.mutations.length&&void 0!==i.mutations[h+1].transform&&(g.updateTransforms=i.mutations[h+1].transform.fieldTransforms,i.mutations.splice(h+1,1),++h)}const s=i.mutations.map(h=>C0(r.Wt,h)),l=Xn.fromMillis(i.localWriteTimeMs);return new yh(i.batchId,l,n,s)}function hc(r){const i=cc(r.readTime),n=void 0!==r.lastLimboFreeSnapshotVersion?cc(r.lastLimboFreeSnapshotVersion):Et.min();let s;var l;return void 0!==r.query.documents?(gt(1===(l=r.query).documents.length),s=gr(rh(VT(l.documents[0])))):s=gr(sE(r.query)),new Ml(s,r.targetId,0,r.lastListenSequenceNumber,i,n,vi.fromBase64String(r.resumeToken))}function cE(r,i){const n=vh(i.snapshotVersion),s=vh(i.lastLimboFreeSnapshotVersion);let l;l=$g(i.target)?x0(r.Wt,i.target):qs(r.Wt,i.target);const h=i.resumeToken.toBase64();return new pr(i.targetId,rc(i.target),n,h,i.sequenceNumber,s,l)}function ay(r){const i=sE({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?jw(i,i.limit,"L"):i}class WT{getBundleMetadata(i,n){return B0(i).get(n).next(s=>{if(s)return{id:(l=s).bundleId,createTime:cc(l.createTime),version:l.version};var l})}saveBundleMetadata(i,n){return B0(i).put({bundleId:(s=n).id,createTime:vh(wi(s.createTime)),version:s.version});var s}getNamedQuery(i,n){return dE(i).get(n).next(s=>{if(s)return{name:(l=s).name,query:ay(l.bundledQuery),readTime:cc(l.readTime)};var l})}saveNamedQuery(i,n){return dE(i).put({name:(s=n).name,readTime:vh(wi(s.readTime)),bundledQuery:s.bundledQuery});var s}}function B0(r){return Rr(r,Ah.store)}function dE(r){return Rr(r,up.store)}class ZT{constructor(){this.Gt=new ly}addToCollectionParentIndex(i,n){return this.Gt.add(n),Te.resolve()}getCollectionParents(i,n){return Te.resolve(this.Gt.getEntries(n))}}class ly{constructor(){this.index={}}add(i){const n=i.lastSegment(),s=i.popLast(),l=this.index[n]||new Vn(Ut.comparator),h=!l.has(s);return this.index[n]=l.add(s),h}has(i){const n=i.lastSegment(),s=i.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(i){return(this.index[i]||new Vn(Ut.comparator)).toArray()}}class uy{constructor(){this.zt=new ly}addToCollectionParentIndex(i,n){if(!this.zt.has(n)){const s=n.lastSegment(),l=n.popLast();i.addOnCommittedListener(()=>{this.zt.add(n)});const h={collectionId:s,parent:Ys(l)};return dp(i).put(h)}return Te.resolve()}getCollectionParents(i,n){const s=[],l=IDBKeyRange.bound([n,""],[Yg(n),""],!1,!0);return dp(i).Lt(l).next(h=>{for(const g of h){if(g.collectionId!==n)break;s.push(ba(g.parent))}return s})}}function dp(r){return Rr(r,Ws.store)}const JT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ei{constructor(i,n,s){this.cacheSizeCollectionThreshold=i,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}static withCacheSize(i){return new Ei(i,Ei.DEFAULT_COLLECTION_PERCENTILE,Ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function jt(r,i,n){const s=r.store(un.store),l=r.store(nr.store),h=[],g=IDBKeyRange.only(n.batchId);let w=0;const C=s.Kt({range:g},(T,k,B)=>(w++,B.delete()));h.push(C.next(()=>{gt(1===w)}));const S=[];for(const T of n.mutations){const k=nr.key(i,T.key.path,n.batchId);h.push(l.delete(k)),S.push(T.key)}return Te.waitFor(h).next(()=>S)}function Js(r){if(!r)return 0;let i;if(r.document)i=r.document;else if(r.unknownDocument)i=r.unknownDocument;else{if(!r.noDocument)throw tt();i=r.noDocument}return JSON.stringify(i).length}Ei.DEFAULT_COLLECTION_PERCENTILE=10,Ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ei.DEFAULT=new Ei(41943040,Ei.DEFAULT_COLLECTION_PERCENTILE,Ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ei.DISABLED=new Ei(-1,0,0);class Rl{constructor(i,n,s,l){this.userId=i,this.N=n,this.Ht=s,this.referenceDelegate=l,this.Jt={}}static Yt(i,n,s,l){gt(""!==i.uid);const h=i.isAuthenticated()?i.uid:"";return new Rl(h,n,s,l)}checkEmpty(i){let n=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fc(i).Kt({index:un.userMutationsIndex,range:s},(l,h,g)=>{n=!1,g.done()}).next(()=>n)}addMutationBatch(i,n,s,l){const h=ft(i),g=fc(i);return g.add({}).next(w=>{gt("number"==typeof w);const C=new yh(w,n,s,l),S=function(B,G,q){const Ae=q.baseMutations.map(ke=>Ea(B.Wt,ke)),Se=q.mutations.map(ke=>Ea(B.Wt,ke));return new un(G,q.batchId,q.localWriteTime.toMillis(),Ae,Se)}(this.N,this.userId,C),T=[];let k=new Vn((B,G)=>Nt(B.canonicalString(),G.canonicalString()));for(const B of l){const G=nr.key(this.userId,B.key.path,w);k=k.add(B.key.path.popLast()),T.push(g.put(S)),T.push(h.put(G,nr.PLACEHOLDER))}return k.forEach(B=>{T.push(this.Ht.addToCollectionParentIndex(i,B))}),i.addOnCommittedListener(()=>{this.Jt[w]=C.keys()}),Te.waitFor(T).next(()=>C)})}lookupMutationBatch(i,n){return fc(i).get(n).next(s=>s?(gt(s.userId===this.userId),dc(this.N,s)):null)}Xt(i,n){return this.Jt[n]?Te.resolve(this.Jt[n]):this.lookupMutationBatch(i,n).next(s=>{if(s){const l=s.keys();return this.Jt[n]=l,l}return null})}getNextMutationBatchAfterBatchId(i,n){const s=n+1,l=IDBKeyRange.lowerBound([this.userId,s]);let h=null;return fc(i).Kt({index:un.userMutationsIndex,range:l},(g,w,C)=>{w.userId===this.userId&&(gt(w.batchId>=s),h=dc(this.N,w)),C.done()}).next(()=>h)}getHighestUnacknowledgedBatchId(i){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return fc(i).Kt({index:un.userMutationsIndex,range:n,reverse:!0},(l,h,g)=>{s=h.batchId,g.done()}).next(()=>s)}getAllMutationBatches(i){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fc(i).Lt(un.userMutationsIndex,n).next(s=>s.map(l=>dc(this.N,l)))}getAllMutationBatchesAffectingDocumentKey(i,n){const s=nr.prefixForPath(this.userId,n.path),l=IDBKeyRange.lowerBound(s),h=[];return ft(i).Kt({range:l},(g,w,C)=>{const[S,T,k]=g,B=ba(T);if(S===this.userId&&n.path.isEqual(B))return fc(i).get(k).next(G=>{if(!G)throw tt();gt(G.userId===this.userId),h.push(dc(this.N,G))});C.done()}).next(()=>h)}getAllMutationBatchesAffectingDocumentKeys(i,n){let s=new Vn(Nt);const l=[];return n.forEach(h=>{const g=nr.prefixForPath(this.userId,h.path),w=IDBKeyRange.lowerBound(g),C=ft(i).Kt({range:w},(S,T,k)=>{const[B,G,q]=S,Ae=ba(G);B===this.userId&&h.path.isEqual(Ae)?s=s.add(q):k.done()});l.push(C)}),Te.waitFor(l).next(()=>this.Zt(i,s))}getAllMutationBatchesAffectingQuery(i,n){const s=n.path,l=s.length+1,h=nr.prefixForPath(this.userId,s),g=IDBKeyRange.lowerBound(h);let w=new Vn(Nt);return ft(i).Kt({range:g},(C,S,T)=>{const[k,B,G]=C,q=ba(B);k===this.userId&&s.isPrefixOf(q)?q.length===l&&(w=w.add(G)):T.done()}).next(()=>this.Zt(i,w))}Zt(i,n){const s=[],l=[];return n.forEach(h=>{l.push(fc(i).get(h).next(g=>{if(null===g)throw tt();gt(g.userId===this.userId),s.push(dc(this.N,g))}))}),Te.waitFor(l).next(()=>s)}removeMutationBatch(i,n){return jt(i.Qt,this.userId,n).next(s=>(i.addOnCommittedListener(()=>{this.te(n.batchId)}),Te.forEach(s,l=>this.referenceDelegate.markPotentiallyOrphaned(i,l))))}te(i){delete this.Jt[i]}performConsistencyCheck(i){return this.checkEmpty(i).next(n=>{if(!n)return Te.resolve();const s=IDBKeyRange.lowerBound(nr.prefixForUser(this.userId)),l=[];return ft(i).Kt({range:s},(h,g,w)=>{if(h[0]===this.userId){const C=ba(h[1]);l.push(C)}else w.done()}).next(()=>{gt(0===l.length)})})}containsKey(i,n){return wh(i,this.userId,n)}ee(i){return Jr(i).get(this.userId).next(n=>n||new Ca(this.userId,-1,""))}}function wh(r,i,n){const s=nr.prefixForPath(i,n.path),l=s[1],h=IDBKeyRange.lowerBound(s);let g=!1;return ft(r).Kt({range:h,qt:!0},(w,C,S)=>{const[T,k,B]=w;T===i&&k===l&&(g=!0),S.done()}).next(()=>g)}function fc(r){return Rr(r,un.store)}function ft(r){return Rr(r,nr.store)}function Jr(r){return Rr(r,Ca.store)}class Da{constructor(i){this.ne=i}next(){return this.ne+=2,this.ne}static se(){return new Da(0)}static ie(){return new Da(-1)}}class gc{constructor(i,n){this.referenceDelegate=i,this.N=n}allocateTargetId(i){return this.re(i).next(n=>{const s=new Da(n.highestTargetId);return n.highestTargetId=s.next(),this.oe(i,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(i){return this.re(i).next(n=>Et.fromTimestamp(new Xn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(i){return this.re(i).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(i,n,s){return this.re(i).next(l=>(l.highestListenSequenceNumber=n,s&&(l.lastRemoteSnapshotVersion=s.toTimestamp()),n>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=n),this.oe(i,l)))}addTargetData(i,n){return this.ae(i,n).next(()=>this.re(i).next(s=>(s.targetCount+=1,this.ce(n,s),this.oe(i,s))))}updateTargetData(i,n){return this.ae(i,n)}removeTargetData(i,n){return this.removeMatchingKeysForTargetId(i,n.targetId).next(()=>hp(i).delete(n.targetId)).next(()=>this.re(i)).next(s=>(gt(s.targetCount>0),s.targetCount-=1,this.oe(i,s)))}removeTargets(i,n,s){let l=0;const h=[];return hp(i).Kt((g,w)=>{const C=hc(w);C.sequenceNumber<=n&&null===s.get(C.targetId)&&(l++,h.push(this.removeTargetData(i,C)))}).next(()=>Te.waitFor(h)).next(()=>l)}forEachTarget(i,n){return hp(i).Kt((s,l)=>{const h=hc(l);n(h)})}re(i){return hE(i).get(ir.key).next(n=>(gt(null!==n),n))}oe(i,n){return hE(i).put(ir.key,n)}ae(i,n){return hp(i).put(cE(this.N,n))}ce(i,n){let s=!1;return i.targetId>n.highestTargetId&&(n.highestTargetId=i.targetId,s=!0),i.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=i.sequenceNumber,s=!0),s}getTargetCount(i){return this.re(i).next(n=>n.targetCount)}getTargetData(i,n){const s=rc(n),l=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let h=null;return hp(i).Kt({range:l,index:pr.queryTargetsIndexName},(g,w,C)=>{const S=hc(w);Kg(n,S.target)&&(h=S,C.done())}).next(()=>h)}addMatchingKeys(i,n,s){const l=[],h=Sa(i);return n.forEach(g=>{const w=Ys(g.path);l.push(h.put(new ii(s,w))),l.push(this.referenceDelegate.addReference(i,s,g))}),Te.waitFor(l)}removeMatchingKeys(i,n,s){const l=Sa(i);return Te.forEach(n,h=>{const g=Ys(h.path);return Te.waitFor([l.delete([s,g]),this.referenceDelegate.removeReference(i,s,h)])})}removeMatchingKeysForTargetId(i,n){const s=Sa(i),l=IDBKeyRange.bound([n],[n+1],!1,!0);return s.delete(l)}getMatchingKeysForTargetId(i,n){const s=IDBKeyRange.bound([n],[n+1],!1,!0),l=Sa(i);let h=Wt();return l.Kt({range:s,qt:!0},(g,w,C)=>{const S=ba(g[1]),T=new nt(S);h=h.add(T)}).next(()=>h)}containsKey(i,n){const s=Ys(n.path),l=IDBKeyRange.bound([s],[Yg(s)],!1,!0);let h=0;return Sa(i).Kt({index:ii.documentTargetsIndex,qt:!0,range:l},([g,w],C,S)=>{0!==g&&(h++,S.done())}).next(()=>h>0)}Et(i,n){return hp(i).get(n).next(s=>s?hc(s):null)}}function hp(r){return Rr(r,pr.store)}function hE(r){return Rr(r,ir.store)}function Sa(r){return Rr(r,ii.store)}function Eh(r){return fE.apply(this,arguments)}function fE(){return(fE=(0,$.Z)(function*(r){if(r.code!==me.FAILED_PRECONDITION||r.message!==R0)throw r;Le("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function V0([r,i],[n,s]){const l=Nt(r,n);return 0===l?Nt(i,s):l}class vs{constructor(i){this.ue=i,this.buffer=new Vn(V0),this.he=0}le(){return++this.he}fe(i){const n=[i,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();V0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Tn{constructor(i,n){this.garbageCollector=i,this.asyncQueue=n,this.de=!1,this.we=null}start(i){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(i)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(i){var n=this;const s=this.de?3e5:6e4;Le("LruGarbageCollector",`Garbage collection scheduled in ${s}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",s,(0,$.Z)(function*(){n.we=null,n.de=!0;try{yield i.collectGarbage(n.garbageCollector)}catch(l){lc(l)?Le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield Eh(l)}yield n._e(i)}))}}class Ks{constructor(i,n){this.me=i,this.params=n}calculateTargetCount(i,n){return this.me.ge(i).next(s=>Math.floor(n/100*s))}nthSequenceNumber(i,n){if(0===n)return Te.resolve(tr.T);const s=new vs(n);return this.me.forEachTarget(i,l=>s.fe(l.sequenceNumber)).next(()=>this.me.ye(i,l=>s.fe(l))).next(()=>s.maxValue)}removeTargets(i,n,s){return this.me.removeTargets(i,n,s)}removeOrphanedDocuments(i,n){return this.me.removeOrphanedDocuments(i,n)}collect(i,n){return-1===this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),Te.resolve(JT)):this.getCacheSize(i).next(s=>s<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),JT):this.pe(i,n))}getCacheSize(i){return this.me.getCacheSize(i)}pe(i,n){let s,l,h,g,w,C,S;const T=Date.now();return this.calculateTargetCount(i,this.params.percentileToCollect).next(k=>(k>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${k}`),l=this.params.maximumSequenceNumbersToCollect):l=k,g=Date.now(),this.nthSequenceNumber(i,l))).next(k=>(s=k,w=Date.now(),this.removeTargets(i,s,n))).next(k=>(h=k,C=Date.now(),this.removeOrphanedDocuments(i,s))).next(k=>(S=Date.now(),qr()<=Qu.in.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${g-T}ms\n\tDetermined least recently used ${l} in `+(w-g)+`ms\n\tRemoved ${h} targets in `+(C-w)+`ms\n\tRemoved ${k} documents in `+(S-C)+`ms\nTotal Duration: ${S-T}ms`),Te.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:k})))}}class U0{constructor(i,n){this.db=i,this.garbageCollector=new Ks(this,n)}ge(i){const n=this.Ee(i);return this.db.getTargetCache().getTargetCount(i).next(s=>n.next(l=>s+l))}Ee(i){let n=0;return this.ye(i,s=>{n++}).next(()=>n)}forEachTarget(i,n){return this.db.getTargetCache().forEachTarget(i,n)}ye(i,n){return this.Te(i,(s,l)=>n(l))}addReference(i,n,s){return cy(i,s)}removeReference(i,n,s){return cy(i,s)}removeTargets(i,n,s){return this.db.getTargetCache().removeTargets(i,n,s)}markPotentiallyOrphaned(i,n){return cy(i,n)}Ie(i,n){return function(s,l){let h=!1;return Jr(s).jt(g=>wh(s,g,l).next(w=>(w&&(h=!0),Te.resolve(!w)))).next(()=>h)}(i,n)}removeOrphanedDocuments(i,n){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let h=0;return this.Te(i,(g,w)=>{if(w<=n){const C=this.Ie(i,g).next(S=>{if(!S)return h++,s.getEntry(i,g).next(()=>(s.removeEntry(g),Sa(i).delete([0,Ys(g.path)])))});l.push(C)}}).next(()=>Te.waitFor(l)).next(()=>s.apply(i)).next(()=>h)}removeTarget(i,n){const s=n.withSequenceNumber(i.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(i,s)}updateLimboDocument(i,n){return cy(i,n)}Te(i,n){const s=Sa(i);let l,h=tr.T;return s.Kt({index:ii.documentTargetsIndex},([g,w],{path:C,sequenceNumber:S})=>{0===g?(h!==tr.T&&n(new nt(ba(l)),h),h=S,l=C):h=tr.T}).next(()=>{h!==tr.T&&n(new nt(ba(l)),h)})}getCacheSize(i){return this.db.getRemoteDocumentCache().getSize(i)}}function cy(r,i){return Sa(r).put((s=r.currentSequenceNumber,new ii(0,Ys(i.path),s)));var s}class pc{constructor(i,n){this.mapKeyFn=i,this.equalsFn=n,this.inner={}}get(i){const n=this.mapKeyFn(i),s=this.inner[n];if(void 0!==s)for(const[l,h]of s)if(this.equalsFn(l,i))return h}has(i){return void 0!==this.get(i)}set(i,n){const s=this.mapKeyFn(i),l=this.inner[s];if(void 0!==l){for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],i))return void(l[h]=[i,n]);l.push([i,n])}else this.inner[s]=[[i,n]]}delete(i){const n=this.mapKeyFn(i),s=this.inner[n];if(void 0===s)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],i))return 1===s.length?delete this.inner[n]:s.splice(l,1),!0;return!1}forEach(i){Dl(this.inner,(n,s)=>{for(const[l,h]of s)i(l,h)})}isEmpty(){return kw(this.inner)}}class dy{constructor(){this.changes=new pc(i=>i.toString(),(i,n)=>i.isEqual(n)),this.changesApplied=!1}getReadTime(i){const n=this.changes.get(i);return n?n.readTime:Et.min()}addEntry(i,n){this.assertNotApplied(),this.changes.set(i.key,{document:i,readTime:n})}removeEntry(i,n=null){this.assertNotApplied(),this.changes.set(i,{document:wn.newInvalidDocument(i),readTime:n})}getEntry(i,n){this.assertNotApplied();const s=this.changes.get(n);return void 0!==s?Te.resolve(s.document):this.getFromCache(i,n)}getEntries(i,n){return this.getAllFromCache(i,n)}apply(i){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(i)}assertNotApplied(){}}class bh{constructor(i,n){this.N=i,this.Ht=n}addEntry(i,n,s){return kr(i).put(hy(n),s)}removeEntry(i,n){const s=kr(i),l=hy(n);return s.delete(l)}updateMetadata(i,n){return this.getMetadata(i).next(s=>(s.byteSize+=n,this.Ae(i,s)))}getEntry(i,n){return kr(i).get(hy(n)).next(s=>this.Re(n,s))}be(i,n){return kr(i).get(hy(n)).next(s=>({document:this.Re(n,s),size:Js(s)}))}getEntries(i,n){let s=Zr();return this.Pe(i,n,(l,h)=>{const g=this.Re(l,h);s=s.insert(l,g)}).next(()=>s)}ve(i,n){let s=Zr(),l=new ni(nt.comparator);return this.Pe(i,n,(h,g)=>{const w=this.Re(h,g);s=s.insert(h,w),l=l.insert(h,Js(g))}).next(()=>({documents:s,Ve:l}))}Pe(i,n,s){if(n.isEmpty())return Te.resolve();const l=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),h=n.getIterator();let g=h.getNext();return kr(i).Kt({range:l},(w,C,S)=>{const T=nt.fromSegments(w);for(;g&&nt.comparator(g,T)<0;)s(g,null),g=h.getNext();g&&g.isEqual(T)&&(s(g,C),g=h.hasNext()?h.getNext():null),g?S.Mt(g.path.toArray()):S.done()}).next(()=>{for(;g;)s(g,null),g=h.hasNext()?h.getNext():null})}getDocumentsMatchingQuery(i,n,s){let l=Zr();const h=n.path.length+1,g={};if(s.isEqual(Et.min())){const w=n.path.toArray();g.range=IDBKeyRange.lowerBound(w)}else{const w=n.path.toArray(),C=_h(s);g.range=IDBKeyRange.lowerBound([w,C],!0),g.index=hn.collectionReadTimeIndex}return kr(i).Kt(g,(w,C,S)=>{if(w.length!==h)return;const T=F0(this.N,C);n.path.isPrefixOf(T.key.path)?wa(n,T)&&(l=l.insert(T.key,T)):S.done()}).next(()=>l)}newChangeBuffer(i){return new fp(this,!!i&&i.trackRemovals)}getSize(i){return this.getMetadata(i).next(n=>n.byteSize)}getMetadata(i){return G0(i).get(Vo.key).next(n=>(gt(!!n),n))}Ae(i,n){return G0(i).put(Vo.key,n)}Re(i,n){if(n){const s=F0(this.N,n);if(!s.isNoDocument()||!s.version.isEqual(Et.min()))return s}return wn.newInvalidDocument(i)}}class fp extends dy{constructor(i,n){super(),this.Se=i,this.trackRemovals=n,this.De=new pc(s=>s.toString(),(s,l)=>s.isEqual(l))}applyChanges(i){const n=[];let s=0,l=new Vn((h,g)=>Nt(h.canonicalString(),g.canonicalString()));return this.changes.forEach((h,g)=>{const w=this.De.get(h);if(g.document.isValidDocument()){const C=P0(this.Se.N,g.document,this.getReadTime(h));l=l.add(h.path.popLast()),s+=Js(C)-w,n.push(this.Se.addEntry(i,h,C))}else if(s-=w,this.trackRemovals){const C=P0(this.Se.N,wn.newNoDocument(h,Et.min()),this.getReadTime(h));n.push(this.Se.addEntry(i,h,C))}else n.push(this.Se.removeEntry(i,h))}),l.forEach(h=>{n.push(this.Se.Ht.addToCollectionParentIndex(i,h))}),n.push(this.Se.updateMetadata(i,s)),Te.waitFor(n)}getFromCache(i,n){return this.Se.be(i,n).next(s=>(this.De.set(n,s.size),s.document))}getAllFromCache(i,n){return this.Se.ve(i,n).next(({documents:s,Ve:l})=>(l.forEach((h,g)=>{this.De.set(h,g)}),s))}}function G0(r){return Rr(r,Vo.store)}function kr(r){return Rr(r,hn.store)}function hy(r){return r.path.toArray()}class H0{constructor(i){this.N=i}Ct(i,n,s,l){gt(s<l&&s>=0&&l<=11);const h=new oy("createOrUpgrade",n);var w;s<1&&l>=1&&(i.createObjectStore(Mr.store),(w=i).createObjectStore(Ca.store,{keyPath:Ca.keyPath}),w.createObjectStore(un.store,{keyPath:un.keyPath,autoIncrement:!0}).createIndex(un.userMutationsIndex,un.userMutationsKeyPath,{unique:!0}),w.createObjectStore(nr.store),fy(i),function(w){w.createObjectStore(hn.store)}(i));let g=Te.resolve();return s<3&&l>=3&&(0!==s&&(function(w){w.deleteObjectStore(ii.store),w.deleteObjectStore(pr.store),w.deleteObjectStore(ir.store)}(i),fy(i)),g=g.next(()=>function(w){const C=w.store(ir.store),S=new ir(0,0,Et.min().toTimestamp(),0);return C.put(ir.key,S)}(h))),s<4&&l>=4&&(0!==s&&(g=g.next(()=>function(w,C){return C.store(un.store).Lt().next(S=>{w.deleteObjectStore(un.store),w.createObjectStore(un.store,{keyPath:un.keyPath,autoIncrement:!0}).createIndex(un.userMutationsIndex,un.userMutationsKeyPath,{unique:!0});const T=C.store(un.store),k=S.map(B=>T.put(B));return Te.waitFor(k)})}(i,h))),g=g.next(()=>{!function(w){w.createObjectStore(xa.store,{keyPath:xa.keyPath})}(i)})),s<5&&l>=5&&(g=g.next(()=>this.Ce(h))),s<6&&l>=6&&(g=g.next(()=>(function(w){w.createObjectStore(Vo.store)}(i),this.Ne(h)))),s<7&&l>=7&&(g=g.next(()=>this.xe(h))),s<8&&l>=8&&(g=g.next(()=>this.ke(i,h))),s<9&&l>=9&&(g=g.next(()=>{(function(w){w.objectStoreNames.contains("remoteDocumentChanges")&&w.deleteObjectStore("remoteDocumentChanges")})(i),function(w){const C=w.objectStore(hn.store);C.createIndex(hn.readTimeIndex,hn.readTimeIndexPath,{unique:!1}),C.createIndex(hn.collectionReadTimeIndex,hn.collectionReadTimeIndexPath,{unique:!1})}(n)})),s<10&&l>=10&&(g=g.next(()=>this.$e(h))),s<11&&l>=11&&(g=g.next(()=>{(function(w){w.createObjectStore(Ah.store,{keyPath:Ah.keyPath})})(i),function(w){w.createObjectStore(up.store,{keyPath:up.keyPath})}(i)})),g}Ne(i){let n=0;return i.store(hn.store).Kt((s,l)=>{n+=Js(l)}).next(()=>{const s=new Vo(n);return i.store(Vo.store).put(Vo.key,s)})}Ce(i){const n=i.store(Ca.store),s=i.store(un.store);return n.Lt().next(l=>Te.forEach(l,h=>{const g=IDBKeyRange.bound([h.userId,-1],[h.userId,h.lastAcknowledgedBatchId]);return s.Lt(un.userMutationsIndex,g).next(w=>Te.forEach(w,C=>{gt(C.userId===h.userId);const S=dc(this.N,C);return jt(i,h.userId,S).next(()=>{})}))}))}xe(i){const n=i.store(ii.store),s=i.store(hn.store);return i.store(ir.store).get(ir.key).next(l=>{const h=[];return s.Kt((g,w)=>{const C=new Ut(g),S=[0,Ys(C)];h.push(n.get(S).next(T=>T?Te.resolve():n.put(new ii(0,Ys(C),l.highestListenSequenceNumber))))}).next(()=>Te.waitFor(h))})}ke(i,n){i.createObjectStore(Ws.store,{keyPath:Ws.keyPath});const s=n.store(Ws.store),l=new ly,h=g=>{if(l.add(g)){const w=g.lastSegment(),C=g.popLast();return s.put({collectionId:w,parent:Ys(C)})}};return n.store(hn.store).Kt({qt:!0},(g,w)=>{const C=new Ut(g);return h(C.popLast())}).next(()=>n.store(nr.store).Kt({qt:!0},([g,w,C],S)=>{const T=ba(w);return h(T.popLast())}))}$e(i){const n=i.store(pr.store);return n.Kt((s,l)=>{const h=hc(l),g=cE(this.N,h);return n.put(g)})}}function fy(r){r.createObjectStore(ii.store,{keyPath:ii.keyPath}).createIndex(ii.documentTargetsIndex,ii.documentTargetsKeyPath,{unique:!0}),r.createObjectStore(pr.store,{keyPath:pr.keyPath}).createIndex(pr.queryTargetsIndexName,pr.queryTargetsKeyPath,{unique:!0}),r.createObjectStore(ir.store)}const Ac="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class gp{constructor(i,n,s,l,h,g,w,C,S,T){if(this.allowTabSynchronization=i,this.persistenceKey=n,this.clientId=s,this.Oe=h,this.window=g,this.document=w,this.Fe=S,this.Me=T,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=k=>Promise.resolve(),!gp.bt())throw new Re(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new U0(this,l),this.We=n+"main",this.N=new N0(C),this.Ge=new Zs(this.We,11,new H0(this.N)),this.ze=new gc(this.referenceDelegate,this.N),this.Ht=new uy,this.He=new bh(this.N,this.Ht),this.Je=new WT,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===T&&Yt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Re(me.FAILED_PRECONDITION,Ac);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",i=>this.ze.getHighestSequenceNumber(i))}).then(i=>{this.Le=new tr(i,this.Fe)}).then(()=>{this.Be=!0}).catch(i=>(this.Ge&&this.Ge.close(),Promise.reject(i)))}nn(i){var n=this;return this.Qe=function(){var s=(0,$.Z)(function*(l){if(n.started)return i(l)});return function(l){return s.apply(this,arguments)}}(),i(this.isPrimary)}setDatabaseDeletedListener(i){this.Ge.xt(function(){var n=(0,$.Z)(function*(s){null===s.newVersion&&(yield i())});return function(s){return n.apply(this,arguments)}}())}setNetworkEnabled(i){var n=this;this.networkEnabled!==i&&(this.networkEnabled=i,this.Oe.enqueueAndForget((0,$.Z)(function*(){n.started&&(yield n.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",i=>Ta(i).put(new xa(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(i).next(n=>{n||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(i)).next(n=>this.isPrimary&&!n?this.on(i).next(()=>!1):!!n&&this.an(i).next(()=>!0))).catch(i=>{if(lc(i))return Le("IndexedDbPersistence","Failed to extend owner lease: ",i),this.isPrimary;if(!this.allowTabSynchronization)throw i;return Le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",i),!1}).then(i=>{this.isPrimary!==i&&this.Oe.enqueueRetryable(()=>this.Qe(i)),this.isPrimary=i})}sn(i){return Ch(i).get(Mr.key).next(n=>Te.resolve(this.cn(n)))}un(i){return Ta(i).delete(this.clientId)}hn(){var i=this;return(0,$.Z)(function*(){if(i.isPrimary&&!i.ln(i.je,18e5)){i.je=Date.now();const n=yield i.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const l=Rr(s,xa.store);return l.Lt().next(h=>{const g=i.fn(h,18e5),w=h.filter(C=>-1===g.indexOf(C));return Te.forEach(w,C=>l.delete(C.clientId)).next(()=>w)})}).catch(()=>[]);if(i.Ye)for(const s of n)i.Ye.removeItem(i.dn(s.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(i){return!!i&&i.ownerId===this.clientId}rn(i){return this.Me?Te.resolve(!0):Ch(i).get(Mr.key).next(n=>{if(null!==n&&this.ln(n.leaseTimestampMs,5e3)&&!this.wn(n.ownerId)){if(this.cn(n)&&this.networkEnabled)return!0;if(!this.cn(n)){if(!n.allowTabSynchronization)throw new Re(me.FAILED_PRECONDITION,Ac);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ta(i).Lt().next(s=>void 0===this.fn(s,5e3).find(l=>{if(this.clientId!==l.clientId){const g=!this.inForeground&&l.inForeground,w=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||g&&w)return!0}return!1}))}).next(n=>(this.isPrimary!==n&&Le("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var i=this;return(0,$.Z)(function*(){i.Be=!1,i._n(),i.Ke&&(i.Ke.cancel(),i.Ke=null),i.mn(),i.gn(),yield i.Ge.runTransaction("shutdown","readwrite",[Mr.store,xa.store],n=>{const s=new O0(n,tr.T);return i.on(s).next(()=>i.un(s))}),i.Ge.close(),i.yn()})()}fn(i,n){return i.filter(s=>this.ln(s.updateTimeMs,n)&&!this.wn(s.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",i=>Ta(i).Lt().next(n=>this.fn(n,18e5).map(s=>s.clientId)))}get started(){return this.Be}getMutationQueue(i){return Rl.Yt(i,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(i,n,s){let h;return Le("IndexedDbPersistence","Starting transaction:",i),this.Ge.runTransaction(i,"readonly"===n?"readonly":"readwrite",zT,g=>(h=new O0(g,this.Le?this.Le.next():tr.T),"readwrite-primary"===n?this.sn(h).next(w=>!!w||this.rn(h)).next(w=>{if(!w)throw Yt(`Failed to obtain primary lease for action '${i}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Re(me.FAILED_PRECONDITION,R0);return s(h)}).next(w=>this.an(h).next(()=>w)):this.En(h).next(()=>s(h)))).then(g=>(h.raiseOnCommittedEvent(),g))}En(i){return Ch(i).get(Mr.key).next(n=>{if(null!==n&&this.ln(n.leaseTimestampMs,5e3)&&!this.wn(n.ownerId)&&!this.cn(n)&&!(this.Me||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Re(me.FAILED_PRECONDITION,Ac)})}an(i){const n=new Mr(this.clientId,this.allowTabSynchronization,Date.now());return Ch(i).put(Mr.key,n)}static bt(){return Zs.bt()}on(i){const n=Ch(i);return n.get(Mr.key).next(s=>this.cn(s)?(Le("IndexedDbPersistence","Releasing primary lease."),n.delete(Mr.key)):Te.resolve())}ln(i,n){const s=Date.now();return!(i<s-n||i>s&&(Yt(`Detected an update time that is in the future: ${i} > ${s}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var i;"function"==typeof(null===(i=this.window)||void 0===i?void 0:i.addEventListener)&&(this.Ue=()=>{this._n(),(0,Je.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(i){var n;try{const s=null!==(null===(n=this.Ye)||void 0===n?void 0:n.getItem(this.dn(i)));return Le("IndexedDbPersistence",`Client '${i}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Yt("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(i){Yt("Failed to set zombie client id.",i)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(i){}}dn(i){return`firestore_zombie_${this.persistenceKey}_${i}`}}function Ch(r){return Rr(r,Mr.store)}function Ta(r){return Rr(r,xa.store)}function gE(r,i){let n=r.projectId;return r.isDefaultDatabase||(n+="."+r.database),"firestore/"+i+"/"+n+"/"}class gy{constructor(i,n){this.progress=i,this.Tn=n}}class pE{constructor(i,n,s){this.He=i,this.In=n,this.Ht=s}An(i,n){return this.In.getAllMutationBatchesAffectingDocumentKey(i,n).next(s=>this.Rn(i,n,s))}Rn(i,n,s){return this.He.getEntry(i,n).next(l=>{for(const h of s)h.applyToLocalView(l);return l})}bn(i,n){i.forEach((s,l)=>{for(const h of n)h.applyToLocalView(l)})}Pn(i,n){return this.He.getEntries(i,n).next(s=>this.vn(i,s).next(()=>s))}vn(i,n){return this.In.getAllMutationBatchesAffectingDocumentKeys(i,n).next(s=>this.bn(n,s))}getDocumentsMatchingQuery(i,n,s){return nt.isDocumentKey((l=n).path)&&null===l.collectionGroup&&0===l.filters.length?this.Vn(i,n.path):Hw(n)?this.Sn(i,n,s):this.Dn(i,n,s);var l}Vn(i,n){return this.An(i,new nt(n)).next(s=>{let l=eE();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}Sn(i,n,s){const l=n.collectionGroup;let h=eE();return this.Ht.getCollectionParents(i,l).next(g=>Te.forEach(g,w=>{const C=(S=n,T=w.child(l),new Bo(T,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt));var S,T;return this.Dn(i,C,s).next(S=>{S.forEach((T,k)=>{h=h.insert(T,k)})})}).next(()=>h))}Dn(i,n,s){let l,h;return this.He.getDocumentsMatchingQuery(i,n,s).next(g=>(l=g,this.In.getAllMutationBatchesAffectingQuery(i,n))).next(g=>(h=g,this.Cn(i,h,l).next(w=>{l=w;for(const C of h)for(const S of C.mutations){const T=S.key;let k=l.get(T);null==k&&(k=wn.newInvalidDocument(T),l=l.insert(T,k)),Zw(S,k,C.localWriteTime),k.isFoundDocument()||(l=l.remove(T))}}))).next(()=>(l.forEach((g,w)=>{wa(n,w)||(l=l.remove(g))}),l))}Cn(i,n,s){let l=Wt();for(const g of n)for(const w of g.mutations)w instanceof Wr&&null===s.get(w.key)&&(l=l.add(w.key));let h=s;return this.He.getEntries(i,l).next(g=>(g.forEach((w,C)=>{C.isFoundDocument()&&(h=h.insert(w,C))}),h))}}class py{constructor(i,n,s,l){this.targetId=i,this.fromCache=n,this.Nn=s,this.xn=l}static kn(i,n){let s=Wt(),l=Wt();for(const h of n.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new py(i,n.fromCache,s,l)}}class AE{$n(i){this.On=i}getDocumentsMatchingQuery(i,n,s,l){return 0===(h=n).filters.length&&null===h.limit&&null==h.startAt&&null==h.endAt&&(0===h.explicitOrderBy.length||1===h.explicitOrderBy.length&&h.explicitOrderBy[0].field.isKeyField())||s.isEqual(Et.min())?this.Fn(i,n):this.On.Pn(i,l).next(h=>{const g=this.Mn(n,h);return(Ym(n)||Wm(n))&&this.Ln(n.limitType,g,l,s)?this.Fn(i,n):(qr()<=Qu.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),zw(n)),this.On.getDocumentsMatchingQuery(i,n,s).next(w=>(g.forEach(C=>{w=w.insert(C.key,C)}),w)))});var h}Mn(i,n){let s=new Vn(ah(i));return n.forEach((l,h)=>{wa(i,h)&&(s=s.add(h))}),s}Ln(i,n,s,l){if(s.size!==n.size)return!0;const h="F"===i?n.last():n.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Fn(i,n){return qr()<=Qu.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",zw(n)),this.On.getDocumentsMatchingQuery(i,n,Et.min())}}class Ay{constructor(i,n,s,l){this.persistence=i,this.Bn=n,this.N=l,this.Un=new ni(Nt),this.qn=new pc(h=>rc(h),Kg),this.Kn=Et.min(),this.In=i.getMutationQueue(s),this.jn=i.getRemoteDocumentCache(),this.ze=i.getTargetCache(),this.Qn=new pE(this.jn,this.In,this.persistence.getIndexManager()),this.Je=i.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(i){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>i.collect(n,this.Un))}}function j0(r,i,n,s){return new Ay(r,i,n,s)}function my(r,i){return pp.apply(this,arguments)}function pp(){return(pp=(0,$.Z)(function*(r,i){const n=Ge(r);let s=n.In,l=n.Qn;const h=yield n.persistence.runTransaction("Handle user change","readonly",g=>{let w;return n.In.getAllMutationBatches(g).next(C=>(w=C,s=n.persistence.getMutationQueue(i),l=new pE(n.jn,s,n.persistence.getIndexManager()),s.getAllMutationBatches(g))).next(C=>{const S=[],T=[];let k=Wt();for(const B of w){S.push(B.batchId);for(const G of B.mutations)k=k.add(G.key)}for(const B of C){T.push(B.batchId);for(const G of B.mutations)k=k.add(G.key)}return l.Pn(g,k).next(B=>({Wn:B,removedBatchIds:S,addedBatchIds:T}))})});return n.In=s,n.Qn=l,n.Bn.$n(n.Qn),h})).apply(this,arguments)}function h1(r,i){const n=Ge(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=i.batch.keys(),h=n.jn.newChangeBuffer({trackRemovals:!0});return function(g,w,C,S){const T=C.batch,k=T.keys();let B=Te.resolve();return k.forEach(G=>{B=B.next(()=>S.getEntry(w,G)).next(q=>{const Ae=C.docVersions.get(G);gt(null!==Ae),q.version.compareTo(Ae)<0&&(T.applyToRemoteDocument(q,C),q.isValidDocument()&&S.addEntry(q,C.commitVersion))})}),B.next(()=>g.In.removeMutationBatch(w,T))}(n,s,i,h).next(()=>h.apply(s)).next(()=>n.In.performConsistencyCheck(s)).next(()=>n.Qn.Pn(s,l))})}function KT(r){const i=Ge(r);return i.persistence.runTransaction("Get last remote snapshot version","readonly",n=>i.ze.getLastRemoteSnapshotVersion(n))}function yt(r,i){const n=Ge(r),s=i.snapshotVersion;let l=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const g=n.jn.newChangeBuffer({trackRemovals:!0});l=n.Un;const w=[];i.targetChanges.forEach((S,T)=>{const k=l.get(T);if(!k)return;w.push(n.ze.removeMatchingKeys(h,S.removedDocuments,T).next(()=>n.ze.addMatchingKeys(h,S.addedDocuments,T)));const B=S.resumeToken;if(B.approximateByteSize()>0){const G=k.withResumeToken(B,s).withSequenceNumber(h.currentSequenceNumber);l=l.insert(T,G),q=k,Se=S,gt((Ae=G).resumeToken.approximateByteSize()>0),(0===q.resumeToken.approximateByteSize()||Ae.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=3e8||Se.addedDocuments.size+Se.modifiedDocuments.size+Se.removedDocuments.size>0)&&w.push(n.ze.updateTargetData(h,G))}var q,Ae,Se});let C=Zr();if(i.documentUpdates.forEach((S,T)=>{i.resolvedLimboDocuments.has(S)&&w.push(n.persistence.referenceDelegate.updateLimboDocument(h,S))}),w.push($T(h,g,i.documentUpdates,s,void 0).next(S=>{C=S})),!s.isEqual(Et.min())){const S=n.ze.getLastRemoteSnapshotVersion(h).next(T=>n.ze.setTargetsMetadata(h,h.currentSequenceNumber,s));w.push(S)}return Te.waitFor(w).next(()=>g.apply(h)).next(()=>n.Qn.vn(h,C)).next(()=>C)}).then(h=>(n.Un=l,h))}function $T(r,i,n,s,l){let h=Wt();return n.forEach(g=>h=h.add(g)),i.getEntries(r,h).next(g=>{let w=Zr();return n.forEach((C,S)=>{const T=g.get(C),k=(null==l?void 0:l.get(C))||s;S.isNoDocument()&&S.version.isEqual(Et.min())?(i.removeEntry(C,k),w=w.insert(C,S)):!T.isValidDocument()||S.version.compareTo(T.version)>0||0===S.version.compareTo(T.version)&&T.hasPendingWrites?(i.addEntry(S,k),w=w.insert(C,S)):Le("LocalStore","Ignoring outdated watch update for ",C,". Current version:",T.version," Watch version:",S.version)}),w})}function Ap(r,i){const n=Ge(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===i&&(i=-1),n.In.getNextMutationBatchAfterBatchId(s,i)))}function xh(r,i){const n=Ge(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.ze.getTargetData(s,i).next(h=>h?(l=h,Te.resolve(l)):n.ze.allocateTargetId(s).next(g=>(l=new Ml(i,g,0,s.currentSequenceNumber),n.ze.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.Un.get(s.targetId);return(null===l||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Un=n.Un.insert(s.targetId,s),n.qn.set(i,s.targetId)),s})}function Ih(r,i,n){return mE.apply(this,arguments)}function mE(){return(mE=(0,$.Z)(function*(r,i,n){const s=Ge(r),l=s.Un.get(i),h=n?"readwrite":"readwrite-primary";try{n||(yield s.persistence.runTransaction("Release target",h,g=>s.persistence.referenceDelegate.removeTarget(g,l)))}catch(g){if(!lc(g))throw g;Le("LocalStore",`Failed to update sequence numbers for target ${i}: ${g}`)}s.Un=s.Un.remove(i),s.qn.delete(l.target)})).apply(this,arguments)}function yE(r,i,n){const s=Ge(r);let l=Et.min(),h=Wt();return s.persistence.runTransaction("Execute query","readonly",g=>function(w,C,S){const T=Ge(w),k=T.qn.get(S);return void 0!==k?Te.resolve(T.Un.get(k)):T.ze.getTargetData(C,S)}(s,g,gr(i)).next(w=>{if(w)return l=w.lastLimboFreeSnapshotVersion,s.ze.getMatchingKeysForTargetId(g,w.targetId).next(C=>{h=C})}).next(()=>s.Bn.getDocumentsMatchingQuery(g,i,n?l:Et.min(),n?h:Wt())).next(w=>({documents:w,Gn:h})))}function XT(r,i){const n=Ge(r),s=Ge(n.ze),l=n.Un.get(i);return l?Promise.resolve(l.target):n.persistence.runTransaction("Get target data","readonly",h=>s.Et(h,i).next(g=>g?g.target:null))}function Q0(r){const i=Ge(r);return i.persistence.runTransaction("Get new document changes","readonly",n=>function(s,l,h){const g=Ge(s);let w=Zr(),C=_h(h);const S=kr(l),T=IDBKeyRange.lowerBound(C,!0);return S.Kt({index:hn.readTimeIndex,range:T},(k,B)=>{const G=F0(g.N,B);w=w.insert(G.key,G),C=B.readTime}).next(()=>({Tn:w,readTime:L0(C)}))}(i.jn,n,i.Kn)).then(({Tn:n,readTime:s})=>(i.Kn=s,n))}function _E(){return(_E=(0,$.Z)(function*(r){const i=Ge(r);return i.persistence.runTransaction("Synchronize last document change read time","readonly",n=>function(s){const l=kr(s);let h=Et.min();return l.Kt({index:hn.readTimeIndex,reverse:!0},(g,w,C)=>{w.readTime&&(h=L0(w.readTime)),C.done()}).next(()=>h)}(n)).then(n=>{i.Kn=n})})).apply(this,arguments)}function mp(){return(mp=(0,$.Z)(function*(r,i,n,s){const l=Ge(r);let h=Wt(),g=Zr(),w=m0();for(const T of n){const k=i.zn(T.metadata.name);T.document&&(h=h.add(k)),g=g.insert(k,i.Hn(T)),w=w.insert(k,i.Jn(T.metadata.readTime))}const C=l.jn.newChangeBuffer({trackRemovals:!0}),S=yield xh(l,(T=s,gr(rh(Ut.fromString(`__bundle__/docs/${T}`)))));var T;return l.persistence.runTransaction("Apply bundle documents","readwrite",T=>$T(T,C,g,Et.min(),w).next(k=>(C.apply(T),k)).next(k=>l.ze.removeMatchingKeysForTargetId(T,S.targetId).next(()=>l.ze.addMatchingKeys(T,h,S.targetId)).next(()=>l.Qn.vn(T,k)).next(()=>k)))})).apply(this,arguments)}function tM(r,i){return vE.apply(this,arguments)}function vE(){return(vE=(0,$.Z)(function*(r,i,n=Wt()){const s=yield xh(r,gr(ay(i.bundledQuery))),l=Ge(r);return l.persistence.runTransaction("Save named query","readwrite",h=>{const g=wi(i.readTime);if(s.snapshotVersion.compareTo(g)>=0)return l.Je.saveNamedQuery(h,i);const w=s.withResumeToken(vi.EMPTY_BYTE_STRING,g);return l.Un=l.Un.insert(w.targetId,w),l.ze.updateTargetData(h,w).next(()=>l.ze.removeMatchingKeysForTargetId(h,s.targetId)).next(()=>l.ze.addMatchingKeys(h,n,s.targetId)).next(()=>l.Je.saveNamedQuery(h,i))})})).apply(this,arguments)}class nM{constructor(i){this.N=i,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(i,n){return Te.resolve(this.Yn.get(n))}saveBundleMetadata(i,n){var s;return this.Yn.set(n.id,{id:(s=n).id,version:s.version,createTime:wi(s.createTime)}),Te.resolve()}getNamedQuery(i,n){return Te.resolve(this.Xn.get(n))}saveNamedQuery(i,n){return this.Xn.set(n.name,{name:(s=n).name,query:ay(s.bundledQuery),readTime:wi(s.readTime)}),Te.resolve();var s}}class wE{constructor(){this.Zn=new Vn(bi.ts),this.es=new Vn(bi.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(i,n){const s=new bi(i,n);this.Zn=this.Zn.add(s),this.es=this.es.add(s)}ss(i,n){i.forEach(s=>this.addReference(s,n))}removeReference(i,n){this.rs(new bi(i,n))}os(i,n){i.forEach(s=>this.removeReference(s,n))}cs(i){const n=new nt(new Ut([])),s=new bi(n,i),l=new bi(n,i+1),h=[];return this.es.forEachInRange([s,l],g=>{this.rs(g),h.push(g.key)}),h}us(){this.Zn.forEach(i=>this.rs(i))}rs(i){this.Zn=this.Zn.delete(i),this.es=this.es.delete(i)}hs(i){const n=new nt(new Ut([])),s=new bi(n,i),l=new bi(n,i+1);let h=Wt();return this.es.forEachInRange([s,l],g=>{h=h.add(g.key)}),h}containsKey(i){const n=new bi(i,0),s=this.Zn.firstAfterOrEqual(n);return null!==s&&i.isEqual(s.key)}}class bi{constructor(i,n){this.key=i,this.ls=n}static ts(i,n){return nt.comparator(i.key,n.key)||Nt(i.ls,n.ls)}static ns(i,n){return Nt(i.ls,n.ls)||nt.comparator(i.key,n.key)}}class iM{constructor(i,n){this.Ht=i,this.referenceDelegate=n,this.In=[],this.fs=1,this.ds=new Vn(bi.ts)}checkEmpty(i){return Te.resolve(0===this.In.length)}addMutationBatch(i,n,s,l){const h=this.fs;this.fs++;const g=new yh(h,n,s,l);this.In.push(g);for(const w of l)this.ds=this.ds.add(new bi(w.key,h)),this.Ht.addToCollectionParentIndex(i,w.key.path.popLast());return Te.resolve(g)}lookupMutationBatch(i,n){return Te.resolve(this.ws(n))}getNextMutationBatchAfterBatchId(i,n){const l=this._s(n+1),h=l<0?0:l;return Te.resolve(this.In.length>h?this.In[h]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(i){return Te.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(i,n){const s=new bi(n,0),l=new bi(n,Number.POSITIVE_INFINITY),h=[];return this.ds.forEachInRange([s,l],g=>{const w=this.ws(g.ls);h.push(w)}),Te.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(i,n){let s=new Vn(Nt);return n.forEach(l=>{const h=new bi(l,0),g=new bi(l,Number.POSITIVE_INFINITY);this.ds.forEachInRange([h,g],w=>{s=s.add(w.ls)})}),Te.resolve(this.gs(s))}getAllMutationBatchesAffectingQuery(i,n){const s=n.path,l=s.length+1;let h=s;nt.isDocumentKey(h)||(h=h.child(""));const g=new bi(new nt(h),0);let w=new Vn(Nt);return this.ds.forEachWhile(C=>{const S=C.key.path;return!!s.isPrefixOf(S)&&(S.length===l&&(w=w.add(C.ls)),!0)},g),Te.resolve(this.gs(w))}gs(i){const n=[];return i.forEach(s=>{const l=this.ws(s);null!==l&&n.push(l)}),n}removeMutationBatch(i,n){gt(0===this.ys(n.batchId,"removed")),this.In.shift();let s=this.ds;return Te.forEach(n.mutations,l=>{const h=new bi(l.key,n.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(i,l.key)}).next(()=>{this.ds=s})}te(i){}containsKey(i,n){const s=new bi(n,0),l=this.ds.firstAfterOrEqual(s);return Te.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(i){return Te.resolve()}ys(i,n){return this._s(i)}_s(i){return 0===this.In.length?0:i-this.In[0].batchId}ws(i){const n=this._s(i);return n<0||n>=this.In.length?null:this.In[n]}}class EE{constructor(i,n){this.Ht=i,this.ps=n,this.docs=new ni(nt.comparator),this.size=0}addEntry(i,n,s){const l=n.key,h=this.docs.get(l),g=h?h.size:0,w=this.ps(n);return this.docs=this.docs.insert(l,{document:n.clone(),size:w,readTime:s}),this.size+=w-g,this.Ht.addToCollectionParentIndex(i,l.path.popLast())}removeEntry(i){const n=this.docs.get(i);n&&(this.docs=this.docs.remove(i),this.size-=n.size)}getEntry(i,n){const s=this.docs.get(n);return Te.resolve(s?s.document.clone():wn.newInvalidDocument(n))}getEntries(i,n){let s=Zr();return n.forEach(l=>{const h=this.docs.get(l);s=s.insert(l,h?h.document.clone():wn.newInvalidDocument(l))}),Te.resolve(s)}getDocumentsMatchingQuery(i,n,s){let l=Zr();const h=new nt(n.path.child("")),g=this.docs.getIteratorFrom(h);for(;g.hasNext();){const{key:w,value:{document:C,readTime:S}}=g.getNext();if(!n.path.isPrefixOf(w.path))break;S.compareTo(s)<=0||wa(n,C)&&(l=l.insert(C.key,C.clone()))}return Te.resolve(l)}Es(i,n){return Te.forEach(this.docs,s=>n(s))}newChangeBuffer(i){return new rM(this)}getSize(i){return Te.resolve(this.size)}}class rM extends dy{constructor(i){super(),this.Se=i}applyChanges(i){const n=[];return this.changes.forEach((s,l)=>{l.document.isValidDocument()?n.push(this.Se.addEntry(i,l.document,this.getReadTime(s))):this.Se.removeEntry(s)}),Te.waitFor(n)}getFromCache(i,n){return this.Se.getEntry(i,n)}getAllFromCache(i,n){return this.Se.getEntries(i,n)}}class sM{constructor(i){this.persistence=i,this.Ts=new pc(n=>rc(n),Kg),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.Is=0,this.As=new wE,this.targetCount=0,this.Rs=Da.se()}forEachTarget(i,n){return this.Ts.forEach((s,l)=>n(l)),Te.resolve()}getLastRemoteSnapshotVersion(i){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(i){return Te.resolve(this.Is)}allocateTargetId(i){return this.highestTargetId=this.Rs.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(i,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Is&&(this.Is=n),Te.resolve()}ae(i){this.Ts.set(i.target,i);const n=i.targetId;n>this.highestTargetId&&(this.Rs=new Da(n),this.highestTargetId=n),i.sequenceNumber>this.Is&&(this.Is=i.sequenceNumber)}addTargetData(i,n){return this.ae(n),this.targetCount+=1,Te.resolve()}updateTargetData(i,n){return this.ae(n),Te.resolve()}removeTargetData(i,n){return this.Ts.delete(n.target),this.As.cs(n.targetId),this.targetCount-=1,Te.resolve()}removeTargets(i,n,s){let l=0;const h=[];return this.Ts.forEach((g,w)=>{w.sequenceNumber<=n&&null===s.get(w.targetId)&&(this.Ts.delete(g),h.push(this.removeMatchingKeysForTargetId(i,w.targetId)),l++)}),Te.waitFor(h).next(()=>l)}getTargetCount(i){return Te.resolve(this.targetCount)}getTargetData(i,n){const s=this.Ts.get(n)||null;return Te.resolve(s)}addMatchingKeys(i,n,s){return this.As.ss(n,s),Te.resolve()}removeMatchingKeys(i,n,s){this.As.os(n,s);const l=this.persistence.referenceDelegate,h=[];return l&&n.forEach(g=>{h.push(l.markPotentiallyOrphaned(i,g))}),Te.waitFor(h)}removeMatchingKeysForTargetId(i,n){return this.As.cs(n),Te.resolve()}getMatchingKeysForTargetId(i,n){const s=this.As.hs(n);return Te.resolve(s)}containsKey(i,n){return Te.resolve(this.As.containsKey(n))}}class z0{constructor(i,n){this.bs={},this.Le=new tr(0),this.Be=!1,this.Be=!0,this.referenceDelegate=i(this),this.ze=new sM(this),this.Ht=new ZT,this.He=new EE(this.Ht,s=>this.referenceDelegate.Ps(s)),this.N=new N0(n),this.Je=new nM(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(i){let n=this.bs[i.toKey()];return n||(n=new iM(this.Ht,this.referenceDelegate),this.bs[i.toKey()]=n),n}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(i,n,s){Le("MemoryPersistence","Starting transaction:",i);const l=new bE(this.Le.next());return this.referenceDelegate.vs(),s(l).next(h=>this.referenceDelegate.Vs(l).next(()=>h)).toPromise().then(h=>(l.raiseOnCommittedEvent(),h))}Ss(i,n){return Te.or(Object.values(this.bs).map(s=>()=>s.containsKey(i,n)))}}class bE extends k0{constructor(i){super(),this.currentSequenceNumber=i}}class CE{constructor(i){this.persistence=i,this.Ds=new wE,this.Cs=null}static Ns(i){return new CE(i)}get xs(){if(this.Cs)return this.Cs;throw tt()}addReference(i,n,s){return this.Ds.addReference(s,n),this.xs.delete(s.toString()),Te.resolve()}removeReference(i,n,s){return this.Ds.removeReference(s,n),this.xs.add(s.toString()),Te.resolve()}markPotentiallyOrphaned(i,n){return this.xs.add(n.toString()),Te.resolve()}removeTarget(i,n){this.Ds.cs(n.targetId).forEach(l=>this.xs.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(i,n.targetId).next(l=>{l.forEach(h=>this.xs.add(h.toString()))}).next(()=>s.removeTargetData(i,n))}vs(){this.Cs=new Set}Vs(i){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.xs,s=>{const l=nt.fromPath(s);return this.ks(i,l).next(h=>{h||n.removeEntry(l)})}).next(()=>(this.Cs=null,n.apply(i)))}updateLimboDocument(i,n){return this.ks(i,n).next(s=>{s?this.xs.delete(n.toString()):this.xs.add(n.toString())})}Ps(i){return 0}ks(i,n){return Te.or([()=>Te.resolve(this.Ds.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(i,n),()=>this.persistence.Ss(i,n)])}}function oM(r,i){return`firestore_clients_${r}_${i}`}function q0(r,i,n){let s=`firestore_mutations_${r}_${n}`;return i.isAuthenticated()&&(s+=`_${i.uid}`),s}function xE(r,i){return`firestore_targets_${r}_${i}`}class yy{constructor(i,n,s,l){this.user=i,this.batchId=n,this.state=s,this.error=l}static $s(i,n,s){const l=JSON.parse(s);let h,g="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return g&&l.error&&(g="string"==typeof l.error.message&&"string"==typeof l.error.code,g&&(h=new Re(l.error.code,l.error.message))),g?new yy(i,n,l.state,h):(Yt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${s}`),null)}Os(){const i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)}}class yp{constructor(i,n,s){this.targetId=i,this.state=n,this.error=s}static $s(i,n){const s=JSON.parse(n);let l,h="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return h&&s.error&&(h="string"==typeof s.error.message&&"string"==typeof s.error.code,h&&(l=new Re(s.error.code,s.error.message))),h?new yp(i,s.state,l):(Yt("SharedClientState",`Failed to parse target state for ID '${i}': ${n}`),null)}Os(){const i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)}}class _y{constructor(i,n){this.clientId=i,this.activeTargetIds=n}static $s(i,n){const s=JSON.parse(n);let l="object"==typeof s&&s.activeTargetIds instanceof Array,h=Xm();for(let g=0;l&&g<s.activeTargetIds.length;++g)l=o0(s.activeTargetIds[g]),h=h.add(s.activeTargetIds[g]);return l?new _y(i,h):(Yt("SharedClientState",`Failed to parse client data for instance '${i}': ${n}`),null)}}class IE{constructor(i,n){this.clientId=i,this.onlineState=n}static $s(i){const n=JSON.parse(i);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new IE(n.clientId,n.onlineState):(Yt("SharedClientState",`Failed to parse online state: ${i}`),null)}}class mc{constructor(){this.activeTargetIds=Xm()}Fs(i){this.activeTargetIds=this.activeTargetIds.add(i)}Ms(i){this.activeTargetIds=this.activeTargetIds.delete(i)}Os(){const i={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(i)}}class DE{constructor(i,n,s,l,h){this.window=i,this.Oe=n,this.persistenceKey=s,this.Ls=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new ni(Nt),this.started=!1,this.Ks=[];const g=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=h,this.js=oM(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new mc),this.Ws=new RegExp(`^firestore_clients_${g}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${g}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${g}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(w){return`firestore_bundle_loaded_${w}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(i){return!(!i||!i.localStorage)}start(){var i=this;return(0,$.Z)(function*(){const n=yield i.syncEngine.pn();for(const l of n){if(l===i.Ls)continue;const h=i.getItem(oM(i.persistenceKey,l));if(h){const g=_y.$s(l,h);g&&(i.qs=i.qs.insert(g.clientId,g))}}i.Ys();const s=i.storage.getItem(i.Hs);if(s){const l=i.Xs(s);l&&i.Zs(l)}for(const l of i.Ks)i.Us(l);i.Ks=[],i.window.addEventListener("pagehide",()=>i.shutdown()),i.started=!0})()}writeSequenceNumber(i){this.setItem(this.Qs,JSON.stringify(i))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(i){let n=!1;return this.qs.forEach((s,l)=>{l.activeTargetIds.has(i)&&(n=!0)}),n}addPendingMutation(i){this.ei(i,"pending")}updateMutationState(i,n,s){this.ei(i,n,s),this.ni(i)}addLocalQueryTarget(i){let n="not-current";if(this.isActiveQueryTarget(i)){const s=this.storage.getItem(xE(this.persistenceKey,i));if(s){const l=yp.$s(i,s);l&&(n=l.state)}}return this.si.Fs(i),this.Ys(),n}removeLocalQueryTarget(i){this.si.Ms(i),this.Ys()}isLocalQueryTarget(i){return this.si.activeTargetIds.has(i)}clearQueryState(i){this.removeItem(xE(this.persistenceKey,i))}updateQueryState(i,n,s){this.ii(i,n,s)}handleUserChange(i,n,s){n.forEach(l=>{this.ni(l)}),this.currentUser=i,s.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(i){this.ri(i)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(i){const n=this.storage.getItem(i);return Le("SharedClientState","READ",i,n),n}setItem(i,n){Le("SharedClientState","SET",i,n),this.storage.setItem(i,n)}removeItem(i){Le("SharedClientState","REMOVE",i),this.storage.removeItem(i)}Us(i){var n=this;const s=i;if(s.storageArea===this.storage){if(Le("SharedClientState","EVENT",s.key,s.newValue),s.key===this.js)return void Yt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,$.Z)(function*(){if(n.started){if(null!==s.key)if(n.Ws.test(s.key)){if(null==s.newValue){const l=n.ai(s.key);return n.ci(l,null)}{const l=n.ui(s.key,s.newValue);if(l)return n.ci(l.clientId,l)}}else if(n.Gs.test(s.key)){if(null!==s.newValue){const l=n.hi(s.key,s.newValue);if(l)return n.li(l)}}else if(n.zs.test(s.key)){if(null!==s.newValue){const l=n.fi(s.key,s.newValue);if(l)return n.di(l)}}else if(s.key===n.Hs){if(null!==s.newValue){const l=n.Xs(s.newValue);if(l)return n.Zs(l)}}else if(s.key===n.Qs){const l=function(h){let g=tr.T;if(null!=h)try{const w=JSON.parse(h);gt("number"==typeof w),g=w}catch(w){Yt("SharedClientState","Failed to read sequence number from WebStorage",w)}return g}(s.newValue);l!==tr.T&&n.sequenceNumberHandler(l)}else if(s.key===n.Js)return n.syncEngine.wi()}else n.Ks.push(s)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(i,n,s){const l=new yy(this.currentUser,i,n,s),h=q0(this.persistenceKey,this.currentUser,i);this.setItem(h,l.Os())}ni(i){const n=q0(this.persistenceKey,this.currentUser,i);this.removeItem(n)}ri(i){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:i}))}ii(i,n,s){const l=xE(this.persistenceKey,i),h=new yp(i,n,s);this.setItem(l,h.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(i){const n=this.Ws.exec(i);return n?n[1]:null}ui(i,n){const s=this.ai(i);return _y.$s(s,n)}hi(i,n){const s=this.Gs.exec(i),l=Number(s[1]);return yy.$s(new er(void 0!==s[2]?s[2]:null),l,n)}fi(i,n){const s=this.zs.exec(i),l=Number(s[1]);return yp.$s(l,n)}Xs(i){return IE.$s(i)}li(i){var n=this;return(0,$.Z)(function*(){if(i.user.uid===n.currentUser.uid)return n.syncEngine._i(i.batchId,i.state,i.error);Le("SharedClientState",`Ignoring mutation for non-active user ${i.user.uid}`)})()}di(i){return this.syncEngine.mi(i.targetId,i.state,i.error)}ci(i,n){const s=n?this.qs.insert(i,n):this.qs.remove(i),l=this.ti(this.qs),h=this.ti(s),g=[],w=[];return h.forEach(C=>{l.has(C)||g.push(C)}),l.forEach(C=>{h.has(C)||w.push(C)}),this.syncEngine.gi(g,w).then(()=>{this.qs=s})}Zs(i){this.qs.get(i.clientId)&&this.onlineStateHandler(i.onlineState)}ti(i){let n=Xm();return i.forEach((s,l)=>{n=n.unionWith(l.activeTargetIds)}),n}}class Y0{constructor(){this.yi=new mc,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(i){}updateMutationState(i,n,s){}addLocalQueryTarget(i){return this.yi.Fs(i),this.pi[i]||"not-current"}updateQueryState(i,n,s){this.pi[i]=n}removeLocalQueryTarget(i){this.yi.Ms(i)}isLocalQueryTarget(i){return this.yi.activeTargetIds.has(i)}clearQueryState(i){delete this.pi[i]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(i){return this.yi.activeTargetIds.has(i)}start(){return this.yi=new mc,Promise.resolve()}handleUserChange(i,n,s){}setOnlineState(i){}shutdown(){}writeSequenceNumber(i){}notifyBundleLoaded(){}}class W0{Ei(i){}shutdown(){}}class Dh{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(i){this.bi.push(i)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const i of this.bi)i(0)}Ri(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const i of this.bi)i(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const f1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Z0{constructor(i){this.vi=i.vi,this.Vi=i.Vi}Si(i){this.Di=i}Ci(i){this.Ni=i}onMessage(i){this.xi=i}close(){this.Vi()}send(i){this.vi(i)}ki(){this.Di()}$i(i){this.Ni(i)}Oi(i){this.xi(i)}}class aM extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId,this.Fi=(i.ssl?"https":"http")+"://"+i.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(i,n,s,l){const h=this.Bi(i,n);Le("RestConnection","Sending: ",h,s);const g={};return this.Ui(g,l),this.qi(i,h,g,s).then(w=>(Le("RestConnection","Received: ",w),w),w=>{throw fr("RestConnection",`${i} failed with error: `,w,"url: ",h,"request:",s),w})}Ki(i,n,s,l){return this.Li(i,n,s,l)}Ui(i,n){if(i["X-Goog-Api-Client"]="gl-js/ fire/"+xl,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(const s in n.authHeaders)n.authHeaders.hasOwnProperty(s)&&(i[s]=n.authHeaders[s])}Bi(i,n){return`${this.Fi}/v1/${n}:${f1[i]}`}}{constructor(i){super(i),this.forceLongPolling=i.forceLongPolling,this.autoDetectLongPolling=i.autoDetectLongPolling,this.useFetchStreams=i.useFetchStreams}qi(i,n,s,l){return new Promise((h,g)=>{const w=new Tw;w.listenOnce(Dw.COMPLETE,()=>{try{switch(w.getLastErrorCode()){case Bm.NO_ERROR:const S=w.getResponseJson();Le("Connection","XHR received:",JSON.stringify(S)),h(S);break;case Bm.TIMEOUT:Le("Connection",'RPC "'+i+'" timed out'),g(new Re(me.DEADLINE_EXCEEDED,"Request time out"));break;case Bm.HTTP_ERROR:const T=w.getStatus();if(Le("Connection",'RPC "'+i+'" failed with status:',T,"response text:",w.getResponseText()),T>0){const k=w.getResponseJson().error;if(k&&k.status&&k.message){const B=function(G){const q=G.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(q)>=0?q:me.UNKNOWN}(k.status);g(new Re(B,k.message))}else g(new Re(me.UNKNOWN,"Server responded with status "+w.getStatus()))}else g(new Re(me.UNAVAILABLE,"Connection failed."));break;default:tt()}}finally{Le("Connection",'RPC "'+i+'" completed.')}});const C=JSON.stringify(l);w.send(n,"POST",C,s,15)})}ji(i,n){const s=[this.Fi,"/","google.firestore.v1.Firestore","/",i,"/channel"],l=new zg,h=yl(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new e0({})),this.Ui(g.initMessageHeaders,n),(0,Je.uI)()||(0,Je.b$)()||(0,Je.d)()||(0,Je.w1)()||(0,Je.Mn)()||(0,Je.ru)()||(g.httpHeadersOverwriteParam="$httpHeaders");const w=s.join("");Le("Connection","Creating WebChannel: "+w,g);const C=l.createWebChannel(w,g);let S=!1,T=!1;const k=new Z0({vi:G=>{T?Le("Connection","Not sending because WebChannel is closed:",G):(S||(Le("Connection","Opening WebChannel transport."),C.open(),S=!0),Le("Connection","WebChannel sending:",G),C.send(G))},Vi:()=>C.close()}),B=(G,q,Ae)=>{G.listen(q,Se=>{try{Ae(Se)}catch(ke){setTimeout(()=>{throw ke},0)}})};return B(C,qg.EventType.OPEN,()=>{T||Le("Connection","WebChannel transport opened.")}),B(C,qg.EventType.CLOSE,()=>{T||(T=!0,Le("Connection","WebChannel transport closed"),k.$i())}),B(C,qg.EventType.ERROR,G=>{T||(T=!0,fr("Connection","WebChannel transport errored:",G),k.$i(new Re(me.UNAVAILABLE,"The operation could not be completed")))}),B(C,qg.EventType.MESSAGE,G=>{var q;if(!T){const Ae=G.data[0];gt(!!Ae);const Se=Ae,ke=Se.error||(null===(q=Se[0])||void 0===q?void 0:q.error);if(ke){Le("Connection","WebChannel received error:",ke);const We=ke.status;let Ke=function(Zt){const oi=ti[Zt];if(void 0!==oi)return Xw(oi)}(We),Xe=ke.message;void 0===Ke&&(Ke=me.INTERNAL,Xe="Unknown error status: "+We+" with message "+ke.message),T=!0,k.$i(new Re(Ke,Xe)),C.close()}else Le("Connection","WebChannel received:",Ae),k.Oi(Ae)}}),B(h,Sw.STAT_EVENT,G=>{G.stat===Cl_PROXY?Le("Connection","Detected buffering proxy"):G.stat===Cl_NOPROXY&&Le("Connection","Detected no buffering proxy")}),setTimeout(()=>{k.ki()},0),k}}function J0(){return"undefined"!=typeof window?window:null}function vy(){return"undefined"!=typeof document?document:null}function _p(r){return new iE(r,!0)}class SE{constructor(i,n,s=1e3,l=1.5,h=6e4){this.Oe=i,this.timerId=n,this.Qi=s,this.Wi=l,this.Gi=h,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(i){this.cancel();const n=Math.floor(this.zi+this.Zi()),s=Math.max(0,Date.now()-this.Ji),l=Math.max(0,n-s);l>0&&Le("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.zi} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,l,()=>(this.Ji=Date.now(),i())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class TE{constructor(i,n,s,l,h,g){this.Oe=i,this.er=s,this.nr=l,this.credentialsProvider=h,this.listener=g,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new SE(i,n)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var i=this;return(0,$.Z)(function*(){i.ar()&&(yield i.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(i){this._r(),this.stream.send(i)}dr(){var i=this;return(0,$.Z)(function*(){if(i.cr())return i.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(i,n){var s=this;return(0,$.Z)(function*(){s._r(),s.rr.cancel(),s.sr++,3!==i?s.rr.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(Yt(n.toString()),Yt("Using maximum backoff delay to prevent overloading the backend."),s.rr.Yi()):n&&n.code===me.UNAUTHENTICATED&&s.credentialsProvider.invalidateToken(),null!==s.stream&&(s.mr(),s.stream.close(),s.stream=null),s.state=i,yield s.listener.Ci(n)})()}mr(){}auth(){this.state=1;const i=this.gr(this.sr),n=this.sr;this.credentialsProvider.getToken().then(s=>{this.sr===n&&this.yr(s)},s=>{i(()=>{const l=new Re(me.UNKNOWN,"Fetching auth token failed: "+s.message);return this.pr(l)})})}yr(i){const n=this.gr(this.sr);this.stream=this.Er(i),this.stream.Si(()=>{n(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(s=>{n(()=>this.pr(s))}),this.stream.onMessage(s=>{n(()=>this.onMessage(s))})}ur(){var i=this;this.state=4,this.rr.Xi((0,$.Z)(function*(){i.state=0,i.start()}))}pr(i){return Le("PersistentStream",`close with error: ${i}`),this.stream=null,this.close(3,i)}gr(i){return n=>{this.Oe.enqueueAndForget(()=>this.sr===i?n():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lM extends TE{constructor(i,n,s,l,h){super(i,"listen_stream_connection_backoff","listen_stream_idle",n,s,h),this.N=l}Er(i){return this.nr.ji("Listen",i)}onMessage(i){this.rr.reset();const n=function(r,i){let n;if("targetChange"in i){const s="NO_CHANGE"===(C=i.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===C?1:"REMOVE"===C?2:"CURRENT"===C?3:"RESET"===C?4:tt(),l=i.targetChange.targetIds||[],h=function(C,S){return C.D?(gt(void 0===S||"string"==typeof S),vi.fromBase64String(S||"")):(gt(void 0===S||S instanceof Uint8Array),vi.fromUint8Array(S||new Uint8Array))}(r,i.targetChange.resumeToken),g=i.targetChange.cause,w=g&&function(C){const S=void 0===C.code?me.UNKNOWN:Xw(C.code);return new Re(S,C.message||"")}(g);n=new tE(s,l,h,w||null)}else if("documentChange"in i){const s=i.documentChange,l=zs(r,s.document.name),h=wi(s.document.updateTime),g=new Ln({mapValue:{fields:s.document.fields}}),w=wn.newFoundDocument(l,h,g);n=new ey(s.targetIds||[],s.removedTargetIds||[],w.key,w)}else if("documentDelete"in i){const s=i.documentDelete,l=zs(r,s.document),h=s.readTime?wi(s.readTime):Et.min(),g=wn.newNoDocument(l,h);n=new ey([],s.removedTargetIds||[],g.key,g)}else if("documentRemove"in i){const s=i.documentRemove,l=zs(r,s.document);n=new ey([],s.removedTargetIds||[],l,null)}else{if(!("filter"in i))return tt();{const s=i.filter,h=new p0(s.count||0);n=new y0(s.targetId,h)}}var C;return n}(this.N,i),s=function(l){if(!("targetChange"in l))return Et.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Et.min():h.readTime?wi(h.readTime):Et.min()}(i);return this.listener.Tr(n,s)}Ir(i){const n={};n.database=ap(this.N),n.addTarget=function(l,h){let g;const w=h.target;return g=$g(w)?{documents:x0(l,w)}:{query:qs(l,w)},g.targetId=h.targetId,h.resumeToken.approximateByteSize()>0?g.resumeToken=E0(l,h.resumeToken):h.snapshotVersion.compareTo(Et.min())>0&&(g.readTime=op(l,h.snapshotVersion.toTimestamp())),g}(this.N,i);const s=function(r,i){const n=function(s,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return tt()}}(0,i.purpose);return null==n?null:{"goog-listen-tags":n}}(0,i);s&&(n.labels=s),this.wr(n)}Ar(i){const n={};n.database=ap(this.N),n.removeTarget=i,this.wr(n)}}class uM extends TE{constructor(i,n,s,l,h){super(i,"write_stream_connection_backoff","write_stream_idle",n,s,h),this.N=l,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(i){return this.nr.ji("Write",i)}onMessage(i){if(gt(!!i.streamToken),this.lastStreamToken=i.streamToken,this.Rr){this.rr.reset();const n=function(r,i){return r&&r.length>0?(gt(void 0!==i),r.map(n=>function(s,l){let h=wi(s.updateTime?s.updateTime:l);return h.isEqual(Et.min())&&(h=wi(l)),new d0(h,s.transformResults||[])}(n,i))):[]}(i.writeResults,i.commitTime),s=wi(i.commitTime);return this.listener.vr(s,n)}return gt(!i.writeResults||0===i.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const i={};i.database=ap(this.N),this.wr(i)}Pr(i){const n={streamToken:this.lastStreamToken,writes:i.map(s=>Ea(this.N,s))};this.wr(n)}}class g1 extends class{}{constructor(i,n,s){super(),this.credentials=i,this.nr=n,this.N=s,this.Dr=!1}Cr(){if(this.Dr)throw new Re(me.FAILED_PRECONDITION,"The client has already been terminated.")}Li(i,n,s){return this.Cr(),this.credentials.getToken().then(l=>this.nr.Li(i,n,s,l)).catch(l=>{throw"FirebaseError"===l.name?(l.code===me.UNAUTHENTICATED&&this.credentials.invalidateToken(),l):new Re(me.UNKNOWN,l.toString())})}Ki(i,n,s){return this.Cr(),this.credentials.getToken().then(l=>this.nr.Ki(i,n,s,l)).catch(l=>{throw"FirebaseError"===l.name?(l.code===me.UNAUTHENTICATED&&this.credentials.invalidateToken(),l):new Re(me.UNKNOWN,l.toString())})}terminate(){this.Dr=!0}}class p1{constructor(i,n){this.asyncQueue=i,this.onlineStateHandler=n,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(i){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${i.toString()}`),this.Fr("Offline")))}set(i){this.Br(),this.Nr=0,"Online"===i&&(this.$r=!1),this.Fr(i)}Fr(i){i!==this.state&&(this.state=i,this.onlineStateHandler(i))}Mr(i){const n=`Could not reach Cloud Firestore backend. ${i}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(Yt(n),this.$r=!1):Le("OnlineStateTracker",n)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class A1{constructor(i,n,s,l,h){var g=this;this.localStore=i,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=h,this.Qr.Ei(w=>{s.enqueueAndForget((0,$.Z)(function*(){var C;Kr(g)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(C=(0,$.Z)(function*(S){const T=Ge(S);T.Kr.add(4),yield Sh(T),T.Wr.set("Unknown"),T.Kr.delete(4),yield yc(T)}),function(S){return C.apply(this,arguments)})(g))}))}),this.Wr=new p1(s,l)}}function yc(r){return ME.apply(this,arguments)}function ME(){return(ME=(0,$.Z)(function*(r){if(Kr(r))for(const i of r.jr)yield i(!0)})).apply(this,arguments)}function Sh(r){return RE.apply(this,arguments)}function RE(){return(RE=(0,$.Z)(function*(r){for(const i of r.jr)yield i(!1)})).apply(this,arguments)}function wy(r,i){const n=Ge(r);n.qr.has(i.targetId)||(n.qr.set(i.targetId,i),NE(n)?wp(n):_c(n).cr()&&kE(n,i))}function vp(r,i){const n=Ge(r),s=_c(n);n.qr.delete(i),s.cr()&&OE(n,i),0===n.qr.size&&(s.cr()?s.lr():Kr(n)&&n.Wr.set("Unknown"))}function kE(r,i){r.Gr.Y(i.targetId),_c(r).Ir(i)}function OE(r,i){r.Gr.Y(i),_c(r).Ar(i)}function wp(r){r.Gr=new BT({getRemoteKeysForTarget:i=>r.remoteSyncer.getRemoteKeysForTarget(i),Et:i=>r.qr.get(i)||null}),_c(r).start(),r.Wr.Or()}function NE(r){return Kr(r)&&!_c(r).ar()&&r.qr.size>0}function Kr(r){return 0===Ge(r).Kr.size}function Ui(r){r.Gr=void 0}function K0(r){return $r.apply(this,arguments)}function $r(){return($r=(0,$.Z)(function*(r){r.qr.forEach((i,n)=>{kE(r,i)})})).apply(this,arguments)}function FE(r,i){return PE.apply(this,arguments)}function PE(){return(PE=(0,$.Z)(function*(r,i){Ui(r),NE(r)?(r.Wr.Lr(i),wp(r)):r.Wr.set("Unknown")})).apply(this,arguments)}function $0(r,i,n){return Ey.apply(this,arguments)}function Ey(){return(Ey=(0,$.Z)(function*(r,i,n){if(r.Wr.set("Online"),i instanceof tE&&2===i.state&&i.cause)try{yield(s=(0,$.Z)(function*(l,h){const g=h.cause;for(const w of h.targetIds)l.qr.has(w)&&(yield l.remoteSyncer.rejectListen(w,g),l.qr.delete(w),l.Gr.removeTarget(w))}),function(l,h){return s.apply(this,arguments)})(r,i)}catch(s){Le("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),s),yield Ep(r,s)}else if(i instanceof ey?r.Gr.rt(i):i instanceof y0?r.Gr.ft(i):r.Gr.ct(i),!n.isEqual(Et.min()))try{const s=yield KT(r.localStore);n.compareTo(s)>=0&&(yield function(l,h){const g=l.Gr._t(h);return g.targetChanges.forEach((w,C)=>{if(w.resumeToken.approximateByteSize()>0){const S=l.qr.get(C);S&&l.qr.set(C,S.withResumeToken(w.resumeToken,h))}}),g.targetMismatches.forEach(w=>{const C=l.qr.get(w);if(!C)return;l.qr.set(w,C.withResumeToken(vi.EMPTY_BYTE_STRING,C.snapshotVersion)),OE(l,w);const S=new Ml(C.target,w,1,C.sequenceNumber);kE(l,S)}),l.remoteSyncer.applyRemoteEvent(g)}(r,n))}catch(s){Le("RemoteStore","Failed to raise snapshot:",s),yield Ep(r,s)}var s})).apply(this,arguments)}function Ep(r,i,n){return LE.apply(this,arguments)}function LE(){return(LE=(0,$.Z)(function*(r,i,n){if(!lc(i))throw i;r.Kr.add(1),yield Sh(r),r.Wr.set("Offline"),n||(n=()=>KT(r.localStore)),r.asyncQueue.enqueueRetryable((0,$.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield n(),r.Kr.delete(1),yield yc(r)}))})).apply(this,arguments)}function X0(r,i){return i().catch(n=>Ep(r,n,i))}function Th(r){return by.apply(this,arguments)}function by(){return(by=(0,$.Z)(function*(r){const i=Ge(r),n=Ma(i);let s=i.Ur.length>0?i.Ur[i.Ur.length-1].batchId:-1;for(;cM(i);)try{const l=yield Ap(i.localStore,s);if(null===l){0===i.Ur.length&&n.lr();break}s=l.batchId,m1(i,l)}catch(l){yield Ep(i,l)}eI(i)&&tI(i)})).apply(this,arguments)}function cM(r){return Kr(r)&&r.Ur.length<10}function m1(r,i){r.Ur.push(i);const n=Ma(r);n.cr()&&n.br&&n.Pr(i.mutations)}function eI(r){return Kr(r)&&!Ma(r).ar()&&r.Ur.length>0}function tI(r){Ma(r).start()}function Mh(r){return nI.apply(this,arguments)}function nI(){return(nI=(0,$.Z)(function*(r){Ma(r).Sr()})).apply(this,arguments)}function iI(r){return BE.apply(this,arguments)}function BE(){return(BE=(0,$.Z)(function*(r){const i=Ma(r);for(const n of r.Ur)i.Pr(n.mutations)})).apply(this,arguments)}function y1(r,i,n){return Cy.apply(this,arguments)}function Cy(){return(Cy=(0,$.Z)(function*(r,i,n){const s=r.Ur.shift(),l=Ia.from(s,i,n);yield X0(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),yield Th(r)})).apply(this,arguments)}function dM(r,i){return bp.apply(this,arguments)}function bp(){return(bp=(0,$.Z)(function*(r,i){var n;i&&Ma(r).br&&(yield(n=(0,$.Z)(function*(s,l){if(A0(h=l.code)&&h!==me.ABORTED){const g=s.Ur.shift();Ma(s).hr(),yield X0(s,()=>s.remoteSyncer.rejectFailedWrite(g.batchId,l)),yield Th(s)}var h}),function(s,l){return n.apply(this,arguments)})(r,i)),eI(r)&&tI(r)})).apply(this,arguments)}function VE(r,i){return xy.apply(this,arguments)}function xy(){return(xy=(0,$.Z)(function*(r,i){const n=Ge(r);i?(n.Kr.delete(2),yield yc(n)):i||(n.Kr.add(2),yield Sh(n),n.Wr.set("Unknown"))})).apply(this,arguments)}function _c(r){return r.zr||(r.zr=function(i,n,s){const l=Ge(i);return l.Cr(),new lM(n,l.nr,l.credentials,l.N,s)}(r.datastore,r.asyncQueue,{Si:K0.bind(null,r),Ci:FE.bind(null,r),Tr:$0.bind(null,r)}),r.jr.push(function(){var i=(0,$.Z)(function*(n){n?(r.zr.hr(),NE(r)?wp(r):r.Wr.set("Unknown")):(yield r.zr.stop(),Ui(r))});return function(n){return i.apply(this,arguments)}}())),r.zr}function Ma(r){return r.Hr||(r.Hr=function(i,n,s){const l=Ge(i);return l.Cr(),new uM(n,l.nr,l.credentials,l.N,s)}(r.datastore,r.asyncQueue,{Si:Mh.bind(null,r),Ci:dM.bind(null,r),Vr:iI.bind(null,r),vr:y1.bind(null,r)}),r.jr.push(function(){var i=(0,$.Z)(function*(n){n?(r.Hr.hr(),yield Th(r)):(yield r.Hr.stop(),r.Ur.length>0&&(Le("RemoteStore",`Stopping write stream with ${r.Ur.length} pending writes`),r.Ur=[]))});return function(n){return i.apply(this,arguments)}}())),r.Hr}class Iy{constructor(i,n,s,l,h){this.asyncQueue=i,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=h,this.deferred=new $n,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}static createAndSchedule(i,n,s,l,h){const g=Date.now()+s,w=new Iy(i,n,g,l,h);return w.start(s),w}start(i){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),i)}skipDelay(){return this.handleDelayElapsed()}cancel(i){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(me.CANCELLED,"Operation cancelled"+(i?": "+i:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(i=>this.deferred.resolve(i))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rh(r,i){if(Yt("AsyncQueue",`${i}: ${r}`),lc(r))return new Re(me.UNAVAILABLE,`${i}: ${r}`);throw r}class kh{constructor(i){this.comparator=i?(n,s)=>i(n,s)||nt.comparator(n.key,s.key):(n,s)=>nt.comparator(n.key,s.key),this.keyedMap=eE(),this.sortedSet=new ni(this.comparator)}static emptySet(i){return new kh(i.comparator)}has(i){return null!=this.keyedMap.get(i)}get(i){return this.keyedMap.get(i)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(i){const n=this.keyedMap.get(i);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(i){this.sortedSet.inorderTraversal((n,s)=>(i(n),!1))}add(i){const n=this.delete(i.key);return n.copy(n.keyedMap.insert(i.key,i),n.sortedSet.insert(i,null))}delete(i){const n=this.get(i);return n?this.copy(this.keyedMap.remove(i),this.sortedSet.remove(n)):this}isEqual(i){if(!(i instanceof kh)||this.size!==i.size)return!1;const n=this.sortedSet.getIterator(),s=i.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,h=s.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const i=[];return this.forEach(n=>{i.push(n.toString())}),0===i.length?"DocumentSet ()":"DocumentSet (\n  "+i.join("  \n")+"\n)"}copy(i,n){const s=new kh;return s.comparator=this.comparator,s.keyedMap=i,s.sortedSet=n,s}}class rI{constructor(){this.Jr=new ni(nt.comparator)}track(i){const n=i.doc.key,s=this.Jr.get(n);s?0!==i.type&&3===s.type?this.Jr=this.Jr.insert(n,i):3===i.type&&1!==s.type?this.Jr=this.Jr.insert(n,{type:s.type,doc:i.doc}):2===i.type&&2===s.type?this.Jr=this.Jr.insert(n,{type:2,doc:i.doc}):2===i.type&&0===s.type?this.Jr=this.Jr.insert(n,{type:0,doc:i.doc}):1===i.type&&0===s.type?this.Jr=this.Jr.remove(n):1===i.type&&2===s.type?this.Jr=this.Jr.insert(n,{type:1,doc:s.doc}):0===i.type&&1===s.type?this.Jr=this.Jr.insert(n,{type:2,doc:i.doc}):tt():this.Jr=this.Jr.insert(n,i)}Yr(){const i=[];return this.Jr.inorderTraversal((n,s)=>{i.push(s)}),i}}class Oh{constructor(i,n,s,l,h,g,w,C){this.query=i,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=h,this.fromCache=g,this.syncStateChanged=w,this.excludesMetadataChanges=C}static fromInitialDocuments(i,n,s,l){const h=[];return n.forEach(g=>{h.push({type:0,doc:g})}),new Oh(i,n,kh.emptySet(n),h,s,l,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(i){if(!(this.fromCache===i.fromCache&&this.syncStateChanged===i.syncStateChanged&&this.mutatedKeys.isEqual(i.mutatedKeys)&&oh(this.query,i.query)&&this.docs.isEqual(i.docs)&&this.oldDocs.isEqual(i.oldDocs)))return!1;const n=this.docChanges,s=i.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}class hM{constructor(){this.Xr=void 0,this.listeners=[]}}class Cp{constructor(){this.queries=new pc(i=>Qw(i),oh),this.onlineState="Unknown",this.Zr=new Set}}function Dy(r,i){return Sy.apply(this,arguments)}function Sy(){return(Sy=(0,$.Z)(function*(r,i){const n=Ge(r),s=i.query;let l=!1,h=n.queries.get(s);if(h||(l=!0,h=new hM),l)try{h.Xr=yield n.onListen(s)}catch(g){const w=Rh(g,`Initialization of query '${zw(i.query)}' failed`);return void i.onError(w)}n.queries.set(s,h),h.listeners.push(i),i.eo(n.onlineState),h.Xr&&i.no(h.Xr)&&UE(n)})).apply(this,arguments)}function Ty(r,i){return My.apply(this,arguments)}function My(){return(My=(0,$.Z)(function*(r,i){const n=Ge(r),s=i.query;let l=!1;const h=n.queries.get(s);if(h){const g=h.listeners.indexOf(i);g>=0&&(h.listeners.splice(g,1),l=0===h.listeners.length)}if(l)return n.queries.delete(s),n.onUnlisten(s)})).apply(this,arguments)}function sI(r,i){const n=Ge(r);let s=!1;for(const l of i){const g=n.queries.get(l.query);if(g){for(const w of g.listeners)w.no(l)&&(s=!0);g.Xr=l}}s&&UE(n)}function oI(r,i,n){const s=Ge(r),l=s.queries.get(i);if(l)for(const h of l.listeners)h.onError(n);s.queries.delete(i)}function UE(r){r.Zr.forEach(i=>{i.next()})}class Ry{constructor(i,n,s){this.query=i,this.so=n,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=s||{}}no(i){if(!this.options.includeMetadataChanges){const s=[];for(const l of i.docChanges)3!==l.type&&s.push(l);i=new Oh(i.query,i.docs,i.oldDocs,s,i.mutatedKeys,i.fromCache,i.syncStateChanged,!0)}let n=!1;return this.io?this.oo(i)&&(this.so.next(i),n=!0):this.ao(i,this.onlineState)&&(this.co(i),n=!0),this.ro=i,n}onError(i){this.so.error(i)}eo(i){this.onlineState=i;let n=!1;return this.ro&&!this.io&&this.ao(this.ro,i)&&(this.co(this.ro),n=!0),n}ao(i,n){return!i.fromCache||!(this.options.uo&&"Offline"!==n||i.docs.isEmpty()&&"Offline"!==n)}oo(i){return i.docChanges.length>0||!!(i.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==i.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(i){i=Oh.fromInitialDocuments(i.query,i.docs,i.mutatedKeys,i.fromCache),this.io=!0,this.so.next(i)}}class fM{constructor(i,n){this.payload=i,this.byteLength=n}ho(){return"metadata"in this.payload}}class aI{constructor(i){this.N=i}zn(i){return zs(this.N,i)}Hn(i){return i.metadata.exists?ry(this.N,i.document,!1):wn.newNoDocument(this.zn(i.metadata.name),this.Jn(i.metadata.readTime))}Jn(i){return wi(i)}}class gM{constructor(i,n,s){this.lo=i,this.localStore=n,this.N=s,this.queries=[],this.documents=[],this.progress=lI(i)}fo(i){this.progress.bytesLoaded+=i.byteLength;let n=this.progress.documentsLoaded;return i.payload.namedQuery?this.queries.push(i.payload.namedQuery):i.payload.documentMetadata?(this.documents.push({metadata:i.payload.documentMetadata}),i.payload.documentMetadata.exists||++n):i.payload.document&&(this.documents[this.documents.length-1].document=i.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}wo(i){const n=new Map,s=new aI(this.N);for(const l of i)if(l.metadata.queries){const h=s.zn(l.metadata.name);for(const g of l.metadata.queries){const w=(n.get(g)||Wt()).add(h);n.set(g,w)}}return n}complete(){var i=this;return(0,$.Z)(function*(){const n=yield function(r,i,n,s){return mp.apply(this,arguments)}(i.localStore,new aI(i.N),i.documents,i.lo.id),s=i.wo(i.documents);for(const l of i.queries)yield tM(i.localStore,l,s.get(l.name));return i.progress.taskState="Success",new gy(Object.assign({},i.progress),n)})()}}function lI(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class Nh{constructor(i){this.key=i}}class Fh{constructor(i){this.key=i}}class uI{constructor(i,n){this.query=i,this._o=n,this.mo=null,this.current=!1,this.yo=Wt(),this.mutatedKeys=Wt(),this.po=ah(i),this.Eo=new kh(this.po)}get To(){return this._o}Io(i,n){const s=n?n.Ao:new rI,l=n?n.Eo:this.Eo;let h=n?n.mutatedKeys:this.mutatedKeys,g=l,w=!1;const C=Ym(this.query)&&l.size===this.query.limit?l.last():null,S=Wm(this.query)&&l.size===this.query.limit?l.first():null;if(i.inorderTraversal((T,k)=>{const B=l.get(T),G=wa(this.query,k)?k:null,q=!!B&&this.mutatedKeys.has(B.key),Ae=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let Se=!1;B&&G?B.data.isEqual(G.data)?q!==Ae&&(s.track({type:3,doc:G}),Se=!0):this.Ro(B,G)||(s.track({type:2,doc:G}),Se=!0,(C&&this.po(G,C)>0||S&&this.po(G,S)<0)&&(w=!0)):!B&&G?(s.track({type:0,doc:G}),Se=!0):B&&!G&&(s.track({type:1,doc:B}),Se=!0,(C||S)&&(w=!0)),Se&&(G?(g=g.add(G),h=Ae?h.add(T):h.delete(T)):(g=g.delete(T),h=h.delete(T)))}),Ym(this.query)||Wm(this.query))for(;g.size>this.query.limit;){const T=Ym(this.query)?g.last():g.first();g=g.delete(T.key),h=h.delete(T.key),s.track({type:1,doc:T})}return{Eo:g,Ao:s,Ln:w,mutatedKeys:h}}Ro(i,n){return i.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(i,n,s){const l=this.Eo;this.Eo=i.Eo,this.mutatedKeys=i.mutatedKeys;const h=i.Ao.Yr();h.sort((S,T)=>function(k,B){const G=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tt()}};return G(k)-G(B)}(S.type,T.type)||this.po(S.doc,T.doc)),this.bo(s);const g=n?this.Po():[],w=0===this.yo.size&&this.current?1:0,C=w!==this.mo;return this.mo=w,0!==h.length||C?{snapshot:new Oh(this.query,i.Eo,l,h,i.mutatedKeys,0===w,C,!1),vo:g}:{vo:g}}eo(i){return this.current&&"Offline"===i?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new rI,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(i){return!this._o.has(i)&&!!this.Eo.has(i)&&!this.Eo.get(i).hasLocalMutations}bo(i){i&&(i.addedDocuments.forEach(n=>this._o=this._o.add(n)),i.modifiedDocuments.forEach(n=>{}),i.removedDocuments.forEach(n=>this._o=this._o.delete(n)),this.current=i.current)}Po(){if(!this.current)return[];const i=this.yo;this.yo=Wt(),this.Eo.forEach(s=>{this.Vo(s.key)&&(this.yo=this.yo.add(s.key))});const n=[];return i.forEach(s=>{this.yo.has(s)||n.push(new Fh(s))}),this.yo.forEach(s=>{i.has(s)||n.push(new Nh(s))}),n}So(i){this._o=i.Gn,this.yo=Wt();const n=this.Io(i.documents);return this.applyChanges(n,!0)}Do(){return Oh.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class GE{constructor(i,n,s){this.query=i,this.targetId=n,this.view=s}}class Uo{constructor(i){this.key=i,this.Co=!1}}class pM{constructor(i,n,s,l,h,g){this.localStore=i,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=g,this.No={},this.xo=new pc(w=>Qw(w),oh),this.ko=new Map,this.$o=new Set,this.Oo=new ni(nt.comparator),this.Fo=new Map,this.Mo=new wE,this.Lo={},this.Bo=new Map,this.Uo=Da.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function ky(r,i){return HE.apply(this,arguments)}function HE(){return(HE=(0,$.Z)(function*(r,i){const n=Ph(r);let s,l;const h=n.xo.get(i);if(h)s=h.targetId,n.sharedClientState.addLocalQueryTarget(s),l=h.view.Do();else{const g=yield xh(n.localStore,gr(i)),w=n.sharedClientState.addLocalQueryTarget(g.targetId);s=g.targetId,l=yield jE(n,i,s,"current"===w),n.isPrimaryClient&&wy(n.remoteStore,g)}return l})).apply(this,arguments)}function jE(r,i,n,s){return cI.apply(this,arguments)}function cI(){return(cI=(0,$.Z)(function*(r,i,n,s){r.Ko=(T,k,B)=>{return(G=(0,$.Z)(function*(q,Ae,Se,ke){let We=Ae.view.Io(Se);We.Ln&&(We=yield yE(q.localStore,Ae.query,!1).then(({documents:Zt})=>Ae.view.Io(Zt,We)));const Ke=ke&&ke.targetChanges.get(Ae.targetId),Xe=Ae.view.applyChanges(We,q.isPrimaryClient,Ke);return Ly(q,Ae.targetId,Xe.vo),Xe.snapshot}),function(q,Ae,Se,ke){return G.apply(this,arguments)})(r,T,k,B);var G};const l=yield yE(r.localStore,i,!0),h=new uI(i,l.Gn),g=h.Io(l.documents),w=hh.createSynthesizedTargetChangeForCurrentChange(n,s&&"Offline"!==r.onlineState),C=h.applyChanges(g,r.isPrimaryClient,w);Ly(r,n,C.vo);const S=new GE(i,n,h);return r.xo.set(i,S),r.ko.has(n)?r.ko.get(n).push(i):r.ko.set(n,[i]),C.snapshot})).apply(this,arguments)}function QE(r,i){return xp.apply(this,arguments)}function xp(){return(xp=(0,$.Z)(function*(r,i){const n=Ge(r),s=n.xo.get(i),l=n.ko.get(s.targetId);if(l.length>1)return n.ko.set(s.targetId,l.filter(h=>!oh(h,i))),void n.xo.delete(i);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Ih(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),vp(n.remoteStore,s.targetId),vc(n,s.targetId)}).catch(Eh))):(vc(n,s.targetId),yield Ih(n.localStore,s.targetId,!0))})).apply(this,arguments)}function Ip(){return(Ip=(0,$.Z)(function*(r,i,n){const s=Gy(r);try{const l=yield function(h,g){const w=Ge(h),C=Xn.now(),S=g.reduce((k,B)=>k.add(B.key),Wt());let T;return w.persistence.runTransaction("Locally write mutations","readwrite",k=>w.Qn.Pn(k,S).next(B=>{T=B;const G=[];for(const q of g){const Ae=kT(q,T.get(q.key));null!=Ae&&G.push(new Wr(q.key,Ae,a0(Ae.value.mapValue),En.exists(!0)))}return w.In.addMutationBatch(k,C,G,g)})).then(k=>(k.applyToLocalDocumentSet(T),{batchId:k.batchId,changes:T}))}(s.localStore,i);s.sharedClientState.addPendingMutation(l.batchId),function(h,g,w){let C=h.Lo[h.currentUser.toKey()];C||(C=new ni(Nt)),C=C.insert(g,w),h.Lo[h.currentUser.toKey()]=C}(s,l.batchId,n),yield Mn(s,l.changes),yield Th(s.remoteStore)}catch(l){const h=Rh(l,"Failed to persist write");n.reject(h)}})).apply(this,arguments)}function Oy(r,i){return zE.apply(this,arguments)}function zE(){return(zE=(0,$.Z)(function*(r,i){const n=Ge(r);try{const s=yield yt(n.localStore,i);i.targetChanges.forEach((l,h)=>{const g=n.Fo.get(h);g&&(gt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?g.Co=!0:l.modifiedDocuments.size>0?gt(g.Co):l.removedDocuments.size>0&&(gt(g.Co),g.Co=!1))}),yield Mn(n,s,i)}catch(s){yield Eh(s)}})).apply(this,arguments)}function hI(r,i,n){const s=Ge(r);if(s.isPrimaryClient&&0===n||!s.isPrimaryClient&&1===n){const l=[];s.xo.forEach((h,g)=>{const w=g.view.eo(i);w.snapshot&&l.push(w.snapshot)}),function(h,g){const w=Ge(h);w.onlineState=g;let C=!1;w.queries.forEach((S,T)=>{for(const k of T.listeners)k.eo(g)&&(C=!0)}),C&&UE(w)}(s.eventManager,i),l.length&&s.No.Tr(l),s.onlineState=i,s.isPrimaryClient&&s.sharedClientState.setOnlineState(i)}}function AM(r,i,n){return qE.apply(this,arguments)}function qE(){return(qE=(0,$.Z)(function*(r,i,n){const s=Ge(r);s.sharedClientState.updateQueryState(i,"rejected",n);const l=s.Fo.get(i),h=l&&l.key;if(h){let g=new ni(nt.comparator);g=g.insert(h,wn.newNoDocument(h,Et.min()));const w=Wt().add(h),C=new dh(Et.min(),new Map,new Vn(Nt),g,w);yield Oy(s,C),s.Oo=s.Oo.remove(h),s.Fo.delete(i),yI(s)}else yield Ih(s.localStore,i,!1).then(()=>vc(s,i,n)).catch(Eh)})).apply(this,arguments)}function fI(r,i){return Dp.apply(this,arguments)}function Dp(){return(Dp=(0,$.Z)(function*(r,i){const n=Ge(r),s=i.batch.batchId;try{const l=yield h1(n.localStore,i);Py(n,s,null),YE(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),yield Mn(n,l)}catch(l){yield Eh(l)}})).apply(this,arguments)}function gI(r,i,n){return Ny.apply(this,arguments)}function Ny(){return(Ny=(0,$.Z)(function*(r,i,n){const s=Ge(r);try{const l=yield function(h,g){const w=Ge(h);return w.persistence.runTransaction("Reject batch","readwrite-primary",C=>{let S;return w.In.lookupMutationBatch(C,g).next(T=>(gt(null!==T),S=T.keys(),w.In.removeMutationBatch(C,T))).next(()=>w.In.performConsistencyCheck(C)).next(()=>w.Qn.Pn(C,S))})}(s.localStore,i);Py(s,i,n),YE(s,i),s.sharedClientState.updateMutationState(i,"rejected",n),yield Mn(s,l)}catch(l){yield Eh(l)}})).apply(this,arguments)}function Fy(){return(Fy=(0,$.Z)(function*(r,i){const n=Ge(r);Kr(n.remoteStore)||Le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(h){const g=Ge(h);return g.persistence.runTransaction("Get highest unacknowledged batch id","readonly",w=>g.In.getHighestUnacknowledgedBatchId(w))}(n.localStore);if(-1===s)return void i.resolve();const l=n.Bo.get(s)||[];l.push(i),n.Bo.set(s,l)}catch(s){const l=Rh(s,"Initialization of waitForPendingWrites() operation failed");i.reject(l)}})).apply(this,arguments)}function YE(r,i){(r.Bo.get(i)||[]).forEach(n=>{n.resolve()}),r.Bo.delete(i)}function Py(r,i,n){const s=Ge(r);let l=s.Lo[s.currentUser.toKey()];if(l){const h=l.get(i);h&&(n?h.reject(n):h.resolve(),l=l.remove(i)),s.Lo[s.currentUser.toKey()]=l}}function vc(r,i,n=null){r.sharedClientState.removeLocalQueryTarget(i);for(const s of r.ko.get(i))r.xo.delete(s),n&&r.No.jo(s,n);r.ko.delete(i),r.isPrimaryClient&&r.Mo.cs(i).forEach(s=>{r.Mo.containsKey(s)||AI(r,s)})}function AI(r,i){r.$o.delete(i.path.canonicalString());const n=r.Oo.get(i);null!==n&&(vp(r.remoteStore,n),r.Oo=r.Oo.remove(i),r.Fo.delete(n),yI(r))}function Ly(r,i,n){for(const s of n)s instanceof Nh?(r.Mo.addReference(s.key,i),mI(r,s)):s instanceof Fh?(Le("SyncEngine","Document no longer in limbo: "+s.key),r.Mo.removeReference(s.key,i),r.Mo.containsKey(s.key)||AI(r,s.key)):tt()}function mI(r,i){const n=i.key,s=n.path.canonicalString();r.Oo.get(n)||r.$o.has(s)||(Le("SyncEngine","New document in limbo: "+n),r.$o.add(s),yI(r))}function yI(r){for(;r.$o.size>0&&r.Oo.size<r.maxConcurrentLimboResolutions;){const i=r.$o.values().next().value;r.$o.delete(i);const n=new nt(Ut.fromString(i)),s=r.Uo.next();r.Fo.set(s,new Uo(n)),r.Oo=r.Oo.insert(n,s),wy(r.remoteStore,new Ml(gr(rh(n.path)),s,2,tr.T))}}function Mn(r,i,n){return kl.apply(this,arguments)}function kl(){return(kl=(0,$.Z)(function*(r,i,n){const s=Ge(r),l=[],h=[],g=[];var w;s.xo.isEmpty()||(s.xo.forEach((w,C)=>{g.push(s.Ko(C,i,n).then(S=>{if(S){s.isPrimaryClient&&s.sharedClientState.updateQueryState(C.targetId,S.fromCache?"not-current":"current"),l.push(S);const T=py.kn(C.targetId,S);h.push(T)}}))}),yield Promise.all(g),s.No.Tr(l),yield(w=(0,$.Z)(function*(C,S){const T=Ge(C);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",k=>Te.forEach(S,B=>Te.forEach(B.Nn,G=>T.persistence.referenceDelegate.addReference(k,B.targetId,G)).next(()=>Te.forEach(B.xn,G=>T.persistence.referenceDelegate.removeReference(k,B.targetId,G)))))}catch(k){if(!lc(k))throw k;Le("LocalStore","Failed to update sequence numbers: "+k)}for(const k of S){const B=k.targetId;if(!k.fromCache){const G=T.Un.get(B),Ae=G.withLastLimboFreeSnapshotVersion(G.snapshotVersion);T.Un=T.Un.insert(B,Ae)}}}),function(C,S){return w.apply(this,arguments)})(s.localStore,h))})).apply(this,arguments)}function mM(r,i){return WE.apply(this,arguments)}function WE(){return(WE=(0,$.Z)(function*(r,i){const n=Ge(r);if(!n.currentUser.isEqual(i)){Le("SyncEngine","User change. New user:",i.toKey());const s=yield my(n.localStore,i);n.currentUser=i,(l=n).Bo.forEach(g=>{g.forEach(w=>{w.reject(new Re(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.Bo.clear(),n.sharedClientState.handleUserChange(i,s.removedBatchIds,s.addedBatchIds),yield Mn(n,s.Wn)}var l})).apply(this,arguments)}function _1(r,i){const n=Ge(r),s=n.Fo.get(i);if(s&&s.Co)return Wt().add(s.key);{let l=Wt();const h=n.ko.get(i);if(!h)return l;for(const g of h){const w=n.xo.get(g);l=l.unionWith(w.view.To)}return l}}function Sp(r,i){return ZE.apply(this,arguments)}function ZE(){return(ZE=(0,$.Z)(function*(r,i){const n=Ge(r),s=yield yE(n.localStore,i.query,!0),l=i.view.So(s);return n.isPrimaryClient&&Ly(n,i.targetId,l.vo),l})).apply(this,arguments)}function JE(r){return KE.apply(this,arguments)}function KE(){return(KE=(0,$.Z)(function*(r){const i=Ge(r);return Q0(i.localStore).then(n=>Mn(i,n))})).apply(this,arguments)}function _I(r,i,n,s){return $E.apply(this,arguments)}function $E(){return($E=(0,$.Z)(function*(r,i,n,s){const l=Ge(r),h=yield function(g,w){const C=Ge(g),S=Ge(C.In);return C.persistence.runTransaction("Lookup mutation documents","readonly",T=>S.Xt(T,w).next(k=>k?C.Qn.Pn(T,k):Te.resolve(null)))}(l.localStore,i);var w;null!==h?("pending"===n?yield Th(l.remoteStore):"acknowledged"===n||"rejected"===n?(Py(l,i,s||null),YE(l,i),w=i,Ge(Ge(l.localStore).In).te(w)):tt(),yield Mn(l,h)):Le("SyncEngine","Cannot apply mutation batch with id: "+i)})).apply(this,arguments)}function Tp(){return(Tp=(0,$.Z)(function*(r,i){const n=Ge(r);if(Ph(n),Gy(n),!0===i&&!0!==n.qo){const s=n.sharedClientState.getAllActiveQueryTargets(),l=yield XE(n,s.toArray());n.qo=!0,yield VE(n.remoteStore,!0);for(const h of l)wy(n.remoteStore,h)}else if(!1===i&&!1!==n.qo){const s=[];let l=Promise.resolve();n.ko.forEach((h,g)=>{n.sharedClientState.isLocalQueryTarget(g)?s.push(g):l=l.then(()=>(vc(n,g),Ih(n.localStore,g,!0))),vp(n.remoteStore,g)}),yield l,yield XE(n,s),function(h){const g=Ge(h);g.Fo.forEach((w,C)=>{vp(g.remoteStore,C)}),g.Mo.us(),g.Fo=new Map,g.Oo=new ni(nt.comparator)}(n),n.qo=!1,yield VE(n.remoteStore,!1)}})).apply(this,arguments)}function XE(r,i,n){return By.apply(this,arguments)}function By(){return(By=(0,$.Z)(function*(r,i,n){const s=Ge(r),l=[],h=[];for(const g of i){let w;const C=s.ko.get(g);if(C&&0!==C.length){w=yield xh(s.localStore,gr(C[0]));for(const S of C){const T=s.xo.get(S),k=yield Sp(s,T);k.snapshot&&h.push(k.snapshot)}}else{const S=yield XT(s.localStore,g);w=yield xh(s.localStore,S),yield jE(s,Mp(S),g,!1)}l.push(w)}return s.No.Tr(h),l})).apply(this,arguments)}function Mp(r){return Uw(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function eb(r){const i=Ge(r);return Ge(Ge(i.localStore).persistence).pn()}function v1(r,i,n,s){return Vy.apply(this,arguments)}function Vy(){return(Vy=(0,$.Z)(function*(r,i,n,s){const l=Ge(r);if(l.qo)Le("SyncEngine","Ignoring unexpected query state notification.");else if(l.ko.has(i))switch(n){case"current":case"not-current":{const h=yield Q0(l.localStore),g=dh.createSynthesizedRemoteEventForCurrentChange(i,"current"===n);yield Mn(l,h,g);break}case"rejected":yield Ih(l.localStore,i,!0),vc(l,i,s);break;default:tt()}})).apply(this,arguments)}function _M(r,i,n){return Uy.apply(this,arguments)}function Uy(){return(Uy=(0,$.Z)(function*(r,i,n){const s=Ph(r);if(s.qo){for(const l of i){if(s.ko.has(l)){Le("SyncEngine","Adding an already active target "+l);continue}const h=yield XT(s.localStore,l),g=yield xh(s.localStore,h);yield jE(s,Mp(h),g.targetId,!1),wy(s.remoteStore,g)}for(const l of n)s.ko.has(l)&&(yield Ih(s.localStore,l,!1).then(()=>{vp(s.remoteStore,l),vc(s,l)}).catch(Eh))}})).apply(this,arguments)}function Ph(r){const i=Ge(r);return i.remoteStore.remoteSyncer.applyRemoteEvent=Oy.bind(null,i),i.remoteStore.remoteSyncer.getRemoteKeysForTarget=_1.bind(null,i),i.remoteStore.remoteSyncer.rejectListen=AM.bind(null,i),i.No.Tr=sI.bind(null,i.eventManager),i.No.jo=oI.bind(null,i.eventManager),i}function Gy(r){const i=Ge(r);return i.remoteStore.remoteSyncer.applySuccessfulWrite=fI.bind(null,i),i.remoteStore.remoteSyncer.rejectFailedWrite=gI.bind(null,i),i}class Hy{constructor(){this.synchronizeTabs=!1}initialize(i){var n=this;return(0,$.Z)(function*(){n.N=_p(i.databaseInfo.databaseId),n.sharedClientState=n.Wo(i),n.persistence=n.Go(i),yield n.persistence.start(),n.gcScheduler=n.zo(i),n.localStore=n.Ho(i)})()}zo(i){return null}Ho(i){return j0(this.persistence,new AE,i.initialUser,this.N)}Go(i){return new z0(CE.Ns,this.N)}Wo(i){return new Y0}terminate(){var i=this;return(0,$.Z)(function*(){i.gcScheduler&&i.gcScheduler.stop(),yield i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}class jy extends Hy{constructor(i,n,s){super(),this.Jo=i,this.cacheSizeBytes=n,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(i){var n=()=>super.initialize,s=this;return(0,$.Z)(function*(){yield n().call(s,i),yield function(r){return _E.apply(this,arguments)}(s.localStore),yield s.Jo.initialize(s,i),yield Gy(s.Jo.syncEngine),yield Th(s.Jo.remoteStore),yield s.persistence.nn(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(s.localStore),Promise.resolve()))})()}Ho(i){return j0(this.persistence,new AE,i.initialUser,this.N)}zo(i){return new Tn(this.persistence.referenceDelegate.garbageCollector,i.asyncQueue)}Go(i){const n=gE(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Ei.withCacheSize(this.cacheSizeBytes):Ei.DEFAULT;return new gp(this.synchronizeTabs,n,i.clientId,s,i.asyncQueue,J0(),vy(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(i){return new Y0}}class wM extends jy{constructor(i,n){super(i,n,!1),this.Jo=i,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(i){var n=()=>super.initialize,s=this;return(0,$.Z)(function*(){yield n().call(s,i);const l=s.Jo.syncEngine;s.sharedClientState instanceof DE&&(s.sharedClientState.syncEngine={_i:_I.bind(null,l),mi:v1.bind(null,l),gi:_M.bind(null,l),pn:eb.bind(null,l),wi:JE.bind(null,l)},yield s.sharedClientState.start()),yield s.persistence.nn(function(){var h=(0,$.Z)(function*(g){yield function(r,i){return Tp.apply(this,arguments)}(s.Jo.syncEngine,g),s.gcScheduler&&(g&&!s.gcScheduler.started?s.gcScheduler.start(s.localStore):g||s.gcScheduler.stop())});return function(g){return h.apply(this,arguments)}}())})()}Wo(i){const n=J0();if(!DE.bt(n))throw new Re(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=gE(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey);return new DE(n,i.asyncQueue,s,i.clientId,i.initialUser)}}class tb{initialize(i,n){var s=this;return(0,$.Z)(function*(){s.localStore||(s.localStore=i.localStore,s.sharedClientState=i.sharedClientState,s.datastore=s.createDatastore(n),s.remoteStore=s.createRemoteStore(n),s.eventManager=s.createEventManager(n),s.syncEngine=s.createSyncEngine(n,!i.synchronizeTabs),s.sharedClientState.onlineStateHandler=l=>hI(s.syncEngine,l,1),s.remoteStore.remoteSyncer.handleCredentialChange=mM.bind(null,s.syncEngine),yield VE(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(i){return new Cp}createDatastore(i){const n=_p(i.databaseInfo.databaseId),s=new aM(i.databaseInfo);return new g1(i.credentials,s,n)}createRemoteStore(i){return n=this.localStore,s=this.datastore,l=i.asyncQueue,h=w=>hI(this.syncEngine,w,0),g=Dh.bt()?new Dh:new W0,new A1(n,s,l,h,g);var n,s,l,h,g}createSyncEngine(i,n){return function(s,l,h,g,w,C,S){const T=new pM(s,l,h,g,w,C);return S&&(T.qo=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,n)}terminate(){return(i=(0,$.Z)(function*(n){const s=Ge(n);Le("RemoteStore","RemoteStore shutting down."),s.Kr.add(5),yield Sh(s),s.Qr.shutdown(),s.Wr.set("Unknown")}),function(n){return i.apply(this,arguments)})(this.remoteStore);var i}}function nb(r,i=10240){let n=0;return{read:()=>(0,$.Z)(function*(){if(n<r.byteLength){const s={value:r.slice(n,n+i),done:!1};return n+=i,s}return{done:!0}})(),cancel:()=>(0,$.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Rp{constructor(i){this.observer=i,this.muted=!1}next(i){this.observer.next&&this.Yo(this.observer.next,i)}error(i){this.observer.error?this.Yo(this.observer.error,i):console.error("Uncaught Error in snapshot listener:",i)}Xo(){this.muted=!0}Yo(i,n){this.muted||setTimeout(()=>{this.muted||i(n)},0)}}class vI{constructor(i,n){this.Zo=i,this.N=n,this.metadata=new $n,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(s=>{s&&s.ho()?this.metadata.resolve(s.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.payload)}`))},s=>this.metadata.reject(s))}close(){return this.Zo.cancel()}getMetadata(){var i=this;return(0,$.Z)(function*(){return i.metadata.promise})()}Qo(){var i=this;return(0,$.Z)(function*(){return yield i.getMetadata(),i.ea()})()}ea(){var i=this;return(0,$.Z)(function*(){const n=yield i.na();if(null===n)return null;const s=i.ta.decode(n),l=Number(s);isNaN(l)&&i.sa(`length string (${s}) is not valid number`);const h=yield i.ia(l);return new fM(JSON.parse(h),n.length+l)})()}ra(){return this.buffer.findIndex(i=>i==="{".charCodeAt(0))}na(){var i=this;return(0,$.Z)(function*(){for(;i.ra()<0&&!(yield i.oa()););if(0===i.buffer.length)return null;const n=i.ra();n<0&&i.sa("Reached the end of bundle when a length string is expected.");const s=i.buffer.slice(0,n);return i.buffer=i.buffer.slice(n),s})()}ia(i){var n=this;return(0,$.Z)(function*(){for(;n.buffer.length<i;)(yield n.oa())&&n.sa("Reached the end of bundle when more is expected.");const s=n.ta.decode(n.buffer.slice(0,i));return n.buffer=n.buffer.slice(i),s})()}sa(i){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${i}`)}oa(){var i=this;return(0,$.Z)(function*(){const n=yield i.Zo.read();if(!n.done){const s=new Uint8Array(i.buffer.length+n.value.length);s.set(i.buffer),s.set(n.value,i.buffer.length),i.buffer=s}return n.done})()}}class EM{constructor(i){this.datastore=i,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(i){var n=this;return(0,$.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new Re(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(l=(0,$.Z)(function*(h,g){const w=Ge(h),C=ap(w.N)+"/documents",S={documents:g.map(G=>fh(w.N,G))},T=yield w.Ki("BatchGetDocuments",C,S),k=new Map;T.forEach(G=>{const q=function(r,i){return"found"in i?function(n,s){gt(!!s.found);const l=zs(n,s.found.name),h=wi(s.found.updateTime),g=new Ln({mapValue:{fields:s.found.fields}});return wn.newFoundDocument(l,h,g)}(r,i):"missing"in i?function(n,s){gt(!!s.missing),gt(!!s.readTime);const l=zs(n,s.missing),h=wi(s.readTime);return wn.newNoDocument(l,h)}(r,i):tt()}(w.N,G);k.set(q.key.toString(),q)});const B=[];return g.forEach(G=>{const q=k.get(G.toString());gt(!!q),B.push(q)}),B}),function(h,g){return l.apply(this,arguments)})(n.datastore,i);var l;return s.forEach(l=>n.recordVersion(l)),s})()}set(i,n){this.write(n.toMutation(i,this.precondition(i))),this.writtenDocs.add(i.toString())}update(i,n){try{this.write(n.toMutation(i,this.preconditionForUpdate(i)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(i.toString())}delete(i){this.write(new ch(i,this.precondition(i))),this.writtenDocs.add(i.toString())}commit(){var i=this;return(0,$.Z)(function*(){if(i.ensureCommitNotCalled(),i.lastWriteError)throw i.lastWriteError;const n=i.readVersions;var s;i.mutations.forEach(s=>{n.delete(s.key.toString())}),n.forEach((s,l)=>{const h=nt.fromPath(l);i.mutations.push(new $w(h,i.precondition(h)))}),yield(s=(0,$.Z)(function*(l,h){const g=Ge(l),w=ap(g.N)+"/documents",C={writes:h.map(S=>Ea(g.N,S))};yield g.Li("Commit",w,C)}),function(l,h){return s.apply(this,arguments)})(i.datastore,i.mutations),i.committed=!0})()}recordVersion(i){let n;if(i.isFoundDocument())n=i.version;else{if(!i.isNoDocument())throw tt();n=Et.min()}const s=this.readVersions.get(i.key.toString());if(s){if(!n.isEqual(s))throw new Re(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(i.key.toString(),n)}precondition(i){const n=this.readVersions.get(i.toString());return!this.writtenDocs.has(i.toString())&&n?En.updateTime(n):En.none()}preconditionForUpdate(i){const n=this.readVersions.get(i.toString());if(!this.writtenDocs.has(i.toString())&&n){if(n.isEqual(Et.min()))throw new Re(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return En.updateTime(n)}return En.exists(!0)}write(i){this.ensureCommitNotCalled(),this.mutations.push(i)}ensureCommitNotCalled(){}}class wI{constructor(i,n,s,l){this.asyncQueue=i,this.datastore=n,this.updateFunction=s,this.deferred=l,this.aa=5,this.rr=new SE(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var i=this;this.rr.Xi((0,$.Z)(function*(){const n=new EM(i.datastore),s=i.ua(n);s&&s.then(l=>{i.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{i.deferred.resolve(l)}).catch(h=>{i.ha(h)}))}).catch(l=>{i.ha(l)})}))}ua(i){try{const n=this.updateFunction(i);return!tc(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ha(i){this.aa>0&&this.la(i)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(i)}la(i){if("FirebaseError"===i.name){const n=i.code;return"aborted"===n||"failed-precondition"===n||!A0(n)}return!1}}class EI{constructor(i,n,s){var l=this;this.credentials=i,this.asyncQueue=n,this.databaseInfo=s,this.user=er.UNAUTHENTICATED,this.clientId=Mw.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(n,function(){var h=(0,$.Z)(function*(g){Le("FirestoreClient","Received user=",g.uid),yield l.credentialListener(g),l.user=g});return function(g){return h.apply(this,arguments)}}())}getConfiguration(){var i=this;return(0,$.Z)(function*(){return{asyncQueue:i.asyncQueue,databaseInfo:i.databaseInfo,clientId:i.clientId,credentials:i.credentials,initialUser:i.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(i){this.credentialListener=i}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var i=this;this.asyncQueue.enterRestrictedMode();const n=new $n;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,$.Z)(function*(){try{i.onlineComponents&&(yield i.onlineComponents.terminate()),i.offlineComponents&&(yield i.offlineComponents.terminate()),i.credentials.shutdown(),n.resolve()}catch(s){const l=Rh(s,"Failed to shutdown persistence");n.reject(l)}})),n.promise}}function bI(r,i){return ib.apply(this,arguments)}function ib(){return(ib=(0,$.Z)(function*(r,i){r.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const n=yield r.getConfiguration();yield i.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(function(){var l=(0,$.Z)(function*(h){s.isEqual(h)||(yield my(i.localStore,h),s=h)});return function(h){return l.apply(this,arguments)}}()),i.persistence.setDatabaseDeletedListener(()=>r.terminate()),r.offlineComponents=i})).apply(this,arguments)}function rb(r,i){return sb.apply(this,arguments)}function sb(){return(sb=(0,$.Z)(function*(r,i){r.asyncQueue.verifyOperationInProgress();const n=yield Qy(r);Le("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield i.initialize(n,s),r.setCredentialChangeListener(l=>{return(h=(0,$.Z)(function*(g,w){const C=Ge(g);C.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const S=Kr(C);C.Kr.add(3),yield Sh(C),S&&C.Wr.set("Unknown"),yield C.remoteSyncer.handleCredentialChange(w),C.Kr.delete(3),yield yc(C)}),function(g,w){return h.apply(this,arguments)})(i.remoteStore,l);var h}),r.onlineComponents=i})).apply(this,arguments)}function Qy(r){return zy.apply(this,arguments)}function zy(){return(zy=(0,$.Z)(function*(r){return r.offlineComponents||(Le("FirestoreClient","Using default OfflineComponentProvider"),yield bI(r,new Hy)),r.offlineComponents})).apply(this,arguments)}function kp(r){return qy.apply(this,arguments)}function qy(){return(qy=(0,$.Z)(function*(r){return r.onlineComponents||(Le("FirestoreClient","Using default OnlineComponentProvider"),yield rb(r,new tb)),r.onlineComponents})).apply(this,arguments)}function CI(r){return Qy(r).then(i=>i.persistence)}function ob(r){return Qy(r).then(i=>i.localStore)}function xI(r){return kp(r).then(i=>i.remoteStore)}function Yy(r){return kp(r).then(i=>i.syncEngine)}function Op(r){return II.apply(this,arguments)}function II(){return(II=(0,$.Z)(function*(r){const i=yield kp(r),n=i.eventManager;return n.onListen=ky.bind(null,i.syncEngine),n.onUnlisten=QE.bind(null,i.syncEngine),n})).apply(this,arguments)}function bM(r,i,n={}){const s=new $n;return r.asyncQueue.enqueueAndForget((0,$.Z)(function*(){return function(l,h,g,w,C){const S=new Rp({next:k=>{h.enqueueAndForget(()=>Ty(l,T));const B=k.docs.has(g);!B&&k.fromCache?C.reject(new Re(me.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&k.fromCache&&w&&"server"===w.source?C.reject(new Re(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):C.resolve(k)},error:k=>C.reject(k)}),T=new Ry(rh(g.path),S,{includeMetadataChanges:!0,uo:!0});return Dy(l,T)}(yield Op(r),r.asyncQueue,i,n,s)})),s.promise}function CM(r,i,n={}){const s=new $n;return r.asyncQueue.enqueueAndForget((0,$.Z)(function*(){return function(l,h,g,w,C){const S=new Rp({next:k=>{h.enqueueAndForget(()=>Ty(l,T)),k.fromCache&&"server"===w.source?C.reject(new Re(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):C.resolve(k)},error:k=>C.reject(k)}),T=new Ry(g,S,{includeMetadataChanges:!0,uo:!0});return Dy(l,T)}(yield Op(r),r.asyncQueue,i,n,s)})),s.promise}class IM{constructor(i,n,s,l,h,g,w,C){this.databaseId=i,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=h,this.forceLongPolling=g,this.autoDetectLongPolling=w,this.useFetchStreams=C}}class Np{constructor(i,n){this.projectId=i,this.database=n||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(i){return i instanceof Np&&i.projectId===this.projectId&&i.database===this.database}}const DM=new Map;function DI(r,i,n){if(!n)throw new Re(me.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${i}.`)}function SI(r,i,n,s){if(!0===i&&!0===s)throw new Re(me.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function TI(r){if(!nt.isDocumentKey(r))throw new Re(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function MI(r){if(nt.isDocumentKey(r))throw new Re(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Wy(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const i=function(n){if(n.constructor){const s=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(s&&s.length>1)return s[1]}return null}(r);return i?`a custom ${i} object`:"an object"}}return"function"==typeof r?"a function":tt()}function Gt(r,i){if("_delegate"in r&&(r=r._delegate),!(r instanceof i)){if(i.name===r.constructor.name)throw new Re(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wy(r);throw new Re(me.INVALID_ARGUMENT,`Expected type '${i.name}', but it was: ${n}`)}}return r}function SM(r,i){if(i<=0)throw new Re(me.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${i}.`)}class TM{constructor(i){var n;if(void 0===i.host){if(void 0!==i.ssl)throw new Re(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=i.host,this.ssl=null===(n=i.ssl)||void 0===n||n;if(this.credentials=i.credentials,this.ignoreUndefinedProperties=!!i.ignoreUndefinedProperties,void 0===i.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==i.cacheSizeBytes&&i.cacheSizeBytes<1048576)throw new Re(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=i.cacheSizeBytes}this.experimentalForceLongPolling=!!i.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!i.experimentalAutoDetectLongPolling,this.useFetchStreams=!!i.useFetchStreams,SI("experimentalForceLongPolling",i.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling)}isEqual(i){return this.host===i.host&&this.ssl===i.ssl&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties&&this.useFetchStreams===i.useFetchStreams}}class Fp{constructor(i,n){this._credentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TM({}),this._settingsFrozen=!1,i instanceof Np?this._databaseId=i:(this._app=i,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new Re(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Np(s.options.projectId)}(i))}get app(){if(!this._app)throw new Re(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(i){if(this._settingsFrozen)throw new Re(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TM(i),void 0!==i.credentials&&(this._credentials=function(n){if(!n)return new pT;switch(n.type){case"gapi":const s=n.client;return gt(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new r0(s,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new Re(me.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(i.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const n=DM.get(i);n&&(Le("ComponentProvider","Removing Datastore"),DM.delete(i),n.terminate())}(this),Promise.resolve()}}class fn{constructor(i,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=i}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(i){return new fn(this.firestore,i,this._key)}}class Ar{constructor(i,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=i}withConverter(i){return new Ar(this.firestore,i,this._query)}}class Ra extends Ar{constructor(i,n,s){super(i,n,rh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const i=this._path.popLast();return i.isEmpty()?null:new fn(this.firestore,null,new nt(i))}withConverter(i){return new Ra(this.firestore,i,this._path)}}function RM(r,i,...n){if(r=(0,Je.m9)(r),DI("collection","path",i),r instanceof Fp){const s=Ut.fromString(i,...n);return MI(s),new Ra(r,null,s)}{if(!(r instanceof fn||r instanceof Ra))throw new Re(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ut.fromString(i,...n));return MI(s),new Ra(r.firestore,null,s)}}function Zy(r,i,...n){if(r=(0,Je.m9)(r),1===arguments.length&&(i=Mw.I()),DI("doc","path",i),r instanceof Fp){const s=Ut.fromString(i,...n);return TI(s),new fn(r,null,new nt(s))}{if(!(r instanceof fn||r instanceof Ra))throw new Re(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ut.fromString(i,...n));return TI(s),new fn(r.firestore,r instanceof Ra?r.converter:null,new nt(s))}}function kM(r,i){return r=(0,Je.m9)(r),i=(0,Je.m9)(i),(r instanceof fn||r instanceof Ra)&&(i instanceof fn||i instanceof Ra)&&r.firestore===i.firestore&&r.path===i.path&&r.converter===i.converter}function RI(r,i){return r=(0,Je.m9)(r),i=(0,Je.m9)(i),r instanceof Ar&&i instanceof Ar&&r.firestore===i.firestore&&oh(r._query,i._query)&&r.converter===i.converter}class ab{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new SE(this,"async_queue_retry"),this.Ea=()=>{const n=vy();n&&Le("AsyncQueue","Visibility state changed to "+n.visibilityState),this.rr.tr()};const i=vy();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(i){this.enqueue(i)}enqueueAndForgetEvenWhileRestricted(i){this.Ta(),this.Ia(i)}enterRestrictedMode(i){if(!this.wa){this.wa=!0,this.ya=i||!1;const n=vy();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Ea)}}enqueue(i){if(this.Ta(),this.wa)return new Promise(()=>{});const n=new $n;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(i().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(i){this.enqueueAndForget(()=>(this.da.push(i),this.Aa()))}Aa(){var i=this;return(0,$.Z)(function*(){if(0!==i.da.length){try{yield i.da[0](),i.da.shift(),i.rr.reset()}catch(n){if(!lc(n))throw n;Le("AsyncQueue","Operation failed with retryable error: "+n)}i.da.length>0&&i.rr.Xi(()=>i.Aa())}})()}Ia(i){const n=this.fa.then(()=>(this.ga=!0,i().catch(s=>{throw this.ma=s,this.ga=!1,Yt("INTERNAL UNHANDLED ERROR: ",function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),h}(s)),s}).then(s=>(this.ga=!1,s))));return this.fa=n,n}enqueueAfterDelay(i,n,s){this.Ta(),this.pa.indexOf(i)>-1&&(n=0);const l=Iy.createAndSchedule(this,i,n,s,h=>this.Ra(h));return this._a.push(l),l}Ta(){this.ma&&tt()}verifyOperationInProgress(){}ba(){var i=this;return(0,$.Z)(function*(){let n;do{n=i.fa,yield n}while(n!==i.fa)})()}Pa(i){for(const n of this._a)if(n.timerId===i)return!0;return!1}va(i){return this.ba().then(()=>{this._a.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this._a)if(n.skipDelay(),"all"!==i&&n.timerId===i)break;return this.ba()})}Va(i){this.pa.push(i)}Ra(i){const n=this._a.indexOf(i);this._a.splice(n,1)}}function Ol(r){return function(i,n){if("object"!=typeof i||null===i)return!1;const s=i;for(const l of["next","error","complete"])if(l in s&&"function"==typeof s[l])return!0;return!1}(r)}class kI{constructor(){this._progressObserver={},this._taskCompletionResolver=new $n,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(i,n,s){this._progressObserver={next:i,error:n,complete:s}}catch(i){return this._taskCompletionResolver.promise.catch(i)}then(i,n){return this._taskCompletionResolver.promise.then(i,n)}_completeWith(i){this._updateProgress(i),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(i)}_failWith(i){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(i),this._taskCompletionResolver.reject(i)}_updateProgress(i){this._lastProgress=i,this._progressObserver.next&&this._progressObserver.next(i)}}class Un extends Fp{constructor(i,n){super(i,n),this.type="firestore",this._queue=new ab,this._persistenceKey="name"in i?i.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||lb(this),this._firestoreClient.terminate()}}function ri(r){return r._firestoreClient||lb(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function lb(r){var i;const n=r._freezeSettings(),s=(h=(null===(i=r._app)||void 0===i?void 0:i.options.appId)||"",new IM(r._databaseId,h,r._persistenceKey,(w=n).host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,w.useFetchStreams));var h,w;r._firestoreClient=new EI(r._credentials,r._queue,s)}function Pp(r,i,n){const s=new $n;return r.asyncQueue.enqueue((0,$.Z)(function*(){try{yield bI(r,n),yield rb(r,i),s.resolve()}catch(l){if(!("FirebaseError"===(h=l).name?h.code===me.FAILED_PRECONDITION||h.code===me.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw l;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),s.reject(l)}var h})).then(()=>s.promise)}function PI(r){if(r._initialized||r._terminated)throw new Re(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Nl{constructor(...i){for(let n=0;n<i.length;++n)if(0===i[n].length)throw new Re(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bi(i)}isEqual(i){return this._internalPath.isEqual(i._internalPath)}}class ws{constructor(i){this._byteString=i}static fromBase64String(i){try{return new ws(vi.fromBase64String(i))}catch(n){throw new Re(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(i){return new ws(vi.fromUint8Array(i))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(i){return this._byteString.isEqual(i._byteString)}}class wc{constructor(i){this._methodName=i}}class ub{constructor(i,n){if(!isFinite(i)||i<-90||i>90)throw new Re(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+i);if(!isFinite(n)||n<-180||n>180)throw new Re(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=i,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(i){return this._lat===i._lat&&this._long===i._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(i){return Nt(this._lat,i._lat)||Nt(this._long,i._long)}}const F1=/^__.*__$/;class FM{constructor(i,n,s){this.data=i,this.fieldMask=n,this.fieldTransforms=s}toMutation(i,n){return null!==this.fieldMask?new Wr(i,this.data,this.fieldMask,n,this.fieldTransforms):new sp(i,this.data,n,this.fieldTransforms)}}class PM{constructor(i,n,s){this.data=i,this.fieldMask=n,this.fieldTransforms=s}toMutation(i,n){return new Wr(i,this.data,this.fieldMask,n,this.fieldTransforms)}}function cb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tt()}}class Ky{constructor(i,n,s,l,h,g){this.settings=i,this.databaseId=n,this.N=s,this.ignoreUndefinedProperties=l,void 0===h&&this.Sa(),this.fieldTransforms=h||[],this.fieldMask=g||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(i){return new Ky(Object.assign(Object.assign({},this.settings),i),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(i){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(i),l=this.Ca({path:s,xa:!1});return l.ka(i),l}$a(i){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(i),l=this.Ca({path:s,xa:!1});return l.Sa(),l}Oa(i){return this.Ca({path:void 0,xa:!0})}Fa(i){return Lp(i,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(i){return void 0!==this.fieldMask.find(n=>i.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>i.isPrefixOf(n.field))}Sa(){if(this.path)for(let i=0;i<this.path.length;i++)this.ka(this.path.get(i))}ka(i){if(0===i.length)throw this.Fa("Document fields must not be empty");if(cb(this.Da)&&F1.test(i))throw this.Fa('Document fields cannot begin and end with "__"')}}class P1{constructor(i,n,s){this.databaseId=i,this.ignoreUndefinedProperties=n,this.N=s||_p(i)}Ba(i,n,s,l=!1){return new Ky({Da:i,methodName:n,La:s,path:Bi.emptyPath(),xa:!1,Ma:l},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Lh(r){const i=r._freezeSettings(),n=_p(r._databaseId);return new P1(r._databaseId,!!i.ignoreUndefinedProperties,n)}function $y(r,i,n,s,l,h={}){const g=r.Ba(h.merge||h.mergeFields?2:0,i,n,l);t_("Data must be an object, but it was:",g,s);const w=BI(s,g);let C,S;if(h.merge)C=new Xd(g.fieldMask),S=g.fieldTransforms;else if(h.mergeFields){const T=[];for(const k of h.mergeFields){const B=n_(i,k,n);if(!g.contains(B))throw new Re(me.INVALID_ARGUMENT,`Field '${B}' is specified in your field mask but missing from your input data.`);VI(T,B)||T.push(B)}C=new Xd(T),S=g.fieldTransforms.filter(k=>C.covers(k.field))}else C=null,S=g.fieldTransforms;return new FM(new Ln(w),C,S)}class Fl extends wc{_toFieldTransform(i){if(2!==i.Da)throw i.Fa(1===i.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return i.fieldMask.push(i.path),null}isEqual(i){return i instanceof Fl}}function LI(r,i,n){return new Ky({Da:3,La:i.settings.La,methodName:r._methodName,xa:n},i.databaseId,i.N,i.ignoreUndefinedProperties)}class db extends wc{_toFieldTransform(i){return new rp(i.path,new lh)}isEqual(i){return i instanceof db}}class LM extends wc{constructor(i,n){super(i),this.Ua=n}_toFieldTransform(i){const n=LI(this,i,!0),s=this.Ua.map(h=>Ec(h,n)),l=new oc(s);return new rp(i.path,l)}isEqual(i){return this===i}}class hb extends wc{constructor(i,n){super(i),this.Ua=n}_toFieldTransform(i){const n=LI(this,i,!0),s=this.Ua.map(h=>Ec(h,n)),l=new uh(s);return new rp(i.path,l)}isEqual(i){return this===i}}class BM extends wc{constructor(i,n){super(i),this.qa=n}_toFieldTransform(i){const n=new np(i.N,qw(i.N,this.qa));return new rp(i.path,n)}isEqual(i){return this===i}}function mr(r,i,n,s){const l=r.Ba(1,i,n);t_("Data must be an object, but it was:",l,s);const h=[],g=Ln.empty();Dl(s,(C,S)=>{const T=i_(i,C,n);S=(0,Je.m9)(S);const k=l.$a(T);if(S instanceof Fl)h.push(T);else{const B=Ec(S,k);null!=B&&(h.push(T),g.set(T,B))}});const w=new Xd(h);return new PM(g,w,l.fieldTransforms)}function fb(r,i,n,s,l,h){const g=r.Ba(1,i,n),w=[n_(i,s,n)],C=[l];if(h.length%2!=0)throw new Re(me.INVALID_ARGUMENT,`Function ${i}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let B=0;B<h.length;B+=2)w.push(n_(i,h[B])),C.push(h[B+1]);const S=[],T=Ln.empty();for(let B=w.length-1;B>=0;--B)if(!VI(S,w[B])){const G=w[B];let q=C[B];q=(0,Je.m9)(q);const Ae=g.$a(G);if(q instanceof Fl)S.push(G);else{const Se=Ec(q,Ae);null!=Se&&(S.push(G),T.set(G,Se))}}const k=new Xd(S);return new PM(T,k,g.fieldTransforms)}function Xy(r,i,n,s=!1){return Ec(n,r.Ba(s?4:3,i))}function Ec(r,i){if(e_(r=(0,Je.m9)(r)))return t_("Unsupported field value:",i,r),BI(r,i);if(r instanceof wc)return function(n,s){if(!cb(s.Da))throw s.Fa(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Fa(`${n._methodName}() is not currently supported inside arrays`);const l=n._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(r,i),null;if(void 0===r&&i.ignoreUndefinedProperties)return null;if(i.path&&i.fieldMask.push(i.path),r instanceof Array){if(i.settings.xa&&4!==i.Da)throw i.Fa("Nested arrays are not supported");return function(n,s){const l=[];let h=0;for(const g of n){let w=Ec(g,s.Oa(h));null==w&&(w={nullValue:"NULL_VALUE"}),l.push(w),h++}return{arrayValue:{values:l}}}(r,i)}return function(n,s){if(null===(n=(0,Je.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return qw(s.N,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const l=Xn.fromDate(n);return{timestampValue:op(s.N,l)}}if(n instanceof Xn){const l=new Xn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:op(s.N,l)}}if(n instanceof ub)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ws)return{bytesValue:E0(s.N,n._byteString)};if(n instanceof fn){const l=s.databaseId,h=n.firestore._databaseId;if(!h.isEqual(l))throw s.Fa(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ny(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s.Fa(`Unsupported field value: ${Wy(n)}`)}(r,i)}function BI(r,i){const n={};return kw(r)?i.path&&i.path.length>0&&i.fieldMask.push(i.path):Dl(r,(s,l)=>{const h=Ec(l,i.Na(s));null!=h&&(n[s]=h)}),{mapValue:{fields:n}}}function e_(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Xn||r instanceof ub||r instanceof ws||r instanceof fn||r instanceof wc)}function t_(r,i,n){if(!e_(n)||"object"!=typeof(s=n)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=Wy(n);throw i.Fa("an object"===s?r+" a custom object":r+" "+s)}var s}function n_(r,i,n){if((i=(0,Je.m9)(i))instanceof Nl)return i._internalPath;if("string"==typeof i)return i_(r,i);throw Lp("Field path arguments must be of type string or FieldPath.",r,!1,void 0,n)}const VM=new RegExp("[~\\*/\\[\\]]");function i_(r,i,n){if(i.search(VM)>=0)throw Lp(`Invalid field path (${i}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Nl(...i.split("."))._internalPath}catch(s){throw Lp(`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Lp(r,i,n,s,l){const h=s&&!s.isEmpty(),g=void 0!==l;let w=`Function ${i}() called with invalid data`;n&&(w+=" (via `toFirestore()`)"),w+=". ";let C="";return(h||g)&&(C+=" (found",h&&(C+=` in field ${s}`),g&&(C+=` in document ${l}`),C+=")"),new Re(me.INVALID_ARGUMENT,w+r+C)}function VI(r,i){return r.some(n=>n.isEqual(i))}class Bp{constructor(i,n,s,l,h){this._firestore=i,this._userDataWriter=n,this._key=s,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const i=new gb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(i)}return this._userDataWriter.convertValue(this._document.data.value)}}get(i){if(this._document){const n=this._document.data.field(Vp("DocumentSnapshot.get",i));if(null!==n)return this._userDataWriter.convertValue(n)}}}class gb extends Bp{data(){return super.data()}}function Vp(r,i){return"string"==typeof i?i_(r,i):i instanceof Nl?i._internalPath:i._delegate._internalPath}class Pl{constructor(i,n){this.hasPendingWrites=i,this.fromCache=n}isEqual(i){return this.hasPendingWrites===i.hasPendingWrites&&this.fromCache===i.fromCache}}class $s extends Bp{constructor(i,n,s,l,h,g){super(i,n,s,l,g),this._firestore=i,this._firestoreImpl=i,this.metadata=h}exists(){return super.exists()}data(i={}){if(this._document){if(this._converter){const n=new Up(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,i)}return this._userDataWriter.convertValue(this._document.data.value,i.serverTimestamps)}}get(i,n={}){if(this._document){const s=this._document.data.field(Vp("DocumentSnapshot.get",i));if(null!==s)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Up extends $s{data(i={}){return super.data(i)}}class Ci{constructor(i,n,s,l){this._firestore=i,this._userDataWriter=n,this._snapshot=l,this.metadata=new Pl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const i=[];return this.forEach(n=>i.push(n)),i}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(i,n){this._snapshot.docs.forEach(s=>{i.call(n,new Up(this._firestore,this._userDataWriter,s.key,s,new Pl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(i={}){const n=!!i.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Re(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let h=0;return s._snapshot.docChanges.map(g=>({type:"added",doc:new Up(s._firestore,s._userDataWriter,g.doc.key,g.doc,new Pl(s._snapshot.mutatedKeys.has(g.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:h++}))}{let h=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(g=>l||3!==g.type).map(g=>{const w=new Up(s._firestore,s._userDataWriter,g.doc.key,g.doc,new Pl(s._snapshot.mutatedKeys.has(g.doc.key),s._snapshot.fromCache),s.query.converter);let C=-1,S=-1;return 0!==g.type&&(C=h.indexOf(g.doc.key),h=h.delete(g.doc.key)),1!==g.type&&(h=h.add(g.doc),S=h.indexOf(g.doc.key)),{type:UM(g.type),doc:w,oldIndex:C,newIndex:S}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function UM(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tt()}}function GM(r,i){return r instanceof $s&&i instanceof $s?r._firestore===i._firestore&&r._key.isEqual(i._key)&&(null===r._document?null===i._document:r._document.isEqual(i._document))&&r._converter===i._converter:r instanceof Ci&&i instanceof Ci&&r._firestore===i._firestore&&RI(r.query,i.query)&&r.metadata.isEqual(i.metadata)&&r._snapshot.isEqual(i._snapshot)}function UI(r){if(Wm(r)&&0===r.explicitOrderBy.length)throw new Re(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class r_{}function Ll(r,...i){for(const n of i)r=n._apply(r);return r}class HM extends r_{constructor(i,n,s){super(),this.Ka=i,this.ja=n,this.Qa=s,this.type="where"}_apply(i){const n=Lh(i.firestore),s=function(l,h,g,w,C,S,T){let k;if(C.isKeyField()){if("array-contains"===S||"array-contains-any"===S)throw new Re(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on FieldPath.documentId().`);if("in"===S||"not-in"===S){Bh(T,S);const G=[];for(const q of T)G.push(yb(w,l,q));k={arrayValue:{values:G}}}else k=yb(w,l,T)}else"in"!==S&&"not-in"!==S&&"array-contains-any"!==S||Bh(T,S),k=Xy(g,"where",T,"in"===S||"not-in"===S);const B=Tr.create(C,S,k);return function(G,q){if(q.v()){const Se=Gw(G);if(null!==Se&&!Se.isEqual(q.field))throw new Re(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Se.toString()}' and '${q.field.toString()}'`);const ke=sc(G);null!==ke&&s_(0,q.field,ke)}const Ae=function(Se,ke){for(const We of Se.filters)if(ke.indexOf(We.op)>=0)return We.op;return null}(G,function(Se){switch(Se){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(q.op));if(null!==Ae)throw new Re(me.INVALID_ARGUMENT,Ae===q.op?`Invalid query. You cannot use more than one '${q.op.toString()}' filter.`:`Invalid query. You cannot use '${q.op.toString()}' filters with '${Ae.toString()}' filters.`)}(l,B),B}(i._query,0,n,i.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Ar(i.firestore,i.converter,function(l,h){const g=l.filters.concat([h]);return new Bo(l.path,l.collectionGroup,l.explicitOrderBy.slice(),g,l.limit,l.limitType,l.startAt,l.endAt)}(i._query,s))}}class L1 extends r_{constructor(i,n){super(),this.Ka=i,this.Wa=n,this.type="orderBy"}_apply(i){const n=function(s,l,h){if(null!==s.startAt)throw new Re(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Re(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const g=new Tl(l,h);return function(w,C){if(null===sc(w)){const S=Gw(w);null!==S&&s_(0,S,C.field)}}(s,g),g}(i._query,this.Ka,this.Wa);return new Ar(i.firestore,i.converter,function(s,l){const h=s.explicitOrderBy.concat([l]);return new Bo(s.path,s.collectionGroup,h,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(i._query,n))}}class pb extends r_{constructor(i,n,s){super(),this.type=i,this.Ga=n,this.za=s}_apply(i){return new Ar(i.firestore,i.converter,jw(i._query,this.Ga,this.za))}}class Ab extends r_{constructor(i,n,s){super(),this.type=i,this.Ha=n,this.Ja=s}_apply(i){const n=HI(i,this.type,this.Ha,this.Ja);return new Ar(i.firestore,i.converter,(l=n,new Bo((s=i._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,l,s.endAt)));var s,l}}class mb extends r_{constructor(i,n,s){super(),this.type=i,this.Ha=n,this.Ja=s}_apply(i){const n=HI(i,this.type,this.Ha,this.Ja);return new Ar(i.firestore,i.converter,(l=n,new Bo((s=i._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,l)));var s,l}}function HI(r,i,n,s){if(n[0]=(0,Je.m9)(n[0]),n[0]instanceof Bp)return function(l,h,g,w,C){if(!w)throw new Re(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const S=[];for(const T of sh(l))if(T.field.isKeyField())S.push(Jg(h,w.key));else{const k=w.data.field(T.field);if(Ow(k))throw new Re(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===k){const B=T.field.canonicalString();throw new Re(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${B}' (used as the orderBy) does not exist.`)}S.push(k)}return new qm(S,C)}(r._query,r.firestore._databaseId,i,n[0]._document,s);{const l=Lh(r.firestore);return function(h,g,w,C,S,T){const k=h.explicitOrderBy;if(S.length>k.length)throw new Re(me.INVALID_ARGUMENT,`Too many arguments provided to ${C}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const B=[];for(let G=0;G<S.length;G++){const q=S[G];if(k[G].field.isKeyField()){if("string"!=typeof q)throw new Re(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${C}(), but got a ${typeof q}`);if(!Hw(h)&&-1!==q.indexOf("/"))throw new Re(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${C}() must be a plain document ID, but '${q}' contains a slash.`);const Ae=h.path.child(Ut.fromString(q));if(!nt.isDocumentKey(Ae))throw new Re(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${C}() must result in a valid document path, but '${Ae}' is not because it contains an odd number of segments.`);const Se=new nt(Ae);B.push(Jg(g,Se))}else{const Ae=Xy(w,C,q);B.push(Ae)}}return new qm(B,T)}(r._query,r.firestore._databaseId,l,i,n,s)}}function yb(r,i,n){if("string"==typeof(n=(0,Je.m9)(n))){if(""===n)throw new Re(me.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hw(i)&&-1!==n.indexOf("/"))throw new Re(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=i.path.child(Ut.fromString(n));if(!nt.isDocumentKey(s))throw new Re(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Jg(r,new nt(s))}if(n instanceof fn)return Jg(r,n._key);throw new Re(me.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wy(n)}.`)}function Bh(r,i){if(!Array.isArray(r)||0===r.length)throw new Re(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${i.toString()}' filters.`);if(r.length>10)throw new Re(me.INVALID_ARGUMENT,`Invalid Query. '${i.toString()}' filters support a maximum of 10 elements in the value array.`)}function s_(r,i,n){if(!n.isEqual(i))throw new Re(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${i.toString()}' and so you must also use '${i.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class o_{convertValue(i,n="none"){switch(nc(i)){case 0:return null;case 1:return i.booleanValue;case 2:return ei(i.integerValue||i.doubleValue);case 3:return this.convertTimestamp(i.timestampValue);case 4:return this.convertServerTimestamp(i,n);case 5:return i.stringValue;case 6:return this.convertBytes(eh(i.bytesValue));case 7:return this.convertReference(i.referenceValue);case 8:return this.convertGeoPoint(i.geoPointValue);case 9:return this.convertArray(i.arrayValue,n);case 10:return this.convertObject(i.mapValue,n);default:throw tt()}}convertObject(i,n){const s={};return Dl(i.fields,(l,h)=>{s[l]=this.convertValue(h,n)}),s}convertGeoPoint(i){return new ub(ei(i.latitude),ei(i.longitude))}convertArray(i,n){return(i.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(i,n){switch(n){case"previous":const s=Nw(i);return null==s?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Wg(i));default:return null}}convertTimestamp(i){const n=Sl(i);return new Xn(n.seconds,n.nanos)}convertDocumentKey(i,n){const s=Ut.fromString(i);gt(lE(s));const l=new Np(s.get(1),s.get(3)),h=new nt(s.popFirst(5));return l.isEqual(n)||Yt(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),h}}function a_(r,i,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(i,n):r.toFirestore(i):i,s}class V1 extends o_{constructor(i){super(),this.firestore=i}convertBytes(i){return new ws(i)}convertReference(i){const n=this.convertDocumentKey(i,this.firestore._databaseId);return new fn(this.firestore,null,n)}}class ZM{constructor(i,n){this._firestore=i,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Lh(i)}set(i,n,s){this._verifyNotCommitted();const l=bc(i,this._firestore),h=a_(l.converter,n,s),g=$y(this._dataReader,"WriteBatch.set",l._key,h,null!==l.converter,s);return this._mutations.push(g.toMutation(l._key,En.none())),this}update(i,n,s,...l){this._verifyNotCommitted();const h=bc(i,this._firestore);let g;return g="string"==typeof(n=(0,Je.m9)(n))||n instanceof Nl?fb(this._dataReader,"WriteBatch.update",h._key,n,s,l):mr(this._dataReader,"WriteBatch.update",h._key,n),this._mutations.push(g.toMutation(h._key,En.exists(!0))),this}delete(i){this._verifyNotCommitted();const n=bc(i,this._firestore);return this._mutations=this._mutations.concat(new ch(n._key,En.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function bc(r,i){if((r=(0,Je.m9)(r)).firestore!==i)throw new Re(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class Bl extends o_{constructor(i){super(),this.firestore=i}convertBytes(i){return new ws(i)}convertReference(i){const n=this.convertDocumentKey(i,this.firestore._databaseId);return new fn(this.firestore,null,n)}}function _b(r,i,n){r=Gt(r,fn);const s=Gt(r.firestore,Un),l=a_(r.converter,i,n);return Gp(s,[$y(Lh(s),"setDoc",r._key,l,null!==r.converter,n).toMutation(r._key,En.none())])}function XM(r,i,n,...s){r=Gt(r,fn);const l=Gt(r.firestore,Un),h=Lh(l);let g;return g="string"==typeof(i=(0,Je.m9)(i))||i instanceof Nl?fb(h,"updateDoc",r._key,i,n,s):mr(h,"updateDoc",r._key,i),Gp(l,[g.toMutation(r._key,En.exists(!0))])}function l_(r,...i){var n,s,l;r=(0,Je.m9)(r);let h={includeMetadataChanges:!1},g=0;"object"!=typeof i[g]||Ol(i[g])||(h=i[g],g++);const w={includeMetadataChanges:h.includeMetadataChanges};if(Ol(i[g])){const k=i[g];i[g]=null===(n=k.next)||void 0===n?void 0:n.bind(k),i[g+1]=null===(s=k.error)||void 0===s?void 0:s.bind(k),i[g+2]=null===(l=k.complete)||void 0===l?void 0:l.bind(k)}let C,S,T;if(r instanceof fn)S=Gt(r.firestore,Un),T=rh(r._key.path),C={next:k=>{i[g]&&i[g](u_(S,r,k))},error:i[g+1],complete:i[g+2]};else{const k=Gt(r,Ar);S=Gt(k.firestore,Un),T=k._query;const B=new Bl(S);C={next:G=>{i[g]&&i[g](new Ci(S,B,k,G))},error:i[g+1],complete:i[g+2]},UI(r._query)}return function(k,B,G,q){const Ae=new Rp(q),Se=new Ry(B,Ae,G);return k.asyncQueue.enqueueAndForget((0,$.Z)(function*(){return Dy(yield Op(k),Se)})),()=>{Ae.Xo(),k.asyncQueue.enqueueAndForget((0,$.Z)(function*(){return Ty(yield Op(k),Se)}))}}(ri(S),T,w,C)}function Gp(r,i){return function(n,s){const l=new $n;return n.asyncQueue.enqueueAndForget((0,$.Z)(function*(){return function(r,i,n){return Ip.apply(this,arguments)}(yield Yy(n),s,l)})),l.promise}(ri(r),i)}function u_(r,i,n){const s=n.docs.get(i._key),l=new Bl(r);return new $s(r,l,i._key,s,new Pl(n.hasPendingWrites,n.fromCache),i.converter)}class QI extends class{constructor(i,n){this._firestore=i,this._transaction=n,this._dataReader=Lh(i)}get(i){const n=bc(i,this._firestore),s=new V1(this._firestore);return this._transaction.lookup([n._key]).then(l=>{if(!l||1!==l.length)return tt();const h=l[0];if(h.isFoundDocument())return new Bp(this._firestore,s,h.key,h,n.converter);if(h.isNoDocument())return new Bp(this._firestore,s,n._key,null,n.converter);throw tt()})}set(i,n,s){const l=bc(i,this._firestore),h=a_(l.converter,n,s),g=$y(this._dataReader,"Transaction.set",l._key,h,null!==l.converter,s);return this._transaction.set(l._key,g),this}update(i,n,s,...l){const h=bc(i,this._firestore);let g;return g="string"==typeof(n=(0,Je.m9)(n))||n instanceof Nl?fb(this._dataReader,"Transaction.update",h._key,n,s,l):mr(this._dataReader,"Transaction.update",h._key,n),this._transaction.update(h._key,g),this}delete(i){const n=bc(i,this._firestore);return this._transaction.delete(n._key),this}}{constructor(i,n){super(i,n),this._firestore=i}get(i){const n=bc(i,this._firestore),s=new Bl(this._firestore);return super.get(i).then(l=>new $s(this._firestore,s,n._key,l._document,new Pl(!1,!1),n.converter))}}function Vh(r,i){if(void 0===i)return{merge:!1};if(void 0!==i.mergeFields&&void 0!==i.merge)throw new Re("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return i}function qI(){if("undefined"==typeof Uint8Array)throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function d_(){if("undefined"==typeof atob)throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(r){xl=r})(Qe.SDK_VERSION),(0,Qe._registerComponent)(new Xi.wA("firestore",(r,{options:i})=>{const n=r.getProvider("app").getImmediate(),s=new Un(n,new AT(r.getProvider("auth-internal")));return i=Object.assign({useFetchStreams:!0},i),s._setSettings(i),s},"PUBLIC")),(0,Qe.registerVersion)("@firebase/firestore","3.0.2",void 0);class Uh{constructor(i){this._delegate=i}static fromBase64String(i){return d_(),new Uh(ws.fromBase64String(i))}static fromUint8Array(i){return qI(),new Uh(ws.fromUint8Array(i))}toBase64(){return d_(),this._delegate.toBase64()}toUint8Array(){return qI(),this._delegate.toUint8Array()}isEqual(i){return this._delegate.isEqual(i._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function si(r){return function(r,i){if("object"!=typeof r||null===r)return!1;const n=r;for(const s of["next","error","complete"])if(s in n&&"function"==typeof n[s])return!0;return!1}(r)}class oR{enableIndexedDbPersistence(i,n){return function(r,i){PI(r=Gt(r,Un));const n=ri(r),s=r._freezeSettings(),l=new tb;return Pp(n,l,new jy(l,s.cacheSizeBytes,null==i?void 0:i.forceOwnership))}(i._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(i){return function(r){PI(r=Gt(r,Un));const i=ri(r),n=r._freezeSettings(),s=new tb;return Pp(i,s,new wM(s,n.cacheSizeBytes))}(i._delegate)}clearIndexedDbPersistence(i){return function(r){if(r._initialized&&!r._terminated)throw new Re(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const i=new $n;return r._queue.enqueueAndForgetEvenWhileRestricted((0,$.Z)(function*(){try{yield(n=(0,$.Z)(function*(s){if(!Zs.bt())return Promise.resolve();const l=s+"main";yield Zs.delete(l)}),function(s){return n.apply(this,arguments)})(gE(r._databaseId,r._persistenceKey)),i.resolve()}catch(n){i.reject(n)}var n})),i.promise}(i._delegate)}}class YI{constructor(i,n,s){this._delegate=n,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},i instanceof Np||(this._appCompat=i)}get _databaseId(){return this._delegate._databaseId}settings(i){const n=this._delegate._getSettings();!i.merge&&n.host!==i.host&&fr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),i.merge&&delete(i=Object.assign(Object.assign({},n),i)).merge,this._delegate._setSettings(i)}useEmulator(i,n,s={}){!function(r,i,n,s={}){var l;const h=(r=Gt(r,Fp))._getSettings();if("firestore.googleapis.com"!==h.host&&h.host!==i&&fr("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},h),{host:`${i}:${n}`,ssl:!1})),s.mockUserToken){let g,w;if("string"==typeof s.mockUserToken)g=s.mockUserToken,w=er.MOCK_USER;else{g=(0,Je.Sg)(s.mockUserToken,null===(l=r._app)||void 0===l?void 0:l.options.projectId);const C=s.mockUserToken.sub||s.mockUserToken.user_id;if(!C)throw new Re(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new er(C)}r._credentials=new t0(new Kd(g,w))}}(this._delegate,i,n,s)}enableNetwork(){return function(r){return function(r){return r.asyncQueue.enqueue((0,$.Z)(function*(){const i=yield CI(r),n=yield xI(r);return i.setNetworkEnabled(!0),function(s){const l=Ge(s);return l.Kr.delete(0),yc(l)}(n)}))}(ri(r=Gt(r,Un)))}(this._delegate)}disableNetwork(){return function(r){return function(r){return r.asyncQueue.enqueue((0,$.Z)(function*(){const i=yield CI(r),n=yield xI(r);return i.setNetworkEnabled(!1),(s=(0,$.Z)(function*(l){const h=Ge(l);h.Kr.add(0),yield Sh(h),h.Wr.set("Offline")}),function(l){return s.apply(this,arguments)})(n);var s}))}(ri(r=Gt(r,Un)))}(this._delegate)}enablePersistence(i){let n=!1,s=!1;return i&&(n=!!i.synchronizeTabs,s=!!i.experimentalForceOwningTab,SI("synchronizeTabs",n,"experimentalForceOwningTab",s)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(r){return function(i){const n=new $n;return i.asyncQueue.enqueueAndForget((0,$.Z)(function*(){return function(r,i){return Fy.apply(this,arguments)}(yield Yy(i),n)})),n.promise}(ri(r=Gt(r,Un)))}(this._delegate)}onSnapshotsInSync(i){return function(r,i){return function(r,i){const n=new Rp(i);return r.asyncQueue.enqueueAndForget((0,$.Z)(function*(){return s=yield Op(r),l=n,Ge(s).Zr.add(l),void l.next();var s,l})),()=>{n.Xo(),r.asyncQueue.enqueueAndForget((0,$.Z)(function*(){return s=yield Op(r),l=n,void Ge(s).Zr.delete(l);var s,l}))}}(ri(r=Gt(r,Un)),Ol(i)?i:{next:i})}(this._delegate,i)}get app(){if(!this._appCompat)throw new Re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(i){try{return new Hh(this,RM(this._delegate,i))}catch(n){throw yr(n,"collection()","Firestore.collection()")}}doc(i){try{return new Xs(this,Zy(this._delegate,i))}catch(n){throw yr(n,"doc()","Firestore.doc()")}}collectionGroup(i){try{return new Or(this,function(r,i){if(r=Gt(r,Fp),DI("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new Re(me.INVALID_ARGUMENT,`Invalid collection ID '${i}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ar(r,null,(n=i,new Bo(Ut.emptyPath(),n)));var n}(this._delegate,i))}catch(n){throw yr(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(i){return function(r,i){return function(r,i){const n=new $n;return r.asyncQueue.enqueueAndForget((0,$.Z)(function*(){const s=yield(l=r,kp(l).then(h=>h.datastore));var l;new wI(r.asyncQueue,s,i,n).run()})),n.promise}(ri(r),n=>i(new QI(r,n)))}(this._delegate,n=>i(new WI(this,n)))}batch(){return ri(this._delegate),new aR(new ZM(this._delegate,i=>Gp(this._delegate,i)))}loadBundle(i){return function(r,i){const n=ri(r=Gt(r,Un)),s=new kI;return function(r,i,n,s){const l=function(h,g){let w;return w="string"==typeof h?(new TextEncoder).encode(h):h,C=function(C,S){if(C instanceof Uint8Array)return nb(C,S);if(C instanceof ArrayBuffer)return nb(new Uint8Array(C),S);if(C instanceof ReadableStream)return C.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(w),new vI(C,g);var C}(n,_p(i));r.asyncQueue.enqueueAndForget((0,$.Z)(function*(){!function(r,i,n){const s=Ge(r);var l;(l=(0,$.Z)(function*(h,g,w){try{const C=yield g.getMetadata();if(yield function(B,G){const q=Ge(B),Ae=wi(G.createTime);return q.persistence.runTransaction("hasNewerBundle","readonly",Se=>q.Je.getBundleMetadata(Se,G.id)).then(Se=>!!Se&&Se.createTime.compareTo(Ae)>=0)}(h.localStore,C))return yield g.close(),void w._completeWith((B=C,{taskState:"Success",documentsLoaded:B.totalDocuments,bytesLoaded:B.totalBytes,totalDocuments:B.totalDocuments,totalBytes:B.totalBytes}));w._updateProgress(lI(C));const S=new gM(C,h.localStore,g.N);let T=yield g.Qo();for(;T;){const B=yield S.fo(T);B&&w._updateProgress(B),T=yield g.Qo()}const k=yield S.complete();yield Mn(h,k.Tn,void 0),yield function(B,G){const q=Ge(B);return q.persistence.runTransaction("Save bundle","readwrite",Ae=>q.Je.saveBundleMetadata(Ae,G))}(h.localStore,C),w._completeWith(k.progress)}catch(C){fr("SyncEngine",`Loading bundle failed with ${C}`),w._failWith(C)}var B}),function(h,g,w){return l.apply(this,arguments)})(s,i,n).then(()=>{s.sharedClientState.notifyBundleLoaded()})}(yield Yy(r),l,s)}))}(n,r._databaseId,i,s),s}(this._delegate,i)}namedQuery(i){return function(r,i){return function(r,i){return r.asyncQueue.enqueue((0,$.Z)(function*(){return function(n,s){const l=Ge(n);return l.persistence.runTransaction("Get named query","readonly",h=>l.Je.getNamedQuery(h,s))}(yield ob(r),i)}))}(ri(r=Gt(r,Un)),i).then(n=>n?new Ar(r,null,n.query):null)}(this._delegate,i).then(n=>n?new Or(this,n):null)}}class Eb extends o_{constructor(i){super(),this.firestore=i}convertBytes(i){return new Uh(new ws(i))}convertReference(i){const n=this.convertDocumentKey(i,this.firestore._databaseId);return Xs.forKey(n,this.firestore,null)}}class WI{constructor(i,n){this._firestore=i,this._delegate=n,this._userDataWriter=new Eb(i)}get(i){const n=jh(i);return this._delegate.get(n).then(s=>new Hp(this._firestore,new $s(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,n.converter)))}set(i,n,s){const l=jh(i);return s?(Vh("Transaction.set",s),this._delegate.set(l,n,s)):this._delegate.set(l,n),this}update(i,n,s,...l){const h=jh(i);return 2===arguments.length?this._delegate.update(h,n):this._delegate.update(h,n,s,...l),this}delete(i){const n=jh(i);return this._delegate.delete(n),this}}class aR{constructor(i){this._delegate=i}set(i,n,s){const l=jh(i);return s?(Vh("WriteBatch.set",s),this._delegate.set(l,n,s)):this._delegate.set(l,n),this}update(i,n,s,...l){const h=jh(i);return 2===arguments.length?this._delegate.update(h,n):this._delegate.update(h,n,s,...l),this}delete(i){const n=jh(i);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Gh{constructor(i,n,s){this._firestore=i,this._userDataWriter=n,this._delegate=s}fromFirestore(i,n){const s=new Up(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,null);return this._delegate.fromFirestore(new jp(this._firestore,s),null!=n?n:{})}toFirestore(i,n){return n?this._delegate.toFirestore(i,n):this._delegate.toFirestore(i)}static getInstance(i,n){const s=Gh.INSTANCES;let l=s.get(i);l||(l=new WeakMap,s.set(i,l));let h=l.get(n);return h||(h=new Gh(i,new Eb(i),n),l.set(n,h)),h}}Gh.INSTANCES=new WeakMap;class Xs{constructor(i,n){this.firestore=i,this._delegate=n,this._userDataWriter=new Eb(i)}static forPath(i,n,s){if(i.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${i.canonicalString()} has ${i.length}`);return new Xs(n,new fn(n._delegate,s,new nt(i)))}static forKey(i,n,s){return new Xs(n,new fn(n._delegate,s,i))}get id(){return this._delegate.id}get parent(){return new Hh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(i){try{return new Hh(this.firestore,RM(this._delegate,i))}catch(n){throw yr(n,"collection()","DocumentReference.collection()")}}isEqual(i){return(i=(0,Je.m9)(i))instanceof fn&&kM(this._delegate,i)}set(i,n){n=Vh("DocumentReference.set",n);try{return n?_b(this._delegate,i,n):_b(this._delegate,i)}catch(s){throw yr(s,"setDoc()","DocumentReference.set()")}}update(i,n,...s){try{return 1===arguments.length?XM(this._delegate,i):XM(this._delegate,i,n,...s)}catch(l){throw yr(l,"updateDoc()","DocumentReference.update()")}}delete(){return function(r){return Gp(Gt(r.firestore,Un),[new ch(r._key,En.none())])}(this._delegate)}onSnapshot(...i){const n=ZI(i),s=JI(i,l=>new Hp(this.firestore,new $s(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return l_(this._delegate,n,s)}get(i){let n;return n="cache"===(null==i?void 0:i.source)?function(r){r=Gt(r,fn);const i=Gt(r.firestore,Un),n=ri(i),s=new Bl(i);return function(r,i){const n=new $n;return r.asyncQueue.enqueueAndForget((0,$.Z)(function*(){return(s=(0,$.Z)(function*(l,h,g){try{const w=yield function(C,S){const T=Ge(C);return T.persistence.runTransaction("read document","readonly",k=>T.Qn.An(k,S))}(l,h);w.isFoundDocument()?g.resolve(w):w.isNoDocument()?g.resolve(null):g.reject(new Re(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(w){const C=Rh(w,`Failed to get document '${h} from cache`);g.reject(C)}}),function(l,h,g){return s.apply(this,arguments)})(yield ob(r),i,n);var s})),n.promise}(n,r._key).then(l=>new $s(i,s,r._key,l,new Pl(null!==l&&l.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===(null==i?void 0:i.source)?function(r){r=Gt(r,fn);const i=Gt(r.firestore,Un);return bM(ri(i),r._key,{source:"server"}).then(n=>u_(i,r,n))}(this._delegate):function(r){r=Gt(r,fn);const i=Gt(r.firestore,Un);return bM(ri(i),r._key).then(n=>u_(i,r,n))}(this._delegate),n.then(s=>new Hp(this.firestore,new $s(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(i){return new Xs(this.firestore,this._delegate.withConverter(i?Gh.getInstance(this.firestore,i):null))}}function yr(r,i,n){return r.message=r.message.replace(i,n),r}function ZI(r){for(const i of r)if("object"==typeof i&&!si(i))return i;return{}}function JI(r,i){var n,s;let l;return l=si(r[0])?r[0]:si(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:h=>{l.next&&l.next(i(h))},error:null===(n=l.error)||void 0===n?void 0:n.bind(l),complete:null===(s=l.complete)||void 0===s?void 0:s.bind(l)}}class Hp{constructor(i,n){this._firestore=i,this._delegate=n}get ref(){return new Xs(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(i){return this._delegate.data(i)}get(i,n){return this._delegate.get(i,n)}isEqual(i){return GM(this._delegate,i._delegate)}}class jp extends Hp{data(i){const n=this._delegate.data(i);return function(r,i){r||tt()}(void 0!==n),n}}class Or{constructor(i,n){this.firestore=i,this._delegate=n,this._userDataWriter=new Eb(i)}where(i,n,s){try{return new Or(this.firestore,Ll(this._delegate,function(r,i,n){const s=i,l=Vp("where",r);return new HM(l,s,n)}(i,n,s)))}catch(l){throw yr(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(i,n){try{return new Or(this.firestore,Ll(this._delegate,function(r,i="asc"){const n=i,s=Vp("orderBy",r);return new L1(s,n)}(i,n)))}catch(s){throw yr(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(i){try{return new Or(this.firestore,Ll(this._delegate,function(r){return SM("limit",r),new pb("limit",r,"F")}(i)))}catch(n){throw yr(n,"limit()","Query.limit()")}}limitToLast(i){try{return new Or(this.firestore,Ll(this._delegate,function(r){return SM("limitToLast",r),new pb("limitToLast",r,"L")}(i)))}catch(n){throw yr(n,"limitToLast()","Query.limitToLast()")}}startAt(...i){try{return new Or(this.firestore,Ll(this._delegate,function(...r){return new Ab("startAt",r,!0)}(...i)))}catch(n){throw yr(n,"startAt()","Query.startAt()")}}startAfter(...i){try{return new Or(this.firestore,Ll(this._delegate,function(...r){return new Ab("startAfter",r,!1)}(...i)))}catch(n){throw yr(n,"startAfter()","Query.startAfter()")}}endBefore(...i){try{return new Or(this.firestore,Ll(this._delegate,function(...r){return new mb("endBefore",r,!0)}(...i)))}catch(n){throw yr(n,"endBefore()","Query.endBefore()")}}endAt(...i){try{return new Or(this.firestore,Ll(this._delegate,function(...r){return new mb("endAt",r,!1)}(...i)))}catch(n){throw yr(n,"endAt()","Query.endAt()")}}isEqual(i){return RI(this._delegate,i._delegate)}get(i){let n;return n="cache"===(null==i?void 0:i.source)?function(r){r=Gt(r,Ar);const i=Gt(r.firestore,Un),n=ri(i),s=new Bl(i);return function(r,i){const n=new $n;return r.asyncQueue.enqueueAndForget((0,$.Z)(function*(){return(s=(0,$.Z)(function*(l,h,g){try{const w=yield yE(l,h,!0),C=new uI(h,w.Gn),S=C.Io(w.documents),T=C.applyChanges(S,!1);g.resolve(T.snapshot)}catch(w){const C=Rh(w,`Failed to execute query '${h} against cache`);g.reject(C)}}),function(l,h,g){return s.apply(this,arguments)})(yield ob(r),i,n);var s})),n.promise}(n,r._query).then(l=>new Ci(i,s,r,l))}(this._delegate):"server"===(null==i?void 0:i.source)?function(r){r=Gt(r,Ar);const i=Gt(r.firestore,Un),n=ri(i),s=new Bl(i);return CM(n,r._query,{source:"server"}).then(l=>new Ci(i,s,r,l))}(this._delegate):function(r){r=Gt(r,Ar);const i=Gt(r.firestore,Un),n=ri(i),s=new Bl(i);return UI(r._query),CM(n,r._query).then(l=>new Ci(i,s,r,l))}(this._delegate),n.then(s=>new bb(this.firestore,new Ci(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...i){const n=ZI(i),s=JI(i,l=>new bb(this.firestore,new Ci(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return l_(this._delegate,n,s)}withConverter(i){return new Or(this.firestore,this._delegate.withConverter(i?Gh.getInstance(this.firestore,i):null))}}class lR{constructor(i,n){this._firestore=i,this._delegate=n}get type(){return this._delegate.type}get doc(){return new jp(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class bb{constructor(i,n){this._firestore=i,this._delegate=n}get query(){return new Or(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(i=>new jp(this._firestore,i))}docChanges(i){return this._delegate.docChanges(i).map(n=>new lR(this._firestore,n))}forEach(i,n){this._delegate.forEach(s=>{i.call(n,new jp(this._firestore,s))})}isEqual(i){return GM(this._delegate,i._delegate)}}class Hh extends Or{constructor(i,n){super(i,n),this.firestore=i,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const i=this._delegate.parent;return i?new Xs(this.firestore,i):null}doc(i){try{return new Xs(this.firestore,void 0===i?Zy(this._delegate):Zy(this._delegate,i))}catch(n){throw yr(n,"doc()","CollectionReference.doc()")}}add(i){return function(r,i){const n=Gt(r.firestore,Un),s=Zy(r),l=a_(r.converter,i);return Gp(n,[$y(Lh(r.firestore),"addDoc",s._key,l,null!==r.converter,{}).toMutation(s._key,En.exists(!1))]).then(()=>s)}(this._delegate,i).then(n=>new Xs(this.firestore,n))}isEqual(i){return kM(this._delegate,i._delegate)}withConverter(i){return new Hh(this.firestore,this._delegate.withConverter(i?Gh.getInstance(this.firestore,i):null))}}function jh(r){return Gt(r,fn)}class KI{constructor(...i){this._delegate=new Nl(...i)}static documentId(){return new KI(Bi.keyField().canonicalString())}isEqual(i){return(i=(0,Je.m9)(i))instanceof Nl&&this._delegate._internalPath.isEqual(i._internalPath)}}class xc{constructor(i){this._delegate=i}static serverTimestamp(){const i=new db("serverTimestamp");return i._methodName="FieldValue.serverTimestamp",new xc(i)}static delete(){const i=new Fl("deleteField");return i._methodName="FieldValue.delete",new xc(i)}static arrayUnion(...i){const n=function(...r){return new LM("arrayUnion",r)}(...i);return n._methodName="FieldValue.arrayUnion",new xc(n)}static arrayRemove(...i){const n=function(...r){return new hb("arrayRemove",r)}(...i);return n._methodName="FieldValue.arrayRemove",new xc(n)}static increment(i){const n=function(r){return new BM("increment",r)}(i);return n._methodName="FieldValue.increment",new xc(n)}isEqual(i){return this._delegate.isEqual(i._delegate)}}const uR={Firestore:YI,GeoPoint:ub,Timestamp:Xn,Blob:Uh,Transaction:WI,WriteBatch:aR,DocumentReference:Xs,DocumentSnapshot:Hp,Query:Or,QueryDocumentSnapshot:jp,QuerySnapshot:bb,CollectionReference:Hh,FieldPath:KI,FieldValue:xc,setLogLevel:function(r){!function(r){Po.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};function $I(r,i,n){let s;return s=r&&"object"==typeof r?r:{bufferSize:r,windowTime:i,refCount:!1,scheduler:n},l=>l.lift(function({bufferSize:r=Number.POSITIVE_INFINITY,windowTime:i=Number.POSITIVE_INFINITY,refCount:n,scheduler:s}){let l,g,h=0,w=!1,C=!1;return function(T){let k;h++,!l||w?(w=!1,l=new If(r,i,s),k=l.subscribe(this),g=T.subscribe({next(B){l.next(B)},error(B){w=!0,l.error(B)},complete(){C=!0,g=void 0,l.complete()}}),C&&(g=void 0)):k=l.subscribe(this),this.add(()=>{h--,k.unsubscribe(),k=void 0,g&&!C&&n&&0===h&&(g.unsubscribe(),g=void 0,l=void 0)})}}(s))}!function(r){(function(r,i){r.INTERNAL.registerComponent(new Xi.wA("firestore-compat",n=>((i,n)=>new YI(i,n,new oR))(n.getProvider("app-compat").getImmediate(),n.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},uR)))})(r),r.registerVersion("@firebase/firestore-compat","0.1.2")}(Ze.Z);const XI=(()=>{function r(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return r.prototype=Object.create(Error.prototype),r})(),hR=(()=>{function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return r.prototype=Object.create(Error.prototype),r})();var fR=P(9193);function f_(r){return i=>0===r?(0,fR.c)():i.lift(new gR(r))}class gR{constructor(i){if(this.total=i,this.total<0)throw new hR}call(i,n){return n.subscribe(new pR(i,this.total))}}class pR extends _.L{constructor(i,n){super(i),this.total=n,this.count=0}_next(i){const n=this.total,s=++this.count;s<=n&&(this.destination.next(i),s===n&&(this.destination.complete(),this.unsubscribe()))}}function Qp(r=null){return i=>i.lift(new eD(r))}class eD{constructor(i){this.defaultValue=i}call(i,n){return n.subscribe(new q1(i,this.defaultValue))}}class q1 extends _.L{constructor(i,n){super(i),this.defaultValue=n,this.isEmpty=!0}_next(i){this.isEmpty=!1,this.destination.next(i)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function AR(r=Z1){return i=>i.lift(new Y1(r))}class Y1{constructor(i){this.errorFactory=i}call(i,n){return n.subscribe(new W1(i,this.errorFactory))}}class W1 extends _.L{constructor(i,n){super(i),this.errorFactory=n,this.hasValue=!1}_next(i){this.hasValue=!0,this.destination.next(i)}_complete(){if(this.hasValue)return this.destination.complete();{let i;try{i=this.errorFactory()}catch(n){i=n}this.destination.error(i)}}}function Z1(){return new XI}var Cb=P(4487);function g_(r,i){const n=arguments.length>=2;return s=>s.pipe(r?Qs((l,h)=>r(l,h,s)):Cb.y,f_(1),n?Qp(i):AR(()=>new XI))}function tD(r,i){return i?Oi(()=>r,i):Oi(()=>r)}var xb=P(3101);const nD=new c.OlP("angularfire2.auth.use-emulator"),iD=new c.OlP("angularfire2.auth.settings"),rD=new c.OlP("angularfire2.auth.tenant-id"),Es=new c.OlP("angularfire2.auth.langugage-code"),mR=new c.OlP("angularfire2.auth.use-device-language"),Ib=new c.OlP("angularfire.auth.persistence"),sD=(r,i,n,s,l,h,g,w)=>(0,Me.cc)(`${r.name}.auth`,"AngularFireAuth",r.name,()=>{const C=i.runOutsideAngular(()=>r.auth());if(n&&C.useEmulator(...n),s&&(C.tenantId=s),C.languageCode=l,h&&C.useDeviceLanguage(),g)for(const[S,T]of Object.entries(g))C.settings[S]=T;return w&&C.setPersistence(w),C},[n,s,l,h,g,w]);let Db=(()=>{class r{constructor(n,s,l,h,g,w,C,S,T,k,B){const G=new Fn.xQ,q=(0,m.of)(void 0).pipe((0,Rs.QV)(g.outsideAngular),Oi(()=>h.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,6780)))),(0,Bt.U)(()=>(0,Hr.on)(n,h,s)),(0,Bt.U)(Ae=>sD(Ae,h,w,S,T,k,C,B)),$I({bufferSize:1,refCount:!1}));if(as(l))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,m.of)(null);else{q.pipe(g_()).subscribe();const Se=q.pipe(Oi(Ke=>Ke.getRedirectResult().then(Xe=>Xe,()=>null)),Me.iC,$I({bufferSize:1,refCount:!1})),ke=q.pipe(Oi(Ke=>new Wi.y(Xe=>({unsubscribe:h.runOutsideAngular(()=>Ke.onAuthStateChanged(Zt=>Xe.next(Zt),Zt=>Xe.error(Zt),()=>Xe.complete()))})))),We=q.pipe(Oi(Ke=>new Wi.y(Xe=>({unsubscribe:h.runOutsideAngular(()=>Ke.onIdTokenChanged(Zt=>Xe.next(Zt),Zt=>Xe.error(Zt),()=>Xe.complete()))}))));this.authState=Se.pipe(tD(ke),(0,xb.R)(g.outsideAngular),(0,Rs.QV)(g.insideAngular)),this.user=Se.pipe(tD(We),(0,xb.R)(g.outsideAngular),(0,Rs.QV)(g.insideAngular)),this.idToken=this.user.pipe(Oi(Ke=>Ke?(0,Zn.D)(Ke.getIdToken()):(0,m.of)(null))),this.idTokenResult=this.user.pipe(Oi(Ke=>Ke?(0,Zn.D)(Ke.getIdTokenResult()):(0,m.of)(null))),this.credential=(0,el.T)(Se,G,this.authState.pipe(Qs(Ke=>!Ke))).pipe((0,Bt.U)(Ke=>(null==Ke?void 0:Ke.user)?Ke:null),(0,xb.R)(g.outsideAngular),(0,Rs.QV)(g.insideAngular))}return(0,Hr.pX)(this,q,h,{spy:{apply:(Ae,Se,ke)=>{(Ae.startsWith("signIn")||Ae.startsWith("createUser"))&&ke.then(We=>G.next(We))}}})}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(Hr.Dh),c.LFG(Hr.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Me.HU),c.LFG(nD,8),c.LFG(iD,8),c.LFG(rD,8),c.LFG(Es,8),c.LFG(mR,8),c.LFG(Ib,8))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})();function p_(r,i){return function(r,i=x.z){return new Wi.y(n=>{let s;return null!=i?i.schedule(()=>{s=r.onSnapshot({includeMetadataChanges:!0},n)}):s=r.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=s&&s()}})}(r,i)}function zp(r,i){return p_(r,i).pipe((0,Bt.U)(n=>({payload:n,type:"query"})))}function Ic(r,i){return zp(r,i).pipe(Pd(void 0),hm(),(0,Bt.U)(([n,s])=>{const l=s.payload.docChanges(),h=l.map(g=>({type:g.type,payload:g}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((g,w)=>{const C=l.find(T=>T.doc.ref.isEqual(g.ref)),S=null==n?void 0:n.payload.docs.find(T=>T.ref.isEqual(g.ref));C&&JSON.stringify(C.doc.metadata)===JSON.stringify(g.metadata)||!C&&S&&JSON.stringify(S.metadata)===JSON.stringify(g.metadata)||h.push({type:"modified",payload:{oldIndex:w,newIndex:w,type:"modified",doc:g}})}),h}))}function qp(r,i,n){return Ic(r,n).pipe(mg((s,l)=>function(r,i,n){return i.forEach(s=>{n.indexOf(s.type)>-1&&(r=function(r,i){switch(i.type){case"added":if(!r[i.newIndex]||!r[i.newIndex].doc.ref.isEqual(i.doc.ref))return A_(r,i.newIndex,0,i);break;case"modified":if(null==r[i.oldIndex]||r[i.oldIndex].doc.ref.isEqual(i.doc.ref)){if(i.oldIndex!==i.newIndex){const n=r.slice();return n.splice(i.oldIndex,1),n.splice(i.newIndex,0,i),n}return A_(r,i.newIndex,1,i)}break;case"removed":if(r[i.oldIndex]&&r[i.oldIndex].doc.ref.isEqual(i.doc.ref))return A_(r,i.oldIndex,1)}return r}(r,s))}),r}(s,l.map(h=>h.payload),i),[]),ys(),(0,Bt.U)(s=>s.map(l=>({type:l.type,payload:l}))))}function A_(r,i,n,...s){const l=r.slice();return l.splice(i,n,...s),l}function lD(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class Tb{constructor(i,n,s){this.ref=i,this.query=n,this.afs=s}stateChanges(i){let n=Ic(this.query,this.afs.schedulers.outsideAngular);return i&&i.length>0&&(n=n.pipe((0,Bt.U)(s=>s.filter(l=>i.indexOf(l.type)>-1)))),n.pipe(Pd(void 0),hm(),Qs(([s,l])=>l.length>0||!s),(0,Bt.U)(([s,l])=>l),Me.iC)}auditTrail(i){return this.stateChanges(i).pipe(mg((n,s)=>[...n,...s],[]))}snapshotChanges(i){const n=lD(i);return qp(this.query,n,this.afs.schedulers.outsideAngular).pipe(Me.iC)}valueChanges(i={}){return zp(this.query,this.afs.schedulers.outsideAngular).pipe((0,Bt.U)(n=>n.payload.docs.map(s=>i.idField?Object.assign(Object.assign({},s.data()),{[i.idField]:s.id}):s.data())),Me.iC)}get(i){return(0,Zn.D)(this.query.get(i)).pipe(Me.iC)}add(i){return this.ref.add(i)}doc(i){return new uD(this.ref.doc(i),this.afs)}}class uD{constructor(i,n){this.ref=i,this.afs=n}set(i,n){return this.ref.set(i,n)}update(i){return this.ref.update(i)}delete(){return this.ref.delete()}collection(i,n){const s=this.ref.collection(i),{ref:l,query:h}=Qh(s,n);return new Tb(l,h,this.afs)}snapshotChanges(){return function(r,i){return p_(r,i).pipe(Pd(void 0),hm(),(0,Bt.U)(([n,s])=>s.exists?(null==n?void 0:n.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Me.iC)}valueChanges(i={}){return this.snapshotChanges().pipe((0,Bt.U)(({payload:n})=>i.idField?Object.assign(Object.assign({},n.data()),{[i.idField]:n.id}):n.data()))}get(i){return(0,Zn.D)(this.ref.get(i)).pipe(Me.iC)}}class vR{constructor(i,n){this.query=i,this.afs=n}stateChanges(i){return i&&0!==i.length?Ic(this.query,this.afs.schedulers.outsideAngular).pipe((0,Bt.U)(n=>n.filter(s=>i.indexOf(s.type)>-1)),Qs(n=>n.length>0),Me.iC):Ic(this.query,this.afs.schedulers.outsideAngular).pipe(Me.iC)}auditTrail(i){return this.stateChanges(i).pipe(mg((n,s)=>[...n,...s],[]))}snapshotChanges(i){const n=lD(i);return qp(this.query,n,this.afs.schedulers.outsideAngular).pipe(Me.iC)}valueChanges(i={}){return zp(this.query,this.afs.schedulers.outsideAngular).pipe((0,Bt.U)(s=>s.payload.docs.map(l=>i.idField?Object.assign({[i.idField]:l.id},l.data()):l.data())),Me.iC)}get(i){return(0,Zn.D)(this.query.get(i)).pipe(Me.iC)}}const cD=new c.OlP("angularfire2.enableFirestorePersistence"),m_=new c.OlP("angularfire2.firestore.persistenceSettings"),wR=new c.OlP("angularfire2.firestore.settings"),_r=new c.OlP("angularfire2.firestore.use-emulator");function Qh(r,i=(n=>n)){return{query:i(r),ref:r}}let Yp=(()=>{class r{constructor(n,s,l,h,g,w,C,S,T,k,B,G,q,Ae,Se,ke){this.schedulers=C;const We=(0,Hr.on)(n,w,s),Ke=T;k&&sD(We,w,B,q,Ae,Se,G,ke),[this.firestore,this.persistenceEnabled$]=(0,Me.cc)(`${We.name}.firestore`,"AngularFirestore",We.name,()=>{const Xe=w.runOutsideAngular(()=>We.firestore());if(h&&Xe.settings(h),Ke&&Xe.useEmulator(...Ke),l&&!as(g)){const Zt=()=>{try{return(0,Zn.D)(Xe.enablePersistence(S||void 0).then(()=>!0,()=>!1))}catch(oi){return"undefined"!=typeof console&&console.warn(oi),(0,m.of)(!1)}};return[Xe,w.runOutsideAngular(Zt)]}return[Xe,(0,m.of)(!1)]},[h,Ke,l])}collection(n,s){let l;l="string"==typeof n?this.firestore.collection(n):n;const{ref:h,query:g}=Qh(l,s),w=this.schedulers.ngZone.run(()=>h);return new Tb(w,g,this)}collectionGroup(n,s){const l=s||(g=>g),h=this.firestore.collectionGroup(n);return new vR(l(h),this)}doc(n){let s;s="string"==typeof n?this.firestore.doc(n):n;const l=this.schedulers.ngZone.run(()=>s);return new uD(l,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(Hr.Dh),c.LFG(Hr.xv,8),c.LFG(cD,8),c.LFG(wR,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Me.HU),c.LFG(m_,8),c.LFG(_r,8),c.LFG(Db,8),c.LFG(nD,8),c.LFG(iD,8),c.LFG(rD,8),c.LFG(Es,8),c.LFG(mR,8),c.LFG(Ib,8))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),dD=(()=>{class r{constructor(){ix.Z.registerVersion("angularfire",Me.q4.full,"fst-compat")}static enablePersistence(n){return{ngModule:r,providers:[{provide:cD,useValue:!0},{provide:m_,useValue:n}]}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({providers:[Yp]}),r})();class Ii extends Fn.xQ{constructor(i){super(),this._value=i}get value(){return this.getValue()}_subscribe(i){const n=super._subscribe(i);return n&&!n.closed&&i.next(this._value),n}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new gu.N;return this._value}next(i){super.next(this._value=i)}}var y_=P(9105);function Vl(r,i,n,s){return(0,y_.m)(n)&&(s=n,n=void 0),s?Vl(r,i,n).pipe((0,Bt.U)(l=>(0,Eo.k)(l)?s(...l):s(l))):new Wi.y(l=>{hD(r,i,function(g){l.next(arguments.length>1?Array.prototype.slice.call(arguments):g)},l,n)})}function hD(r,i,n,s,l){let h;if(function(r){return r&&"function"==typeof r.addEventListener&&"function"==typeof r.removeEventListener}(r)){const g=r;r.addEventListener(i,n,l),h=()=>g.removeEventListener(i,n,l)}else if(function(r){return r&&"function"==typeof r.on&&"function"==typeof r.off}(r)){const g=r;r.on(i,n),h=()=>g.off(i,n)}else if(function(r){return r&&"function"==typeof r.addListener&&"function"==typeof r.removeListener}(r)){const g=r;r.addListener(i,n),h=()=>g.removeListener(i,n)}else{if(!r||!r.length)throw new TypeError("Invalid event target");for(let g=0,w=r.length;g<w;g++)hD(r[g],i,n,s,l)}s.add(h)}var Mb=P(6693),__=P(377);class DR{constructor(i){this.resultSelector=i}call(i,n){return n.subscribe(new Ul(i,this.resultSelector))}}class Ul extends _.L{constructor(i,n,s=Object.create(null)){super(i),this.resultSelector=n,this.iterators=[],this.active=0,this.resultSelector="function"==typeof n?n:void 0}_next(i){const n=this.iterators;(0,Eo.k)(i)?n.push(new Rb(i)):n.push("function"==typeof i[__.hZ]?new Wp(i[__.hZ]()):new SR(this.destination,this,i))}_complete(){const i=this.iterators,n=i.length;if(this.unsubscribe(),0!==n){this.active=n;for(let s=0;s<n;s++){let l=i[s];l.stillUnsubscribed?this.destination.add(l.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const i=this.iterators,n=i.length,s=this.destination;for(let g=0;g<n;g++){let w=i[g];if("function"==typeof w.hasValue&&!w.hasValue())return}let l=!1;const h=[];for(let g=0;g<n;g++){let w=i[g],C=w.next();if(w.hasCompleted()&&(l=!0),C.done)return void s.complete();h.push(C.value)}this.resultSelector?this._tryresultSelector(h):s.next(h),l&&s.complete()}_tryresultSelector(i){let n;try{n=this.resultSelector.apply(this,i)}catch(s){return void this.destination.error(s)}this.destination.next(n)}}class Wp{constructor(i){this.iterator=i,this.nextResult=i.next()}hasValue(){return!0}next(){const i=this.nextResult;return this.nextResult=this.iterator.next(),i}hasCompleted(){const i=this.nextResult;return Boolean(i&&i.done)}}class Rb{constructor(i){this.array=i,this.index=0,this.length=0,this.length=i.length}[__.hZ](){return this}next(i){const n=this.index++;return n<this.length?{value:this.array[n],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class SR extends ks.Ds{constructor(i,n,s){super(i),this.parent=n,this.observable=s,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[__.hZ](){return this}next(){const i=this.buffer;return 0===i.length&&this.isComplete?{value:null,done:!0}:{value:i.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(i){this.buffer.push(i),this.parent.checkIterators()}subscribe(){return(0,ks.ft)(this.observable,new ks.IY(this))}}var fD=P(1593);class MR{constructor(i,n){this.delay=i,this.scheduler=n}call(i,n){return n.subscribe(new v_(i,this.delay,this.scheduler))}}class v_ extends _.L{constructor(i,n,s){super(i),this.delay=n,this.scheduler=s,this.queue=[],this.active=!1,this.errored=!1}static dispatch(i){const n=i.source,s=n.queue,l=i.scheduler,h=i.destination;for(;s.length>0&&s[0].time-l.now()<=0;)s.shift().notification.observe(h);if(s.length>0){const g=Math.max(0,s[0].time-l.now());this.schedule(i,g)}else this.unsubscribe(),n.active=!1}_schedule(i){this.active=!0,this.destination.add(i.schedule(v_.dispatch,this.delay,{source:this,destination:this.destination,scheduler:i}))}scheduleNotification(i){if(!0===this.errored)return;const n=this.scheduler,s=new gD(n.now()+this.delay,i);this.queue.push(s),!1===this.active&&this._schedule(n)}_next(i){this.scheduleNotification(fD.P.createNext(i))}_error(i){this.errored=!0,this.queue=[],this.destination.error(i),this.unsubscribe()}_complete(){this.scheduleNotification(fD.P.createComplete()),this.unsubscribe()}}class gD{constructor(i,n){this.time=i,this.notification=n}}var Dc=P(3342);class pD{}const Gi="*";function Zp(r,i){return{type:7,name:r,definitions:i,options:{}}}function zh(r,i=null){return{type:4,styles:i,timings:r}}function Sc(r,i=null){return{type:2,steps:r,options:i}}function w_(r){return{type:6,styles:r,offset:null}}function AD(r,i,n=null){return{type:1,expr:r,animation:i,options:n}}function yD(r){Promise.resolve(null).then(r)}class Tc{constructor(i=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=i+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){yD(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){const n="start"==i?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}}class Gl{constructor(i){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=i;let n=0,s=0,l=0;const h=this.players.length;0==h?yD(()=>this._onFinish()):this.players.forEach(g=>{g.onDone(()=>{++n==h&&this._onFinish()}),g.onDestroy(()=>{++s==h&&this._onDestroy()}),g.onStart(()=>{++l==h&&this._onStart()})}),this.totalTime=this.players.reduce((g,w)=>Math.max(g,w.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){const n=i*this.totalTime;this.players.forEach(s=>{const l=s.totalTime?Math.min(1,n/s.totalTime):1;s.setPosition(l)})}getPosition(){const i=this.players.reduce((n,s)=>null===n||s.totalTime>n.totalTime?s:n,null);return null!=i?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){const n="start"==i?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}}const _D=["*"],FR=["iframe"];function eO(r,i){if(1&r&&c._UZ(0,"div",4),2&r){const n=c.oxw();c.Udp("background-image",n.imageUrl),c.Q6J("@fadeIn",void 0)}}function tO(r,i){if(1&r&&c._UZ(0,"div",8),2&r){const n=c.oxw(2);c.Q6J("innerHTML",n.errorTemplate,c.oJD)}}function nO(r,i){1&r&&(c.ynx(0),c.TgZ(1,"h4"),c._uU(2,"\u26a0"),c.qZA(),c.BQk())}function iO(r,i){1&r&&(c.TgZ(0,"h2"),c._uU(1,"\u26a0"),c.qZA(),c.TgZ(2,"p"),c._uU(3,"Unable to load the image!"),c.qZA())}function PR(r,i){if(1&r&&(c.YNc(0,nO,3,0,"ng-container",9),c.YNc(1,iO,4,0,"ng-template",null,10,c.W1O)),2&r){const n=c.MAs(2),s=c.oxw(2);c.Q6J("ngIf",s.isThumbnail)("ngIfElse",n)}}function LR(r,i){if(1&r&&(c.TgZ(0,"div",5),c.YNc(1,tO,1,1,"div",6),c.YNc(2,PR,3,2,"ng-template",null,7,c.W1O),c.qZA()),2&r){const n=c.MAs(3),s=c.oxw();c.xp6(1),c.Q6J("ngIf",s.errorTemplate)("ngIfElse",n)}}function rO(r,i){if(1&r&&c._UZ(0,"div",13),2&r){const n=c.oxw(2);c.Q6J("innerHTML",n.loaderTemplate,c.oJD)}}function sO(r,i){1&r&&c._UZ(0,"div",15)}function oO(r,i){if(1&r&&c.YNc(0,sO,1,0,"div",14),2&r){const n=c.oxw(2);c.Q6J("ngIf",n.isThumbnail)}}function aO(r,i){if(1&r&&(c.ynx(0),c.YNc(1,rO,1,1,"div",11),c.YNc(2,oO,1,1,"ng-template",null,12,c.W1O),c.BQk()),2&r){const n=c.MAs(3),s=c.oxw();c.xp6(1),c.Q6J("ngIf",s.loaderTemplate)("ngIfElse",n)}}const BR=["video"];function lO(r,i){if(1&r&&c._UZ(0,"source",3),2&r){const n=i.$implicit;c.Q6J("src",null==n?null:n.url,c.LSH)("type",null==n?null:n.type)}}function uO(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"i",2),c.NdJ("tapClick",function(){return c.CHM(n),c.oxw().action.emit("prev")}),c.qZA()}if(2&r){const n=c.oxw();c.Q6J("innerHtml",n.navIcon,c.oJD)}}function cO(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"i",3),c.NdJ("tapClick",function(){return c.CHM(n),c.oxw().action.emit("next")}),c.qZA()}if(2&r){const n=c.oxw();c.Q6J("innerHtml",n.navIcon,c.oJD)}}function dO(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"gallery-thumbs",5),c.NdJ("action",function(l){return c.CHM(n),c.oxw().action.emit(l)})("thumbClick",function(l){return c.CHM(n),c.oxw().thumbClick.emit(l)}),c.qZA()}if(2&r){const n=c.oxw();c.Q6J("state",n.state)("config",n.config)}}function o(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"gallery-nav",6),c.NdJ("action",function(l){return c.CHM(n),c.oxw().action.emit(l)}),c.qZA()}if(2&r){const n=c.oxw();c.Q6J("state",n.state)("config",n.config)}}function a(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"gallery-dots",6),c.NdJ("action",function(l){return c.CHM(n),c.oxw().action.emit(l)}),c.qZA()}if(2&r){const n=c.oxw();c.Q6J("state",n.state)("config",n.config)}}function u(r,i){if(1&r&&c._UZ(0,"gallery-counter",7),2&r){const n=c.oxw();c.Q6J("state",n.state)}}function d(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"div",1),c.NdJ("tapClick",function(){const h=c.CHM(n).index;return c.oxw().action.emit(h)}),c._UZ(1,"div",2),c.qZA()}if(2&r){const n=i.index,s=c.oxw();c.Udp("width",null==s.config?null:s.config.dotsSize,"px")("height",null==s.config?null:s.config.dotsSize,"px"),c.ekj("g-dot-active",n===s.state.currIndex)}}function f(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"gallery-thumb",4),c.NdJ("tapClick",function(){const h=c.CHM(n).index;return c.oxw(2).thumbClick.emit(h)})("error",function(l){const g=c.CHM(n).index;return c.oxw(2).error.emit({itemIndex:g,error:l})}),c.qZA()}if(2&r){const n=i.$implicit,s=i.index,l=c.oxw(2);c.Q6J("type",n.type)("config",l.config)("data",n.data)("currIndex",l.state.currIndex)("index",s)("tapClickDisabled",l.config.disableThumb)}}function p(r,i){if(1&r&&(c.TgZ(0,"div",1),c.TgZ(1,"div",2),c.YNc(2,f,1,6,"gallery-thumb",3),c.qZA(),c.qZA()),2&r){const n=i.$implicit,s=c.oxw();c.xp6(1),c.ekj("g-no-transition",n.active),c.Q6J("ngStyle",n.style),c.xp6(1),c.Q6J("ngForOf",s.state.items)}}function v(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"gallery-item",4),c.NdJ("tapClick",function(){const h=c.CHM(n).index;return c.oxw(2).itemClick.emit(h)})("error",function(l){const g=c.CHM(n).index;return c.oxw(2).error.emit({itemIndex:g,error:l})}),c.qZA()}if(2&r){const n=i.$implicit,s=i.index,l=c.oxw(2);c.Q6J("type",n.type)("config",l.config)("data",n.data)("currIndex",l.state.currIndex)("index",s)}}function E(r,i){if(1&r&&(c.TgZ(0,"div",1),c.TgZ(1,"div",2),c.YNc(2,v,1,5,"gallery-item",3),c.qZA(),c.qZA()),2&r){const n=i.$implicit,s=c.oxw();c.Q6J("ngStyle",s.zoom),c.xp6(1),c.ekj("g-no-transition",n.active),c.Q6J("ngStyle",n.style),c.xp6(1),c.Q6J("ngForOf",s.state.items)}}function I(r,i){1&r&&c.GkF(0)}const D=function(r,i,n,s){return{index:r,currIndex:i,type:n,data:s}};function M(r,i){if(1&r){const n=c.EpF();c.ynx(0),c.TgZ(1,"gallery-image",7),c.NdJ("error",function(l){return c.CHM(n),c.oxw(2).error.emit(l)}),c.qZA(),c.TgZ(2,"div",8),c.YNc(3,I,1,0,"ng-container",9),c.qZA(),c.BQk()}if(2&r){const n=c.oxw(2);c.xp6(1),c.Q6J("src",n.data.src)("loadingIcon",n.config.loadingIcon)("loadingError",n.config.loadingError),c.xp6(2),c.Q6J("ngTemplateOutlet",n.config.itemTemplate)("ngTemplateOutletContext",c.l5B(5,D,n.index,n.currIndex,n.type,n.data))}}function O(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"gallery-video",10),c.NdJ("error",function(l){return c.CHM(n),c.oxw(2).error.emit(l)}),c.qZA()}if(2&r){const n=c.oxw(2);c.Q6J("src",n.data.src)("poster",n.data.poster)("controls",n.data.controls)("play",n.isAutoPlay)("pause",n.currIndex!==n.index)}}function F(r,i){if(1&r&&c._UZ(0,"gallery-iframe",11),2&r){const n=c.oxw(2);c.Q6J("src",n.youtubeSrc)("autoplay",n.isAutoPlay)("pause",n.currIndex!==n.index)}}function U(r,i){if(1&r&&c._UZ(0,"gallery-iframe",12),2&r){const n=c.oxw(2);c.Q6J("src",n.data.src)}}function J(r,i){1&r&&c.GkF(0)}function de(r,i){if(1&r&&(c.ynx(0),c.TgZ(1,"div",8),c.YNc(2,J,1,0,"ng-container",9),c.qZA(),c.BQk()),2&r){const n=c.oxw(2);c.xp6(2),c.Q6J("ngTemplateOutlet",n.config.itemTemplate)("ngTemplateOutletContext",c.l5B(2,D,n.index,n.currIndex,n.type,n.data))}}function ne(r,i){if(1&r&&(c.ynx(0,1),c.YNc(1,M,4,10,"ng-container",2),c.YNc(2,O,1,5,"gallery-video",3),c.YNc(3,F,1,3,"gallery-iframe",4),c.YNc(4,U,1,1,"gallery-iframe",5),c.YNc(5,de,3,7,"ng-container",6),c.BQk()),2&r){const n=c.oxw();c.Q6J("ngSwitch",n.type),c.xp6(1),c.Q6J("ngSwitchCase",n.Types.Image),c.xp6(1),c.Q6J("ngSwitchCase",n.Types.Video),c.xp6(1),c.Q6J("ngSwitchCase",n.Types.Youtube),c.xp6(1),c.Q6J("ngSwitchCase",n.Types.Iframe)}}function Oe(r,i){1&r&&c.GkF(0)}const xe=function(r,i,n){return{index:r,type:i,data:n}};function it(r,i){if(1&r&&(c.TgZ(0,"div",2),c.YNc(1,Oe,1,0,"ng-container",3),c.qZA()),2&r){const n=c.oxw();c.xp6(1),c.Q6J("ngTemplateOutlet",n.config.thumbTemplate)("ngTemplateOutletContext",c.kEZ(2,xe,n.index,n.type,n.data))}}var Ye=(()=>(function(r){r.INITIALIZED="initialized",r.ITEMS_CHANGED="itemsChanged",r.INDEX_CHANGED="indexChanged",r.PLAY="play",r.STOP="stop"}(Ye||(Ye={})),Ye))(),St=(()=>(function(r){r.Cover="cover",r.Contain="contain"}(St||(St={})),St))(),bn=(()=>(function(r){r.Preload="preload",r.Lazy="lazy",r.Default="default"}(bn||(bn={})),bn))(),Qt=(()=>(function(r){r.Top="top",r.Left="left",r.Right="right",r.Bottom="bottom"}(Qt||(Qt={})),Qt))(),ka=(()=>(function(r){r.Top="top",r.Bottom="bottom"}(ka||(ka={})),ka))(),Oa=(()=>(function(r){r.Top="top",r.Bottom="bottom"}(Oa||(Oa={})),Oa))(),to=(()=>(function(r){r.Free="free",r.Strict="strict"}(to||(to={})),to))(),no=(()=>(function(r){r.Horizontal="horizontal",r.Vertical="vertical"}(no||(no={})),no))(),Xr=(()=>(function(r){r.Image="image",r.Video="video",r.Youtube="youtube",r.Iframe="iframe"}(Xr||(Xr={})),Xr))();const b_={action:Ye.INITIALIZED,isPlaying:!1,hasNext:!1,hasPrev:!1,currIndex:0,items:[]},C_={nav:!0,loop:!0,zoomOut:0,dots:!1,thumb:!0,dotsSize:30,counter:!0,gestures:!0,autoPlay:!1,thumbWidth:120,thumbHeight:90,panSensitivity:25,disableThumb:!1,playerInterval:3e3,imageSize:St.Contain,thumbMode:to.Strict,dotsPosition:ka.Bottom,counterPosition:Oa.Top,thumbPosition:Qt.Bottom,loadingStrategy:bn.Default,slidingDirection:no.Horizontal,navIcon:'<?xml version="1.0" encoding="UTF-8"?><svg width="512px" height="512px" enable-background="new 0 0 240.823 240.823" version="1.1" viewBox="0 0 240.823 240.823" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><path d="m183.19 111.82l-108.3-108.26c-4.752-4.74-12.451-4.74-17.215 0-4.752 4.74-4.752 12.439 0 17.179l99.707 99.671-99.695 99.671c-4.752 4.74-4.752 12.439 0 17.191 4.752 4.74 12.463 4.74 17.215 0l108.3-108.26c4.68-4.691 4.68-12.511-0.012-17.19z" fill="#fff"/></svg>',loadingIcon:'<?xml version="1.0" encoding="UTF-8"?><svg stroke="#fff" viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd" stroke-width="2"><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle></g></svg>'};class Kp{constructor(i){this.data=i,this.type=Xr.Image}}class hO{constructor(i){this.data=i,this.type=Xr.Video}}class fO{constructor(i){this.data=i,this.type=Xr.Iframe}}class gO{constructor(i){this.data=Object.assign(Object.assign({},i),{src:`https://youtube.com/embed/${i.src}`,thumb:i.thumb?i.thumb:`//img.youtube.com/vi/${i.src}/default.jpg`}),this.type=Xr.Youtube}}const Nb=r=>Qs(i=>r.indexOf(i.action)>-1);class pP{constructor(i,n){this.deleteInstance=n,this.itemClick=new Fn.xQ,this.thumbClick=new Fn.xQ,this.error=new Fn.xQ,this._state=new Ii(b_),this._config=new Ii(i),this.state=this._state.asObservable(),this.config=this._config.asObservable()}get initialized(){return this.state.pipe(Nb([Ye.INITIALIZED]))}get itemsChanged(){return this.state.pipe(Nb([Ye.ITEMS_CHANGED]))}get indexChanged(){return this.state.pipe(Nb([Ye.INDEX_CHANGED]))}get playingChanged(){return this.state.pipe(Nb([Ye.PLAY,Ye.STOP]))}get playerActions(){return this.state.pipe(Nb([Ye.PLAY,Ye.STOP,Ye.INDEX_CHANGED]))}activatePlayer(){return this.playerActions.pipe(Oi(i=>i.isPlaying?(0,m.of)({}).pipe(function(r,i=x.P){const s=function(r){return r instanceof Date&&!isNaN(+r)}(r)?+r-i.now():Math.abs(r);return l=>l.lift(new MR(s,i))}(this._config.value.playerInterval),(0,Dc.b)(()=>this.next())):fR.E))}setState(i){this._state.next(Object.assign(Object.assign({},this._state.value),i))}setConfig(i){this._config.next(Object.assign(Object.assign({},this._config.value),i))}add(i,n){const s=[...this._state.value.items,i];this.setState({action:Ye.ITEMS_CHANGED,items:s,hasNext:s.length>1,currIndex:n?s.length-1:this._state.value.currIndex})}addImage(i,n){this.add(new Kp(i),n)}addVideo(i,n){this.add(new hO(i),n)}addIframe(i,n){this.add(new fO(i),n)}addYoutube(i,n){this.add(new gO(i),n)}remove(i){const n=[...this._state.value.items.slice(0,i),...this._state.value.items.slice(i+1,this._state.value.items.length)];this.setState({action:Ye.ITEMS_CHANGED,items:n,hasNext:n.length>1,hasPrev:i>0})}load(i){i&&this.setState({action:Ye.ITEMS_CHANGED,items:i,hasNext:i.length>1,hasPrev:!1})}set(i){i!==this._state.value.currIndex&&this.setState({action:Ye.INDEX_CHANGED,currIndex:i,hasNext:i<this._state.value.items.length-1,hasPrev:i>0})}next(){this._state.value.hasNext?this.set(this._state.value.currIndex+1):this._config.value.loop&&this.set(0)}prev(){this._state.value.hasPrev?this.set(this._state.value.currIndex-1):this._config.value.loop&&this.set(this._state.value.items.length-1)}play(i){i&&this.setConfig({playerInterval:i}),this.setState({action:Ye.PLAY,isPlaying:!0})}stop(){this.setState({action:Ye.STOP,isPlaying:!1})}reset(){this.setState(b_)}destroy(){this._state.complete(),this._config.complete(),this.itemClick.complete(),this.thumbClick.complete(),this.deleteInstance()}}const vD=new c.OlP("GALLERY_CONFIG");let AP=(()=>{class r{constructor(n){this._instances=new Map,this.config=n?Object.assign(Object.assign({},C_),n):C_}ref(n="root",s){if(this._instances.has(n)){const l=this._instances.get(n);return s&&l.setConfig(Object.assign(Object.assign({},this.config),s)),l}return this._instances.set(n,new pP(Object.assign(Object.assign({},this.config),s),this.deleteInstance(n))).get(n)}destroyAll(){this._instances.forEach(n=>n.destroy())}resetAll(){this._instances.forEach(n=>n.reset())}deleteInstance(n){return()=>{this._instances.has(n)&&this._instances.delete(n)}}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(vD,8))},r.\u0275prov=(0,c.Yz7)({factory:function(){return new r((0,c.LFG)(vD,8))},token:r,providedIn:"root"}),r})(),mP=(()=>{class r{constructor(n){this._gallery=n,this.nav=this._gallery.config.nav,this.dots=this._gallery.config.dots,this.loop=this._gallery.config.loop,this.thumb=this._gallery.config.thumb,this.zoomOut=this._gallery.config.zoomOut,this.counter=this._gallery.config.counter,this.dotsSize=this._gallery.config.dotsSize,this.autoPlay=this._gallery.config.autoPlay,this.gestures=this._gallery.config.gestures,this.thumbWidth=this._gallery.config.thumbWidth,this.thumbHeight=this._gallery.config.thumbHeight,this.disableThumb=this._gallery.config.disableThumb,this.panSensitivity=this._gallery.config.panSensitivity,this.playerInterval=this._gallery.config.playerInterval,this.itemTemplate=this._gallery.config.itemTemplate,this.thumbTemplate=this._gallery.config.thumbTemplate,this.thumbMode=this._gallery.config.thumbMode,this.imageSize=this._gallery.config.imageSize,this.dotsPosition=this._gallery.config.dotsPosition,this.counterPosition=this._gallery.config.counterPosition,this.slidingDirection=this._gallery.config.slidingDirection,this.loadingStrategy=this._gallery.config.loadingStrategy,this.thumbPosition=this._gallery.config.thumbPosition,this.destroyRef=!0,this.skipInitConfig=!1,this.itemClick=new c.vpe,this.thumbClick=new c.vpe,this.playingChange=new c.vpe,this.indexChange=new c.vpe,this.itemsChange=new c.vpe,this.error=new c.vpe,this._itemClick$=wr.w.EMPTY,this._thumbClick$=wr.w.EMPTY,this._itemChange$=wr.w.EMPTY,this._indexChange$=wr.w.EMPTY,this._playingChange$=wr.w.EMPTY,this._playerListener$=wr.w.EMPTY}getConfig(){return{nav:this.nav,dots:this.dots,loop:this.loop,thumb:this.thumb,zoomOut:this.zoomOut,counter:this.counter,autoPlay:this.autoPlay,gestures:this.gestures,dotsSize:this.dotsSize,imageSize:this.imageSize,thumbMode:this.thumbMode,thumbWidth:this.thumbWidth,thumbHeight:this.thumbHeight,disableThumb:this.disableThumb,dotsPosition:this.dotsPosition,itemTemplate:this.itemTemplate,thumbTemplate:this.thumbTemplate,thumbPosition:this.thumbPosition,panSensitivity:this.panSensitivity,playerInterval:this.playerInterval,counterPosition:this.counterPosition,loadingStrategy:this.loadingStrategy,slidingDirection:this.slidingDirection}}onAction(n){switch(n){case"next":this.galleryRef.next();break;case"prev":this.galleryRef.prev();break;default:this.galleryRef.set(n)}}ngOnChanges(n){this.galleryRef&&(this.galleryRef.setConfig(this.getConfig()),n.items&&n.items.currentValue!==n.items.previousValue&&this.load(this.items))}ngOnInit(){this.galleryRef=this.skipInitConfig?this._gallery.ref(this.id):this._gallery.ref(this.id,this.getConfig()),this.load(this.items),this._playerListener$=this.galleryRef.activatePlayer().subscribe(),this.indexChange.observers.length&&(this._indexChange$=this.galleryRef.indexChanged.subscribe(n=>this.indexChange.emit(n))),this.itemsChange.observers.length&&(this._itemChange$=this.galleryRef.itemsChanged.subscribe(n=>this.itemsChange.emit(n))),this.playingChange.observers.length&&(this._playingChange$=this.galleryRef.playingChanged.subscribe(n=>this.playingChange.emit(n))),this.autoPlay&&this.play()}ngOnDestroy(){this._itemClick$.unsubscribe(),this._thumbClick$.unsubscribe(),this._itemChange$.unsubscribe(),this._indexChange$.unsubscribe(),this._playingChange$.unsubscribe(),this._playerListener$.unsubscribe(),this.destroyRef&&this.galleryRef.destroy()}onItemClick(n){this.itemClick.emit(n),this.galleryRef.itemClick.next(n)}onThumbClick(n){this.galleryRef.set(n),this.thumbClick.emit(n),this.galleryRef.thumbClick.next(n)}onError(n){this.error.emit(n),this.galleryRef.error.next(n)}load(n){this.galleryRef.load(n)}add(n,s){this.galleryRef.add(n,s)}addImage(n,s){this.add(new Kp(n),s)}addVideo(n,s){this.add(new hO(n),s)}addIframe(n,s){this.add(new fO(n),s)}addYoutube(n,s){this.add(new gO(n),s)}remove(n){this.galleryRef.remove(n)}next(){this.galleryRef.next()}prev(){this.galleryRef.prev()}set(n){this.galleryRef.set(n)}reset(){this.galleryRef.reset()}play(n){this.galleryRef.play(n)}stop(){this.galleryRef.stop()}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(AP))},r.\u0275cmp=c.Xpm({type:r,selectors:[["gallery"]],inputs:{nav:"nav",dots:"dots",loop:"loop",thumb:"thumb",zoomOut:"zoomOut",counter:"counter",dotsSize:"dotsSize",autoPlay:"autoPlay",gestures:"gestures",thumbWidth:"thumbWidth",thumbHeight:"thumbHeight",disableThumb:"disableThumb",panSensitivity:"panSensitivity",playerInterval:"playerInterval",itemTemplate:"itemTemplate",thumbTemplate:"thumbTemplate",thumbMode:"thumbMode",imageSize:"imageSize",dotsPosition:"dotsPosition",counterPosition:"counterPosition",slidingDirection:"slidingDirection",loadingStrategy:"loadingStrategy",thumbPosition:"thumbPosition",destroyRef:"destroyRef",skipInitConfig:"skipInitConfig",id:"id",items:"items"},outputs:{itemClick:"itemClick",thumbClick:"thumbClick",playingChange:"playingChange",indexChange:"indexChange",itemsChange:"itemsChange",error:"error"},features:[c.TTD],ngContentSelectors:_D,decls:4,vars:6,consts:[[3,"state","config","action","itemClick","thumbClick","error"]],template:function(n,s){1&n&&(c.F$t(),c.TgZ(0,"gallery-core",0),c.NdJ("action",function(h){return s.onAction(h)})("itemClick",function(h){return s.onItemClick(h)})("thumbClick",function(h){return s.onThumbClick(h)})("error",function(h){return s.onError(h)}),c.ALo(1,"async"),c.ALo(2,"async"),c.qZA(),c.Hsn(3)),2&n&&c.Q6J("state",c.lcZ(1,2,s.galleryRef.state))("config",c.lcZ(2,4,s.galleryRef.config))},directives:function(){return[wP]},pipes:function(){return[Yo]},styles:['gallery-core[dotsPosition=top] gallery-dots{top:0}  gallery-core[dotsPosition=bottom] gallery-dots{bottom:0}  gallery-dots{left:50%;margin:7px;position:absolute;transform:translateX(-50%)}  .g-dot{cursor:pointer;z-index:20}  .g-dot:hover .g-dot-inner{opacity:1}  .g-dot-active .g-dot-inner{opacity:1;transform:scale(1.5)!important}  .g-dot-inner{background-color:#fff;border-radius:50%;box-shadow:0 0 1px #000;height:30%;opacity:.6;transition:all .2s ease;width:30%}  .g-dot,   .g-dot-inner,   gallery-dots{align-items:center;display:flex;justify-content:center}  .g-nav-next,   .g-nav-prev{cursor:pointer;height:40px;position:absolute;top:50%;width:30px;z-index:999}  .g-nav-next{right:.5em;transform:translateY(-50%) perspective(1px)}  .g-nav-prev{left:.5em;transform:translateY(-50%) perspective(1px) scale(-1)}@media only screen and (max-width:480px){  .g-nav-next{right:.2em}  .g-nav-prev{left:.2em}}  .g-items-container{height:100%}  .g-slider{position:absolute;transition:transform .4s cubic-bezier(.5,0,.5,1)}  gallery-core[slidingDirection=horizontal] .g-slider{flex-direction:row}  gallery-core[slidingDirection=vertical] .g-slider{flex-direction:column}  gallery-thumbs{display:block;overflow:unset;z-index:1}  .g-thumbs-container{display:flex;height:100%;left:0;overflow:unset;position:relative;top:0;width:100%;z-index:206}  gallery-core[disableThumb=true] gallery-thumb{cursor:default}  gallery-core[thumbPosition=bottom] gallery-thumbs .g-slider,   gallery-core[thumbPosition=top] gallery-thumbs .g-slider{flex-direction:row;left:50%;top:0}  gallery-core[thumbPosition=bottom] gallery-thumb,   gallery-core[thumbPosition=top] gallery-thumb{padding:1px 0 1px 1px}  gallery-core[thumbPosition=left] gallery-thumbs .g-slider,   gallery-core[thumbPosition=right] gallery-thumbs .g-slider{flex-direction:column;left:0;top:50%}  gallery-core[thumbPosition=left] gallery-thumb,   gallery-core[thumbPosition=right] gallery-thumb{padding:0 1px 1px}  gallery-core[thumbPosition=top]{flex-direction:column}  gallery-core[thumbPosition=left]{flex-direction:row}  gallery-core[thumbPosition=right]{flex-direction:row-reverse}  gallery-core[thumbPosition=bottom]{flex-direction:column-reverse}  gallery-thumb.g-active-thumb .g-thumb-loading{background-color:#464646}  .g-thumb-loading{background-color:#262626;height:100%;overflow:hidden;position:relative}  .g-thumb-loading:before{-webkit-animation:phAnimation .8s linear infinite;animation:phAnimation .8s linear infinite;background:linear-gradient(90deg,hsla(0,0%,100%,0) 46%,hsla(0,0%,100%,.35) 50%,hsla(0,0%,100%,0) 54%) 50% 50%;bottom:0;content:"";left:50%;margin-left:-250%;position:absolute;right:0;top:0;width:500%;z-index:1}@-webkit-keyframes phAnimation{0%{transform:translate3d(-30%,0,0)}to{transform:translate3d(30%,0,0)}}@keyframes phAnimation{0%{transform:translate3d(-30%,0,0)}to{transform:translate3d(30%,0,0)}}  gallery-core[counterPosition=top] .g-counter{border-bottom-left-radius:4px;border-bottom-right-radius:4px;top:0}  gallery-core[counterPosition=bottom] .g-counter{border-top-left-radius:4px;border-top-right-radius:4px;bottom:0}  .g-counter{background-color:rgba(0,0,0,.5);color:#fff;font-size:12px;left:50%;padding:4px 10px;position:absolute;transform:translateX(-50%) perspective(1px);z-index:50}  gallery[gallerize] gallery-item{cursor:pointer}  gallery-item,   gallery-thumb{display:block;height:100%;overflow:hidden;position:relative;width:100%}  gallery-item h2,   gallery-item h4,   gallery-thumb h2,   gallery-thumb h4{color:coral;margin:0}  gallery-item h2,   gallery-thumb h2{font-size:3.5em;margin-bottom:.3em}  gallery-item h4,   gallery-thumb h4{font-size:1.6em}  gallery-item{z-index:10}  gallery-item iframe,   gallery-item video{height:100%;position:absolute;width:100%}  gallery-thumb{cursor:pointer;opacity:.5;transition:opacity .3s cubic-bezier(.5,0,.5,1)}  gallery-thumb.g-active-thumb{opacity:1}  .g-image-item{background-position:50%;background-repeat:no-repeat;background-size:cover;height:100%;width:100%}  .g-image-error-message,   .g-template{align-items:center;bottom:0;color:#fff;display:flex;flex-direction:column;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:10}  .g-loading{height:80px;left:50%;position:absolute;top:50%;transform:translate3d(-50%,-50%,0);width:80px}  gallery-core[imageSize=contain] gallery-slider .g-image-item{background-size:contain}  gallery-image{align-items:center;display:flex;height:100%;justify-content:center}  gallery{background-color:#000;display:block;height:500px;overflow:hidden;position:relative;z-index:1}  gallery *{box-sizing:border-box}  gallery,   gallery-core{overflow:hidden;position:relative}  .g-box,   .g-slider,   gallery-core{display:flex;height:100%;width:100%}  gallery[fluid]{left:50%;transform:translateX(-50vw);width:100vw}  gallery[fluid][fluid=false]{left:auto;transform:none;width:auto}  .g-no-transition{transition:unset!important}  .g-box,   gallery-slider{display:flex;flex:1;flex-direction:column;height:100%;order:1;overflow:hidden;position:relative}  .g-btn-close svg,   gallery-nav svg{-webkit-filter:drop-shadow(0 0 1px #000);filter:drop-shadow(0 0 1px black);height:100%;opacity:.6;transition:opacity .2s linear;width:100%}  .g-btn-close svg:hover,   gallery-nav svg:hover{opacity:1}'],changeDetection:0}),r})(),yP=(()=>{class r{constructor(n){this._sanitizer=n}set src(n){this.iframeSrc=this._sanitizer.bypassSecurityTrustResourceUrl(n)}set pauseVideo(n){this.iframe.nativeElement&&n&&(this.iframe.nativeElement.src=null)}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(Nn))},r.\u0275cmp=c.Xpm({type:r,selectors:[["gallery-iframe"]],viewQuery:function(n,s){if(1&n&&c.Gf(FR,7),2&n){let l;c.iGM(l=c.CRH())&&(s.iframe=l.first)}},inputs:{src:"src",pauseVideo:["pause","pauseVideo"],autoplay:"autoplay"},decls:2,vars:2,consts:[["frameborder","0","allowfullscreen","",3,"src"],["iframe",""]],template:function(n,s){1&n&&c._UZ(0,"iframe",0,1),2&n&&(c.Q6J("src",s.iframeSrc,c.uOi),c.uIk("allow",s.autoplay?"autoplay":""))},encapsulation:2,changeDetection:0}),r})(),pO=(()=>{class r{constructor(n){this._sanitizer=n,this._state=new Ii("loading"),this.state=this._state.asObservable(),this.progress=0,this.error=new c.vpe}get imageLoadSuccess(){return!!this.imageUrl}get imageLoadFailed(){return!!this.loadError}ngOnInit(){this.loadingIcon&&(this.loaderTemplate=this._sanitizer.bypassSecurityTrustHtml(this.loadingIcon)),this.loadingError&&(this.errorTemplate=this._sanitizer.bypassSecurityTrustHtml(this.loadingError))}ngOnDestroy(){this._state.complete()}onProgress({loaded:n,total:s}){this.progress=100*n/s}onLoaded(n){this.imageUrl=this._sanitizer.bypassSecurityTrustStyle(`url("${n}")`),this._state.next("success")}onError(n){this.loadError=n,this._state.next("failed"),this.error.emit(n)}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(Nn))},r.\u0275cmp=c.Xpm({type:r,selectors:[["gallery-image"]],hostVars:4,hostBindings:function(n,s){2&n&&c.ekj("g-image-loaded",s.imageLoadSuccess)("g-image-error",s.imageLoadFailed)},inputs:{isThumbnail:"isThumbnail",src:"src",loadingIcon:"loadingIcon",loadingError:"loadingError"},outputs:{error:"error"},decls:5,vars:7,consts:[[3,"lazyImage","ngSwitch","progress","loaded","error"],["class","g-image-item",3,"backgroundImage",4,"ngSwitchCase"],["class","g-image-error-message",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"g-image-item"],[1,"g-image-error-message"],[3,"innerHTML",4,"ngIf","ngIfElse"],["defaultError",""],[3,"innerHTML"],[4,"ngIf","ngIfElse"],["isLarge",""],["class","g-loading",3,"innerHTML",4,"ngIf","ngIfElse"],["defaultLoader",""],[1,"g-loading",3,"innerHTML"],["class","g-thumb-loading",4,"ngIf"],[1,"g-thumb-loading"]],template:function(n,s){1&n&&(c.ynx(0,0),c.NdJ("progress",function(h){return s.onProgress(h)})("loaded",function(h){return s.onLoaded(h)})("error",function(h){return s.onError(h)}),c.ALo(1,"async"),c.YNc(2,eO,1,3,"div",1),c.YNc(3,LR,4,2,"div",2),c.YNc(4,aO,4,2,"ng-container",3),c.BQk()),2&n&&(c.Q6J("lazyImage",s.src)("ngSwitch",c.lcZ(1,5,s.state)),c.xp6(2),c.Q6J("ngSwitchCase","success"),c.xp6(1),c.Q6J("ngSwitchCase","failed"),c.xp6(1),c.Q6J("ngSwitchCase","loading"))},directives:function(){return[SP,qo,Ss,mt]},pipes:function(){return[Yo]},encapsulation:2,data:{animation:[Zp("fadeIn",[AD(":enter",[w_({opacity:0}),zh("300ms ease-in",w_({opacity:1}))])])]},changeDetection:0}),r})(),_P=(()=>{class r{constructor(){this.error=new c.vpe}set pauseVideo(n){if(this.video.nativeElement){const s=this.video.nativeElement;n&&!s.paused&&s.pause()}}set playVideo(n){if(this.video.nativeElement){const s=this.video.nativeElement;n&&s.play()}}ngOnInit(){this.videoSources=this.src instanceof Array?[...this.src]:[{url:this.src}],this.controls="boolean"!=typeof this.controlsEnabled||this.controlsEnabled}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=c.Xpm({type:r,selectors:[["gallery-video"]],viewQuery:function(n,s){if(1&n&&c.Gf(BR,7),2&n){let l;c.iGM(l=c.CRH())&&(s.video=l.first)}},inputs:{pauseVideo:["pause","pauseVideo"],playVideo:["play","playVideo"],src:"src",poster:"poster",controlsEnabled:["controls","controlsEnabled"]},outputs:{error:"error"},decls:3,vars:3,consts:[[3,"controls","poster","error"],["video",""],[3,"src","type",4,"ngFor","ngForOf"],[3,"src","type"]],template:function(n,s){1&n&&(c.TgZ(0,"video",0,1),c.NdJ("error",function(h){return s.error.emit(h)}),c.YNc(2,lO,1,2,"source",2),c.qZA()),2&n&&(c.Q6J("controls",s.controls)("poster",s.poster,c.LSH),c.xp6(2),c.Q6J("ngForOf",s.videoSources))},directives:[qn],encapsulation:2,changeDetection:0}),r})(),vP=(()=>{class r{constructor(n){this._sanitizer=n,this.action=new c.vpe}ngOnInit(){this.navIcon=this._sanitizer.bypassSecurityTrustHtml(this.config.navIcon)}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(Nn))},r.\u0275cmp=c.Xpm({type:r,selectors:[["gallery-nav"]],inputs:{state:"state",config:"config"},outputs:{action:"action"},decls:2,vars:2,consts:[["class","g-nav-prev","aria-label","Previous",3,"innerHtml","tapClick",4,"ngIf"],["class","g-nav-next","aria-label","Next",3,"innerHtml","tapClick",4,"ngIf"],["aria-label","Previous",1,"g-nav-prev",3,"innerHtml","tapClick"],["aria-label","Next",1,"g-nav-next",3,"innerHtml","tapClick"]],template:function(n,s){1&n&&(c.YNc(0,uO,1,1,"i",0),c.YNc(1,cO,1,1,"i",1)),2&n&&(c.Q6J("ngIf",s.config.loop||s.state.hasPrev),c.xp6(1),c.Q6J("ngIf",s.config.loop||s.state.hasNext))},directives:function(){return[mt,wD]},encapsulation:2,changeDetection:0}),r})(),wP=(()=>{class r{constructor(){this.action=new c.vpe,this.itemClick=new c.vpe,this.thumbClick=new c.vpe,this.error=new c.vpe}get thumbPosition(){return this.config.thumbPosition}get slidingDirection(){return this.config.slidingDirection}get disableThumb(){return this.config.disableThumb}get imageSize(){return this.config.imageSize}get dotsPosition(){return this.config.dotsPosition}get counterPosition(){return this.config.counterPosition}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=c.Xpm({type:r,selectors:[["gallery-core"]],hostVars:6,hostBindings:function(n,s){2&n&&c.uIk("thumbPosition",s.thumbPosition)("slidingDirection",s.slidingDirection)("disableThumb",s.disableThumb)("imageSize",s.imageSize)("dotsPosition",s.dotsPosition)("counterPosition",s.counterPosition)},inputs:{state:"state",config:"config"},outputs:{action:"action",itemClick:"itemClick",thumbClick:"thumbClick",error:"error"},decls:6,vars:6,consts:[[3,"state","config","action","thumbClick",4,"ngIf"],[1,"g-box"],[3,"state","config","action","itemClick","error"],[3,"state","config","action",4,"ngIf"],[3,"state",4,"ngIf"],[3,"state","config","action","thumbClick"],[3,"state","config","action"],[3,"state"]],template:function(n,s){1&n&&(c.YNc(0,dO,1,2,"gallery-thumbs",0),c.TgZ(1,"div",1),c.TgZ(2,"gallery-slider",2),c.NdJ("action",function(h){return s.action.emit(h)})("itemClick",function(h){return s.itemClick.emit(h)})("error",function(h){return s.error.emit(h)}),c.YNc(3,o,1,2,"gallery-nav",3),c.qZA(),c.YNc(4,a,1,2,"gallery-dots",3),c.YNc(5,u,1,1,"gallery-counter",4),c.qZA()),2&n&&(c.Q6J("ngIf",s.config.thumb),c.xp6(2),c.Q6J("state",s.state)("config",s.config),c.xp6(1),c.Q6J("ngIf",s.config.nav&&s.state.items.length>1),c.xp6(1),c.Q6J("ngIf",s.config.dots),c.xp6(1),c.Q6J("ngIf",s.config.counter))},directives:function(){return[mt,CP,bP,vP,EP,xP]},encapsulation:2,changeDetection:0}),r})(),EP=(()=>{class r{constructor(){this.action=new c.vpe}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=c.Xpm({type:r,selectors:[["gallery-dots"]],inputs:{state:"state",config:"config"},outputs:{action:"action"},decls:1,vars:1,consts:[["class","g-dot",3,"g-dot-active","width","height","tapClick",4,"ngFor","ngForOf"],[1,"g-dot",3,"tapClick"],[1,"g-dot-inner"]],template:function(n,s){1&n&&c.YNc(0,d,2,6,"div",0),2&n&&c.Q6J("ngForOf",s.state.items)},directives:function(){return[qn,wD]},encapsulation:2,changeDetection:0}),r})(),bP=(()=>{class r{constructor(n,s){this._el=n,this._zone=s,this._slidingWorker$=new Ii({value:0,active:!1}),this._freeModeCurrentOffset=0,this.action=new c.vpe,this.thumbClick=new c.vpe,this.error=new c.vpe,this.sliderState$=this._slidingWorker$.pipe((0,Bt.U)(l=>({style:this.getSliderStyles(l),active:l.active})))}ngOnChanges(){this.updateSlider({value:0,active:!1}),this._freeModeCurrentOffset=0}ngOnInit(){if(this.config.gestures&&!this.config.disableThumb&&"undefined"!=typeof Hammer){let n;switch(this.config.thumbPosition){case Qt.Right:case Qt.Left:n=Hammer.DIRECTION_VERTICAL;break;case Qt.Top:case Qt.Bottom:n=Hammer.DIRECTION_HORIZONTAL}this._hammer=new Hammer(this._el.nativeElement),this._hammer.get("pan").set({direction:n}),this._zone.runOutsideAngular(()=>{switch(this.config.thumbMode){case to.Strict:this._hammer.on("pan",s=>this.strictMode(s));break;case to.Free:this._hammer.on("pan",s=>this.freeMode(s))}})}}ngOnDestroy(){this._hammer&&this._hammer.destroy()}strictMode(n){switch(this.config.thumbPosition){case Qt.Right:case Qt.Left:this.updateSlider({value:n.deltaY,active:!0}),n.isFinal&&(this.updateSlider({value:0,active:!1}),this.verticalPan(n));break;case Qt.Top:case Qt.Bottom:this.updateSlider({value:n.deltaX,active:!0}),n.isFinal&&(this.updateSlider({value:0,active:!1}),this.horizontalPan(n))}}freeMode(n){switch(this.config.thumbPosition){case Qt.Right:case Qt.Left:this.updateSlider({value:this._freeModeCurrentOffset+n.deltaY,active:!0}),n.isFinal&&(this.minFreeScrollExceeded(n.deltaY,this.config.thumbWidth,this.config.thumbHeight)?this._freeModeCurrentOffset=-(this.state.items.length-1-this.state.currIndex)*this.config.thumbHeight:this.maxFreeScrollExceeded(n.deltaY,this.config.thumbHeight,this.config.thumbWidth)?this._freeModeCurrentOffset=this.state.currIndex*this.config.thumbHeight:this._freeModeCurrentOffset+=n.deltaY,this.updateSlider({value:this._freeModeCurrentOffset,active:!1}));break;case Qt.Top:case Qt.Bottom:this.updateSlider({value:this._freeModeCurrentOffset+n.deltaX,active:!0}),n.isFinal&&(this.minFreeScrollExceeded(n.deltaX,this.config.thumbHeight,this.config.thumbWidth)?this._freeModeCurrentOffset=-(this.state.items.length-1-this.state.currIndex)*this.config.thumbWidth:this.maxFreeScrollExceeded(n.deltaX,this.config.thumbWidth,this.config.thumbHeight)?this._freeModeCurrentOffset=this.state.currIndex*this.config.thumbWidth:this._freeModeCurrentOffset+=n.deltaX,this.updateSlider({value:this._freeModeCurrentOffset,active:!1}))}}minFreeScrollExceeded(n,s,l){return-(this._freeModeCurrentOffset+n-s/2)>(this.state.items.length-this.state.currIndex)*l}maxFreeScrollExceeded(n,s,l){return this._freeModeCurrentOffset+n>this.state.currIndex*s+l/2}getSliderStyles(n){let s;switch(this.config.thumbPosition){case Qt.Top:case Qt.Bottom:return this.width="100%",this.height=this.config.thumbHeight+"px",s=-this.state.currIndex*this.config.thumbWidth-(this.config.thumbWidth/2-n.value),{transform:`translate3d(${s}px, 0, 0)`,width:this.state.items.length*this.config.thumbWidth+"px",height:"100%"};case Qt.Left:case Qt.Right:return this.width=this.config.thumbWidth+"px",this.height="100%",s=-this.state.currIndex*this.config.thumbHeight-(this.config.thumbHeight/2-n.value),{transform:`translate3d(0, ${s}px, 0)`,width:"100%",height:this.state.items.length*this.config.thumbHeight+"px"}}}verticalPan(n){!(n.direction&Hammer.DIRECTION_UP&&n.offsetDirection&Hammer.DIRECTION_VERTICAL)||(n.velocityY>.3?this.prev():n.velocityY<-.3||n.deltaY/2<=-this.config.thumbHeight*this.state.items.length/this.config.panSensitivity?this.next():n.deltaY/2>=this.config.thumbHeight*this.state.items.length/this.config.panSensitivity?this.prev():this.action.emit(this.state.currIndex))}horizontalPan(n){!(n.direction&Hammer.DIRECTION_HORIZONTAL&&n.offsetDirection&Hammer.DIRECTION_HORIZONTAL)||(n.velocityX>.3?this.prev():n.velocityX<-.3||n.deltaX/2<=-this.config.thumbWidth*this.state.items.length/this.config.panSensitivity?this.next():n.deltaX/2>=this.config.thumbWidth*this.state.items.length/this.config.panSensitivity?this.prev():this.action.emit(this.state.currIndex))}next(){this.action.emit("next")}prev(){this.action.emit("prev")}updateSlider(n){const s=Object.assign(Object.assign({},this._slidingWorker$.value),n);this._slidingWorker$.next(s)}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.SBq),c.Y36(c.R0b))},r.\u0275cmp=c.Xpm({type:r,selectors:[["gallery-thumbs"]],hostVars:4,hostBindings:function(n,s){2&n&&c.Udp("width",s.width)("height",s.height)},inputs:{state:"state",config:"config"},outputs:{action:"action",thumbClick:"thumbClick",error:"error"},features:[c.TTD],decls:2,vars:3,consts:[["class","g-thumbs-container",4,"ngIf"],[1,"g-thumbs-container"],[1,"g-slider",3,"ngStyle"],[3,"type","config","data","currIndex","index","tapClickDisabled","tapClick","error",4,"ngFor","ngForOf"],[3,"type","config","data","currIndex","index","tapClickDisabled","tapClick","error"]],template:function(n,s){1&n&&(c.YNc(0,p,3,4,"div",0),c.ALo(1,"async")),2&n&&c.Q6J("ngIf",c.lcZ(1,1,s.sliderState$))},directives:function(){return[mt,Hn,qn,DP,wD]},pipes:function(){return[Yo]},encapsulation:2,changeDetection:0}),r})(),CP=(()=>{class r{constructor(n,s,l){this._el=n,this._zone=s,this.platform=l,this._slidingWorker$=new Ii({value:0,active:!1}),this.action=new c.vpe,this.itemClick=new c.vpe,this.error=new c.vpe,this.sliderState$=this._slidingWorker$.pipe((0,Bt.U)(h=>({style:this.getSliderStyles(h),active:h.active})))}get zoom(){return{transform:`perspective(50px) translate3d(0, 0, ${-this.config.zoomOut}px)`}}ngOnChanges(){this.updateSlider({value:0,active:!1})}ngOnInit(){if(this.config.gestures&&"undefined"!=typeof Hammer){const n=this.config.slidingDirection===no.Horizontal?Hammer.DIRECTION_HORIZONTAL:Hammer.DIRECTION_VERTICAL;this._hammer=new Hammer(this._el.nativeElement),this._hammer.get("pan").set({direction:n}),this._zone.runOutsideAngular(()=>{this._hammer.on("pan",s=>{switch(this.config.slidingDirection){case no.Horizontal:this.updateSlider({value:s.deltaX,active:!0}),s.isFinal&&(this.updateSlider({value:0,active:!1}),this.horizontalPan(s));break;case no.Vertical:this.updateSlider({value:s.deltaY,active:!0}),s.isFinal&&(this.updateSlider({value:0,active:!1}),this.verticalPan(s))}})})}Br(this.platform)&&(this._resizeSub$=Vl(window,"resize").pipe(R(200),(0,Dc.b)(()=>this.updateSlider(this._slidingWorker$.value))).subscribe()),setTimeout(()=>this.updateSlider({value:0,active:!1}))}ngOnDestroy(){this._hammer&&this._hammer.destroy(),this._resizeSub$&&this._resizeSub$.unsubscribe(),this._slidingWorker$.complete()}getSliderStyles(n){switch(this.config.slidingDirection){case no.Horizontal:return{transform:`translate3d(${-this.state.currIndex*this._el.nativeElement.offsetWidth+n.value}px, 0, 0)`,width:`calc(100% * ${this.state.items.length})`,height:"100%"};case no.Vertical:return{transform:`translate3d(0, ${-this.state.currIndex*this._el.nativeElement.offsetHeight+n.value}px, 0)`,width:"100%",height:`calc(100% * ${this.state.items.length})`}}}verticalPan(n){!(n.direction&Hammer.DIRECTION_UP&&n.offsetDirection&Hammer.DIRECTION_VERTICAL)||(n.velocityY>.3?this.prev():n.velocityY<-.3||n.deltaY/2<=-this._el.nativeElement.offsetHeight*this.state.items.length/this.config.panSensitivity?this.next():n.deltaY/2>=this._el.nativeElement.offsetHeight*this.state.items.length/this.config.panSensitivity?this.prev():this.action.emit(this.state.currIndex))}horizontalPan(n){!(n.direction&Hammer.DIRECTION_HORIZONTAL&&n.offsetDirection&Hammer.DIRECTION_HORIZONTAL)||(n.velocityX>.3?this.prev():n.velocityX<-.3||n.deltaX/2<=-this._el.nativeElement.offsetWidth*this.state.items.length/this.config.panSensitivity?this.next():n.deltaX/2>=this._el.nativeElement.offsetWidth*this.state.items.length/this.config.panSensitivity?this.prev():this.action.emit(this.state.currIndex))}next(){this.action.emit("next")}prev(){this.action.emit("prev")}updateSlider(n){const s=Object.assign(Object.assign({},this._slidingWorker$.value),n);this._slidingWorker$.next(s)}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(c.Lbi))},r.\u0275cmp=c.Xpm({type:r,selectors:[["gallery-slider"]],inputs:{state:"state",config:"config"},outputs:{action:"action",itemClick:"itemClick",error:"error"},features:[c.TTD],ngContentSelectors:_D,decls:3,vars:3,consts:[["class","g-items-container",3,"ngStyle",4,"ngIf"],[1,"g-items-container",3,"ngStyle"],[1,"g-slider",3,"ngStyle"],[3,"type","config","data","currIndex","index","tapClick","error",4,"ngFor","ngForOf"],[3,"type","config","data","currIndex","index","tapClick","error"]],template:function(n,s){1&n&&(c.F$t(),c.YNc(0,E,3,5,"div",0),c.ALo(1,"async"),c.Hsn(2)),2&n&&c.Q6J("ngIf",c.lcZ(1,1,s.sliderState$))},directives:function(){return[mt,Hn,qn,IP,wD]},pipes:function(){return[Yo]},encapsulation:2,changeDetection:0}),r})(),xP=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=c.Xpm({type:r,selectors:[["gallery-counter"]],inputs:{state:"state"},decls:2,vars:1,consts:[[1,"g-counter"]],template:function(n,s){1&n&&(c.TgZ(0,"div",0),c._uU(1),c.qZA()),2&n&&(c.xp6(1),c.Oqu(s.state.currIndex+1+"/"+s.state.items.length))},encapsulation:2,changeDetection:0}),r})(),IP=(()=>{class r{constructor(){this.Types=Xr,this.error=new c.vpe}get isActive(){return this.index===this.currIndex}get isAutoPlay(){if(this.isActive&&(this.type===Xr.Video||this.type===Xr.Youtube))return this.data.autoplay}get youtubeSrc(){let n=0;this.isActive&&this.type===Xr.Youtube&&this.data.autoplay&&(n=1);const s=new URL(this.data.src);return s.search=new URLSearchParams(Object.assign(Object.assign({wmode:"transparent"},this.data.params),{autoplay:n})).toString(),s.href}get load(){switch(this.config.loadingStrategy){case bn.Preload:return!0;case bn.Lazy:return this.currIndex===this.index;default:return this.currIndex===this.index||this.currIndex===this.index-1||this.currIndex===this.index+1}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=c.Xpm({type:r,selectors:[["gallery-item"]],hostVars:2,hostBindings:function(n,s){2&n&&c.ekj("g-active-item",s.isActive)},inputs:{config:"config",index:"index",currIndex:"currIndex",type:"type",data:"data"},outputs:{error:"error"},decls:1,vars:1,consts:[[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"src","poster","controls","play","pause","error",4,"ngSwitchCase"],[3,"src","autoplay","pause",4,"ngSwitchCase"],[3,"src",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"src","loadingIcon","loadingError","error"],[1,"g-template","g-item-template"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"src","poster","controls","play","pause","error"],[3,"src","autoplay","pause"],[3,"src"]],template:function(n,s){1&n&&c.YNc(0,ne,6,5,"ng-container",0),2&n&&c.Q6J("ngIf",s.load)},directives:[mt,qo,Ss,Kl,pO,ki,_P,yP],encapsulation:2,changeDetection:0}),r})(),DP=(()=>{class r{constructor(){this.error=new c.vpe}get isActive(){return this.index===this.currIndex}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=c.Xpm({type:r,selectors:[["gallery-thumb"]],hostVars:2,hostBindings:function(n,s){2&n&&c.ekj("g-active-thumb",s.isActive)},inputs:{config:"config",index:"index",currIndex:"currIndex",type:"type",data:"data"},outputs:{error:"error"},decls:2,vars:5,consts:[["mode","indeterminate",3,"src","isThumbnail","loadingIcon","loadingError","error"],["class","g-template g-thumb-template",4,"ngIf"],[1,"g-template","g-thumb-template"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,s){1&n&&(c.TgZ(0,"gallery-image",0),c.NdJ("error",function(h){return s.error.emit(h)}),c.qZA(),c.YNc(1,it,2,6,"div",1)),2&n&&(c.Q6J("src",s.data.thumb)("isThumbnail",!0)("loadingIcon",s.config.thumbLoadingIcon)("loadingError",s.config.thumbLoadingError),c.xp6(1),c.Q6J("ngIf",s.config.thumbTemplate))},directives:[pO,mt,ki],encapsulation:2,changeDetection:0}),r})(),SP=(()=>{class r{constructor(n){this.document=n,this._imageLoader$=new Fn.xQ,this._loaderSub$=wr.w.EMPTY,this.loaded=new c.vpe,this.error=new c.vpe,this._loaderSub$=this._imageLoader$.pipe(Oi(s=>this.nativeLoader(s))).subscribe()}ngOnChanges(n){n.src&&n.src.previousValue!==n.src.currentValue&&this.loadImage(this.src)}ngOnDestroy(){this._loaderSub$.unsubscribe(),this._imageLoader$.complete()}loadImage(n){this._imageLoader$.next(n)}nativeLoader(n){const s=this.document.createElement("img");return s.src=n,function(...r){const i=r[r.length-1];return"function"==typeof i&&r.pop(),(0,Mb.n)(r,void 0).lift(new DR(i))}(Vl(s,"load").pipe((0,Dc.b)(()=>this.loaded.emit(n))),Vl(s,"error").pipe((0,Dc.b)(()=>this.error.emit(new Error(`[lazyImage]: The image ${n} did not load`)))))}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(oe))},r.\u0275dir=c.lG2({type:r,selectors:[["","lazyImage",""]],inputs:{src:["lazyImage","src"]},outputs:{loaded:"loaded",error:"error"},features:[c.TTD]}),r})(),wD=(()=>{class r{constructor(n){this._el=n,this.clickListener=wr.w.EMPTY,this.tapClick=new c.vpe}ngOnInit(){this.activateClickEvent()}activateClickEvent(){"undefined"!=typeof Hammer?(this._hammer=new Hammer(this._el.nativeElement),this._hammer.on("tap",()=>{this.tapClickDisabled||this.tapClick.emit(null)})):this.clickListener=Vl(this._el.nativeElement,"click").pipe(Qs(()=>!this.tapClickDisabled),(0,Dc.b)(()=>this.tapClick.emit(null))).subscribe()}ngOnDestroy(){this._hammer&&this._hammer.destroy(),this.clickListener.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.SBq))},r.\u0275dir=c.lG2({type:r,selectors:[["","tapClick",""]],inputs:{tapClickDisabled:"tapClickDisabled"},outputs:{tapClick:"tapClick"}}),r})(),TP=(()=>{class r{static withConfig(n){return{ngModule:r,providers:[{provide:vD,useValue:n}]}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[[Xl]]}),r})();function AO(){return"undefined"!=typeof window&&void 0!==window.document}function VR(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function qh(r){switch(r.length){case 0:return new Tc;case 1:return r[0];default:return new Gl(r)}}function mO(r,i,n,s,l={},h={}){const g=[],w=[];let C=-1,S=null;if(s.forEach(T=>{const k=T.offset,B=k==C,G=B&&S||{};Object.keys(T).forEach(q=>{let Ae=q,Se=T[q];if("offset"!==q)switch(Ae=i.normalizePropertyName(Ae,g),Se){case"!":Se=l[q];break;case Gi:Se=h[q];break;default:Se=i.normalizeStyleValue(q,Ae,Se,g)}G[Ae]=Se}),B||w.push(G),S=G,C=k}),g.length){const T="\n - ";throw new Error(`Unable to animate due to the following errors:${T}${g.join(T)}`)}return w}function UR(r,i,n,s){switch(i){case"start":r.onStart(()=>s(n&&GR(n,"start",r)));break;case"done":r.onDone(()=>s(n&&GR(n,"done",r)));break;case"destroy":r.onDestroy(()=>s(n&&GR(n,"destroy",r)))}}function GR(r,i,n){const s=n.totalTime,h=HR(r.element,r.triggerName,r.fromState,r.toState,i||r.phaseName,null==s?r.totalTime:s,!!n.disabled),g=r._data;return null!=g&&(h._data=g),h}function HR(r,i,n,s,l="",h=0,g){return{element:r,triggerName:i,fromState:n,toState:s,phaseName:l,totalTime:h,disabled:!!g}}function io(r,i,n){let s;return r instanceof Map?(s=r.get(i),s||r.set(i,s=n)):(s=r[i],s||(s=r[i]=n)),s}function yO(r){const i=r.indexOf(":");return[r.substring(1,i),r.substr(i+1)]}let jR=(r,i)=>!1,QR=(r,i)=>!1,_O=(r,i,n)=>[];const vO=VR();(vO||"undefined"!=typeof Element)&&(jR=AO()?(r,i)=>{for(;i&&i!==document.documentElement;){if(i===r)return!0;i=i.parentNode||i.host}return!1}:(r,i)=>r.contains(i),QR=(()=>{if(vO||Element.prototype.matches)return(r,i)=>r.matches(i);{const r=Element.prototype,i=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector;return i?(n,s)=>i.apply(n,[s]):QR}})(),_O=(r,i,n)=>{let s=[];if(n){const l=r.querySelectorAll(i);for(let h=0;h<l.length;h++)s.push(l[h])}else{const l=r.querySelector(i);l&&s.push(l)}return s});let $p=null,wO=!1;function zR(r){$p||($p=("undefined"!=typeof document?document.body:null)||{},wO=!!$p.style&&"WebkitAppearance"in $p.style);let i=!0;return $p.style&&!function(r){return"ebkit"==r.substring(1,6)}(r)&&(i=r in $p.style,!i&&wO&&(i="Webkit"+r.charAt(0).toUpperCase()+r.substr(1)in $p.style)),i}const qR=QR,YR=jR,WR=_O;function EO(r){const i={};return Object.keys(r).forEach(n=>{const s=n.replace(/([a-z])([A-Z])/g,"$1-$2");i[s]=r[n]}),i}let bO=(()=>{class r{validateStyleProperty(n){return zR(n)}matchesElement(n,s){return qR(n,s)}containsElement(n,s){return YR(n,s)}query(n,s,l){return WR(n,s,l)}computeStyle(n,s,l){return l||""}animate(n,s,l,h,g,w=[],C){return new Tc(l,h)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})(),ZR=(()=>{class r{}return r.NOOP=new bO,r})();const JR="ng-enter",ED="ng-leave",bD="ng-trigger",CD=".ng-trigger",xO="ng-animating",KR=".ng-animating";function Xp(r){if("number"==typeof r)return r;const i=r.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:$R(parseFloat(i[1]),i[2])}function $R(r,i){switch(i){case"s":return 1e3*r;default:return r}}function xD(r,i,n){return r.hasOwnProperty("duration")?r:function(r,i,n){let l,h=0,g="";if("string"==typeof r){const w=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===w)return i.push(`The provided timing value "${r}" is invalid.`),{duration:0,delay:0,easing:""};l=$R(parseFloat(w[1]),w[2]);const C=w[3];null!=C&&(h=$R(parseFloat(C),w[4]));const S=w[5];S&&(g=S)}else l=r;if(!n){let w=!1,C=i.length;l<0&&(i.push("Duration values below 0 are not allowed for this animation step."),w=!0),h<0&&(i.push("Delay values below 0 are not allowed for this animation step."),w=!0),w&&i.splice(C,0,`The provided timing value "${r}" is invalid.`)}return{duration:l,delay:h,easing:g}}(r,i,n)}function x_(r,i={}){return Object.keys(r).forEach(n=>{i[n]=r[n]}),i}function Yh(r,i,n={}){if(i)for(let s in r)n[s]=r[s];else x_(r,n);return n}function DO(r,i,n){return n?i+":"+n+";":""}function SO(r){let i="";for(let n=0;n<r.style.length;n++){const s=r.style.item(n);i+=DO(0,s,r.style.getPropertyValue(s))}for(const n in r.style)r.style.hasOwnProperty(n)&&!n.startsWith("_")&&(i+=DO(0,LP(n),r.style[n]));r.setAttribute("style",i)}function Hl(r,i,n){r.style&&(Object.keys(i).forEach(s=>{const l=ek(s);n&&!n.hasOwnProperty(s)&&(n[s]=r.style[l]),r.style[l]=i[s]}),VR()&&SO(r))}function eA(r,i){r.style&&(Object.keys(i).forEach(n=>{const s=ek(n);r.style[s]=""}),VR()&&SO(r))}function Fb(r){return Array.isArray(r)?1==r.length?r[0]:Sc(r):r}const XR=new RegExp("{{\\s*(.+?)\\s*}}","g");function TO(r){let i=[];if("string"==typeof r){let n;for(;n=XR.exec(r);)i.push(n[1]);XR.lastIndex=0}return i}function ID(r,i,n){const s=r.toString(),l=s.replace(XR,(h,g)=>{let w=i[g];return i.hasOwnProperty(g)||(n.push(`Please provide a value for the animation param ${g}`),w=""),w.toString()});return l==s?r:l}function DD(r){const i=[];let n=r.next();for(;!n.done;)i.push(n.value),n=r.next();return i}const PP=/-+([a-z0-9])/g;function ek(r){return r.replace(PP,(...i)=>i[1].toUpperCase())}function LP(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function MO(r,i){return 0===r||0===i}function RO(r,i,n){const s=Object.keys(n);if(s.length&&i.length){let h=i[0],g=[];if(s.forEach(w=>{h.hasOwnProperty(w)||g.push(w),h[w]=n[w]}),g.length)for(var l=1;l<i.length;l++){let w=i[l];g.forEach(function(C){w[C]=tk(r,C)})}}return i}function ro(r,i,n){switch(i.type){case 7:return r.visitTrigger(i,n);case 0:return r.visitState(i,n);case 1:return r.visitTransition(i,n);case 2:return r.visitSequence(i,n);case 3:return r.visitGroup(i,n);case 4:return r.visitAnimate(i,n);case 5:return r.visitKeyframes(i,n);case 6:return r.visitStyle(i,n);case 8:return r.visitReference(i,n);case 9:return r.visitAnimateChild(i,n);case 10:return r.visitAnimateRef(i,n);case 11:return r.visitQuery(i,n);case 12:return r.visitStagger(i,n);default:throw new Error(`Unable to resolve animation metadata node #${i.type}`)}}function tk(r,i){return window.getComputedStyle(r)[i]}function BP(r,i){const n=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(s=>function(r,i,n){if(":"==r[0]){const C=function(r,i){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,s)=>parseFloat(s)>parseFloat(n);case":decrement":return(n,s)=>parseFloat(s)<parseFloat(n);default:return i.push(`The transition alias value "${r}" is not supported`),"* => *"}}(r,n);if("function"==typeof C)return void i.push(C);r=C}const s=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==s||s.length<4)return n.push(`The provided transition expression "${r}" is not supported`),i;const l=s[1],h=s[2],g=s[3];i.push(kO(l,g));"<"==h[0]&&!("*"==l&&"*"==g)&&i.push(kO(g,l))}(s,n,i)):n.push(r),n}const TD=new Set(["true","1"]),MD=new Set(["false","0"]);function kO(r,i){const n=TD.has(r)||MD.has(r),s=TD.has(i)||MD.has(i);return(l,h)=>{let g="*"==r||r==l,w="*"==i||i==h;return!g&&n&&"boolean"==typeof l&&(g=l?TD.has(r):MD.has(r)),!w&&s&&"boolean"==typeof h&&(w=h?TD.has(i):MD.has(i)),g&&w}}const GP=new RegExp("s*:selfs*,?","g");function nk(r,i,n){return new HP(r).build(i,n)}class HP{constructor(i){this._driver=i}build(i,n){const s=new zP(n);return this._resetContextStyleTimingState(s),ro(this,Fb(i),s)}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles={},i.collectedStyles[""]={},i.currentTime=0}visitTrigger(i,n){let s=n.queryCount=0,l=n.depCount=0;const h=[],g=[];return"@"==i.name.charAt(0)&&n.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),i.definitions.forEach(w=>{if(this._resetContextStyleTimingState(n),0==w.type){const C=w,S=C.name;S.toString().split(/\s*,\s*/).forEach(T=>{C.name=T,h.push(this.visitState(C,n))}),C.name=S}else if(1==w.type){const C=this.visitTransition(w,n);s+=C.queryCount,l+=C.depCount,g.push(C)}else n.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:i.name,states:h,transitions:g,queryCount:s,depCount:l,options:null}}visitState(i,n){const s=this.visitStyle(i.styles,n),l=i.options&&i.options.params||null;if(s.containsDynamicStyles){const h=new Set,g=l||{};if(s.styles.forEach(w=>{if(RD(w)){const C=w;Object.keys(C).forEach(S=>{TO(C[S]).forEach(T=>{g.hasOwnProperty(T)||h.add(T)})})}}),h.size){const w=DD(h.values());n.errors.push(`state("${i.name}", ...) must define default values for all the following style substitutions: ${w.join(", ")}`)}}return{type:0,name:i.name,style:s,options:l?{params:l}:null}}visitTransition(i,n){n.queryCount=0,n.depCount=0;const s=ro(this,Fb(i.animation),n);return{type:1,matchers:BP(i.expr,n.errors),animation:s,queryCount:n.queryCount,depCount:n.depCount,options:tA(i.options)}}visitSequence(i,n){return{type:2,steps:i.steps.map(s=>ro(this,s,n)),options:tA(i.options)}}visitGroup(i,n){const s=n.currentTime;let l=0;const h=i.steps.map(g=>{n.currentTime=s;const w=ro(this,g,n);return l=Math.max(l,n.currentTime),w});return n.currentTime=l,{type:3,steps:h,options:tA(i.options)}}visitAnimate(i,n){const s=function(r,i){let n=null;if(r.hasOwnProperty("duration"))n=r;else if("number"==typeof r)return ik(xD(r,i).duration,0,"");const s=r;if(s.split(/\s+/).some(h=>"{"==h.charAt(0)&&"{"==h.charAt(1))){const h=ik(0,0,"");return h.dynamic=!0,h.strValue=s,h}return n=n||xD(s,i),ik(n.duration,n.delay,n.easing)}(i.timings,n.errors);n.currentAnimateTimings=s;let l,h=i.styles?i.styles:w_({});if(5==h.type)l=this.visitKeyframes(h,n);else{let g=i.styles,w=!1;if(!g){w=!0;const S={};s.easing&&(S.easing=s.easing),g=w_(S)}n.currentTime+=s.duration+s.delay;const C=this.visitStyle(g,n);C.isEmptyStep=w,l=C}return n.currentAnimateTimings=null,{type:4,timings:s,style:l,options:null}}visitStyle(i,n){const s=this._makeStyleAst(i,n);return this._validateStyleAst(s,n),s}_makeStyleAst(i,n){const s=[];Array.isArray(i.styles)?i.styles.forEach(g=>{"string"==typeof g?g==Gi?s.push(g):n.errors.push(`The provided style string value ${g} is not allowed.`):s.push(g)}):s.push(i.styles);let l=!1,h=null;return s.forEach(g=>{if(RD(g)){const w=g,C=w.easing;if(C&&(h=C,delete w.easing),!l)for(let S in w)if(w[S].toString().indexOf("{{")>=0){l=!0;break}}}),{type:6,styles:s,easing:h,offset:i.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(i,n){const s=n.currentAnimateTimings;let l=n.currentTime,h=n.currentTime;s&&h>0&&(h-=s.duration+s.delay),i.styles.forEach(g=>{"string"!=typeof g&&Object.keys(g).forEach(w=>{if(!this._driver.validateStyleProperty(w))return void n.errors.push(`The provided animation property "${w}" is not a supported CSS property for animations`);const C=n.collectedStyles[n.currentQuerySelector],S=C[w];let T=!0;S&&(h!=l&&h>=S.startTime&&l<=S.endTime&&(n.errors.push(`The CSS property "${w}" that exists between the times of "${S.startTime}ms" and "${S.endTime}ms" is also being animated in a parallel animation between the times of "${h}ms" and "${l}ms"`),T=!1),h=S.startTime),T&&(C[w]={startTime:h,endTime:l}),n.options&&function(r,i,n){const s=i.params||{},l=TO(r);l.length&&l.forEach(h=>{s.hasOwnProperty(h)||n.push(`Unable to resolve the local animation param ${h} in the given list of values`)})}(g[w],n.options,n.errors)})})}visitKeyframes(i,n){const s={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push("keyframes() must be placed inside of a call to animate()"),s;let h=0;const g=[];let w=!1,C=!1,S=0;const T=i.steps.map(ke=>{const We=this._makeStyleAst(ke,n);let Ke=null!=We.offset?We.offset:function(r){if("string"==typeof r)return null;let i=null;if(Array.isArray(r))r.forEach(n=>{if(RD(n)&&n.hasOwnProperty("offset")){const s=n;i=parseFloat(s.offset),delete s.offset}});else if(RD(r)&&r.hasOwnProperty("offset")){const n=r;i=parseFloat(n.offset),delete n.offset}return i}(We.styles),Xe=0;return null!=Ke&&(h++,Xe=We.offset=Ke),C=C||Xe<0||Xe>1,w=w||Xe<S,S=Xe,g.push(Xe),We});C&&n.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),w&&n.errors.push("Please ensure that all keyframe offsets are in order");const k=i.steps.length;let B=0;h>0&&h<k?n.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==h&&(B=1/(k-1));const G=k-1,q=n.currentTime,Ae=n.currentAnimateTimings,Se=Ae.duration;return T.forEach((ke,We)=>{const Ke=B>0?We==G?1:B*We:g[We],Xe=Ke*Se;n.currentTime=q+Ae.delay+Xe,Ae.duration=Xe,this._validateStyleAst(ke,n),ke.offset=Ke,s.styles.push(ke)}),s}visitReference(i,n){return{type:8,animation:ro(this,Fb(i.animation),n),options:tA(i.options)}}visitAnimateChild(i,n){return n.depCount++,{type:9,options:tA(i.options)}}visitAnimateRef(i,n){return{type:10,animation:this.visitReference(i.animation,n),options:tA(i.options)}}visitQuery(i,n){const s=n.currentQuerySelector,l=i.options||{};n.queryCount++,n.currentQuery=i;const[h,g]=function(r){const i=!!r.split(/\s*,\s*/).find(n=>":self"==n);return i&&(r=r.replace(GP,"")),[r=r.replace(/@\*/g,CD).replace(/@\w+/g,n=>CD+"-"+n.substr(1)).replace(/:animating/g,KR),i]}(i.selector);n.currentQuerySelector=s.length?s+" "+h:h,io(n.collectedStyles,n.currentQuerySelector,{});const w=ro(this,Fb(i.animation),n);return n.currentQuery=null,n.currentQuerySelector=s,{type:11,selector:h,limit:l.limit||0,optional:!!l.optional,includeSelf:g,animation:w,originalSelector:i.selector,options:tA(i.options)}}visitStagger(i,n){n.currentQuery||n.errors.push("stagger() can only be used inside of query()");const s="full"===i.timings?{duration:0,delay:0,easing:"full"}:xD(i.timings,n.errors,!0);return{type:12,animation:ro(this,Fb(i.animation),n),timings:s,options:null}}}class zP{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function RD(r){return!Array.isArray(r)&&"object"==typeof r}function tA(r){return r?(r=x_(r)).params&&(r.params=function(r){return r?x_(r):null}(r.params)):r={},r}function ik(r,i,n){return{duration:r,delay:i,easing:n}}function rk(r,i,n,s,l,h,g=null,w=!1){return{type:1,element:r,keyframes:i,preStyleProps:n,postStyleProps:s,duration:l,delay:h,totalTime:l+h,easing:g,subTimeline:w}}class kD{constructor(){this._map=new Map}consume(i){let n=this._map.get(i);return n?this._map.delete(i):n=[],n}append(i,n){let s=this._map.get(i);s||this._map.set(i,s=[]),s.push(...n)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const JP=new RegExp(":enter","g"),$P=new RegExp(":leave","g");function sk(r,i,n,s,l,h={},g={},w,C,S=[]){return(new XP).buildKeyframes(r,i,n,s,l,h,g,w,C,S)}class XP{buildKeyframes(i,n,s,l,h,g,w,C,S,T=[]){S=S||new kD;const k=new ok(i,n,S,l,h,T,[]);k.options=C,k.currentTimeline.setStyles([g],null,k.errors,C),ro(this,s,k);const B=k.timelines.filter(G=>G.containsAnimation());if(B.length&&Object.keys(w).length){const G=B[B.length-1];G.allowOnlyTimelineStyles()||G.setStyles([w],null,k.errors,C)}return B.length?B.map(G=>G.buildKeyframes()):[rk(n,[],[],[],0,0,"",!1)]}visitTrigger(i,n){}visitState(i,n){}visitTransition(i,n){}visitAnimateChild(i,n){const s=n.subInstructions.consume(n.element);if(s){const l=n.createSubContext(i.options),h=n.currentTimeline.currentTime,g=this._visitSubInstructions(s,l,l.options);h!=g&&n.transformIntoNewTimeline(g)}n.previousNode=i}visitAnimateRef(i,n){const s=n.createSubContext(i.options);s.transformIntoNewTimeline(),this.visitReference(i.animation,s),n.transformIntoNewTimeline(s.currentTimeline.currentTime),n.previousNode=i}_visitSubInstructions(i,n,s){let h=n.currentTimeline.currentTime;const g=null!=s.duration?Xp(s.duration):null,w=null!=s.delay?Xp(s.delay):null;return 0!==g&&i.forEach(C=>{const S=n.appendInstructionToTimeline(C,g,w);h=Math.max(h,S.duration+S.delay)}),h}visitReference(i,n){n.updateOptions(i.options,!0),ro(this,i.animation,n),n.previousNode=i}visitSequence(i,n){const s=n.subContextCount;let l=n;const h=i.options;if(h&&(h.params||h.delay)&&(l=n.createSubContext(h),l.transformIntoNewTimeline(),null!=h.delay)){6==l.previousNode.type&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=OD);const g=Xp(h.delay);l.delayNextStep(g)}i.steps.length&&(i.steps.forEach(g=>ro(this,g,l)),l.currentTimeline.applyStylesToKeyframe(),l.subContextCount>s&&l.transformIntoNewTimeline()),n.previousNode=i}visitGroup(i,n){const s=[];let l=n.currentTimeline.currentTime;const h=i.options&&i.options.delay?Xp(i.options.delay):0;i.steps.forEach(g=>{const w=n.createSubContext(i.options);h&&w.delayNextStep(h),ro(this,g,w),l=Math.max(l,w.currentTimeline.currentTime),s.push(w.currentTimeline)}),s.forEach(g=>n.currentTimeline.mergeTimelineCollectedStyles(g)),n.transformIntoNewTimeline(l),n.previousNode=i}_visitTiming(i,n){if(i.dynamic){const s=i.strValue;return xD(n.params?ID(s,n.params,n.errors):s,n.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,n){const s=n.currentAnimateTimings=this._visitTiming(i.timings,n),l=n.currentTimeline;s.delay&&(n.incrementTime(s.delay),l.snapshotCurrentStyles());const h=i.style;5==h.type?this.visitKeyframes(h,n):(n.incrementTime(s.duration),this.visitStyle(h,n),l.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=i}visitStyle(i,n){const s=n.currentTimeline,l=n.currentAnimateTimings;!l&&s.getCurrentStyleProperties().length&&s.forwardFrame();const h=l&&l.easing||i.easing;i.isEmptyStep?s.applyEmptyStep(h):s.setStyles(i.styles,h,n.errors,n.options),n.previousNode=i}visitKeyframes(i,n){const s=n.currentAnimateTimings,l=n.currentTimeline.duration,h=s.duration,w=n.createSubContext().currentTimeline;w.easing=s.easing,i.styles.forEach(C=>{w.forwardTime((C.offset||0)*h),w.setStyles(C.styles,C.easing,n.errors,n.options),w.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(w),n.transformIntoNewTimeline(l+h),n.previousNode=i}visitQuery(i,n){const s=n.currentTimeline.currentTime,l=i.options||{},h=l.delay?Xp(l.delay):0;h&&(6===n.previousNode.type||0==s&&n.currentTimeline.getCurrentStyleProperties().length)&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=OD);let g=s;const w=n.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!l.optional,n.errors);n.currentQueryTotal=w.length;let C=null;w.forEach((S,T)=>{n.currentQueryIndex=T;const k=n.createSubContext(i.options,S);h&&k.delayNextStep(h),S===n.element&&(C=k.currentTimeline),ro(this,i.animation,k),k.currentTimeline.applyStylesToKeyframe(),g=Math.max(g,k.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(g),C&&(n.currentTimeline.mergeTimelineCollectedStyles(C),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=i}visitStagger(i,n){const s=n.parentContext,l=n.currentTimeline,h=i.timings,g=Math.abs(h.duration),w=g*(n.currentQueryTotal-1);let C=g*n.currentQueryIndex;switch(h.duration<0?"reverse":h.easing){case"reverse":C=w-C;break;case"full":C=s.currentStaggerTime}const T=n.currentTimeline;C&&T.delayNextStep(C);const k=T.currentTime;ro(this,i.animation,n),n.previousNode=i,s.currentStaggerTime=l.currentTime-k+(l.startTime-s.currentTimeline.startTime)}}const OD={};class ok{constructor(i,n,s,l,h,g,w,C){this._driver=i,this.element=n,this.subInstructions=s,this._enterClassName=l,this._leaveClassName=h,this.errors=g,this.timelines=w,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=OD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=C||new ND(this._driver,n,0),w.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,n){if(!i)return;const s=i;let l=this.options;null!=s.duration&&(l.duration=Xp(s.duration)),null!=s.delay&&(l.delay=Xp(s.delay));const h=s.params;if(h){let g=l.params;g||(g=this.options.params={}),Object.keys(h).forEach(w=>{(!n||!g.hasOwnProperty(w))&&(g[w]=ID(h[w],g,this.errors))})}}_copyOptions(){const i={};if(this.options){const n=this.options.params;if(n){const s=i.params={};Object.keys(n).forEach(l=>{s[l]=n[l]})}}return i}createSubContext(i=null,n,s){const l=n||this.element,h=new ok(this._driver,l,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(l,s||0));return h.previousNode=this.previousNode,h.currentAnimateTimings=this.currentAnimateTimings,h.options=this._copyOptions(),h.updateOptions(i),h.currentQueryIndex=this.currentQueryIndex,h.currentQueryTotal=this.currentQueryTotal,h.parentContext=this,this.subContextCount++,h}transformIntoNewTimeline(i){return this.previousNode=OD,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,n,s){const l={duration:null!=n?n:i.duration,delay:this.currentTimeline.currentTime+(null!=s?s:0)+i.delay,easing:""},h=new eL(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,l,i.stretchStartingKeyframe);return this.timelines.push(h),l}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,n,s,l,h,g){let w=[];if(l&&w.push(this.element),i.length>0){i=(i=i.replace(JP,"."+this._enterClassName)).replace($P,"."+this._leaveClassName);let S=this._driver.query(this.element,i,1!=s);0!==s&&(S=s<0?S.slice(S.length+s,S.length):S.slice(0,s)),w.push(...S)}return!h&&0==w.length&&g.push(`\`query("${n}")\` returned zero elements. (Use \`query("${n}", { optional: true })\` if you wish to allow this.)`),w}}class ND{constructor(i,n,s,l){this._driver=i,this.element=n,this.startTime=s,this._elementTimelineStylesLookup=l,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const n=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||n?(this.forwardTime(this.currentTime+i),n&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,n){return this.applyStylesToKeyframe(),new ND(this._driver,i,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,n){this._localTimelineStyles[i]=n,this._globalTimelineStyles[i]=n,this._styleSummary[i]={time:this.currentTime,value:n}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&(this._previousKeyframe.easing=i),Object.keys(this._globalTimelineStyles).forEach(n=>{this._backFill[n]=this._globalTimelineStyles[n]||Gi,this._currentKeyframe[n]=Gi}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,n,s,l){n&&(this._previousKeyframe.easing=n);const h=l&&l.params||{},g=function(r,i){const n={};let s;return r.forEach(l=>{"*"===l?(s=s||Object.keys(i),s.forEach(h=>{n[h]=Gi})):Yh(l,!1,n)}),n}(i,this._globalTimelineStyles);Object.keys(g).forEach(w=>{const C=ID(g[w],h,s);this._pendingStyles[w]=C,this._localTimelineStyles.hasOwnProperty(w)||(this._backFill[w]=this._globalTimelineStyles.hasOwnProperty(w)?this._globalTimelineStyles[w]:Gi),this._updateStyle(w,C)})}applyStylesToKeyframe(){const i=this._pendingStyles,n=Object.keys(i);0!=n.length&&(this._pendingStyles={},n.forEach(s=>{this._currentKeyframe[s]=i[s]}),Object.keys(this._localTimelineStyles).forEach(s=>{this._currentKeyframe.hasOwnProperty(s)||(this._currentKeyframe[s]=this._localTimelineStyles[s])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(i=>{const n=this._localTimelineStyles[i];this._pendingStyles[i]=n,this._updateStyle(i,n)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let n in this._currentKeyframe)i.push(n);return i}mergeTimelineCollectedStyles(i){Object.keys(i._styleSummary).forEach(n=>{const s=this._styleSummary[n],l=i._styleSummary[n];(!s||l.time>s.time)&&this._updateStyle(n,l.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,n=new Set,s=1===this._keyframes.size&&0===this.duration;let l=[];this._keyframes.forEach((w,C)=>{const S=Yh(w,!0);Object.keys(S).forEach(T=>{const k=S[T];"!"==k?i.add(T):k==Gi&&n.add(T)}),s||(S.offset=C/this.duration),l.push(S)});const h=i.size?DD(i.values()):[],g=n.size?DD(n.values()):[];if(s){const w=l[0],C=x_(w);w.offset=0,C.offset=1,l=[w,C]}return rk(this.element,l,h,g,this.duration,this.startTime,this.easing,!1)}}class eL extends ND{constructor(i,n,s,l,h,g,w=!1){super(i,n,g.delay),this.keyframes=s,this.preStyleProps=l,this.postStyleProps=h,this._stretchStartingKeyframe=w,this.timings={duration:g.duration,delay:g.delay,easing:g.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:n,duration:s,easing:l}=this.timings;if(this._stretchStartingKeyframe&&n){const h=[],g=s+n,w=n/g,C=Yh(i[0],!1);C.offset=0,h.push(C);const S=Yh(i[0],!1);S.offset=FO(w),h.push(S);const T=i.length-1;for(let k=1;k<=T;k++){let B=Yh(i[k],!1);B.offset=FO((n+B.offset*s)/g),h.push(B)}s=g,n=0,l="",i=h}return rk(this.element,i,this.preStyleProps,this.postStyleProps,s,n,l,!0)}}function FO(r,i=3){const n=Math.pow(10,i-1);return Math.round(r*n)/n}class ak{}class nL extends ak{normalizePropertyName(i,n){return ek(i)}normalizeStyleValue(i,n,s,l){let h="";const g=s.toString().trim();if(iL[n]&&0!==s&&"0"!==s)if("number"==typeof s)h="px";else{const w=s.match(/^[+-]?[\d\.]+([a-z]*)$/);w&&0==w[1].length&&l.push(`Please provide a CSS unit value for ${i}:${s}`)}return g+h}}const iL=(()=>function(r){const i={};return r.forEach(n=>i[n]=!0),i}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function PO(r,i,n,s,l,h,g,w,C,S,T,k,B){return{type:0,element:r,triggerName:i,isRemovalTransition:l,fromState:n,fromStyles:h,toState:s,toStyles:g,timelines:w,queriedElements:C,preStyleProps:S,postStyleProps:T,totalTime:k,errors:B}}const lk={};class LO{constructor(i,n,s){this._triggerName=i,this.ast=n,this._stateStyles=s}match(i,n,s,l){return function(r,i,n,s,l){return r.some(h=>h(i,n,s,l))}(this.ast.matchers,i,n,s,l)}buildStyles(i,n,s){const l=this._stateStyles["*"],h=this._stateStyles[i],g=l?l.buildStyles(n,s):{};return h?h.buildStyles(n,s):g}build(i,n,s,l,h,g,w,C,S,T){const k=[],B=this.ast.options&&this.ast.options.params||lk,q=this.buildStyles(s,w&&w.params||lk,k),Ae=C&&C.params||lk,Se=this.buildStyles(l,Ae,k),ke=new Set,We=new Map,Ke=new Map,Xe="void"===l,Zt={params:Object.assign(Object.assign({},B),Ae)},oi=T?[]:sk(i,n,this.ast.animation,h,g,q,Se,Zt,S,k);let Hi=0;if(oi.forEach(oo=>{Hi=Math.max(oo.duration+oo.delay,Hi)}),k.length)return PO(n,this._triggerName,s,l,Xe,q,Se,[],[],We,Ke,Hi,k);oi.forEach(oo=>{const kc=oo.element,cP=io(We,kc,{});oo.preStyleProps.forEach(aA=>cP[aA]=!0);const Qb=io(Ke,kc,{});oo.postStyleProps.forEach(aA=>Qb[aA]=!0),kc!==n&&ke.add(kc)});const es=DD(ke.values());return PO(n,this._triggerName,s,l,Xe,q,Se,oi,es,We,Ke,Hi)}}class oL{constructor(i,n,s){this.styles=i,this.defaultParams=n,this.normalizer=s}buildStyles(i,n){const s={},l=x_(this.defaultParams);return Object.keys(i).forEach(h=>{const g=i[h];null!=g&&(l[h]=g)}),this.styles.styles.forEach(h=>{if("string"!=typeof h){const g=h;Object.keys(g).forEach(w=>{let C=g[w];C.length>1&&(C=ID(C,l,n));const S=this.normalizer.normalizePropertyName(w,n);C=this.normalizer.normalizeStyleValue(w,S,C,n),s[S]=C})}}),s}}class lL{constructor(i,n,s){this.name=i,this.ast=n,this._normalizer=s,this.transitionFactories=[],this.states={},n.states.forEach(l=>{this.states[l.name]=new oL(l.style,l.options&&l.options.params||{},s)}),BO(this.states,"true","1"),BO(this.states,"false","0"),n.transitions.forEach(l=>{this.transitionFactories.push(new LO(i,l,this.states))}),this.fallbackTransition=function(r,i,n){return new LO(r,{type:1,animation:{type:2,steps:[],options:null},matchers:[(g,w)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,n,s,l){return this.transitionFactories.find(g=>g.match(i,n,s,l))||null}matchStyles(i,n,s){return this.fallbackTransition.buildStyles(i,n,s)}}function BO(r,i,n){r.hasOwnProperty(i)?r.hasOwnProperty(n)||(r[n]=r[i]):r.hasOwnProperty(n)&&(r[i]=r[n])}const cL=new kD;class dL{constructor(i,n,s){this.bodyNode=i,this._driver=n,this._normalizer=s,this._animations={},this._playersById={},this.players=[]}register(i,n){const s=[],l=nk(this._driver,n,s);if(s.length)throw new Error(`Unable to build the animation due to the following errors: ${s.join("\n")}`);this._animations[i]=l}_buildPlayer(i,n,s){const l=i.element,h=mO(0,this._normalizer,0,i.keyframes,n,s);return this._driver.animate(l,h,i.duration,i.delay,i.easing,[],!0)}create(i,n,s={}){const l=[],h=this._animations[i];let g;const w=new Map;if(h?(g=sk(this._driver,n,h,JR,ED,{},{},s,cL,l),g.forEach(T=>{const k=io(w,T.element,{});T.postStyleProps.forEach(B=>k[B]=null)})):(l.push("The requested animation doesn't exist or has already been destroyed"),g=[]),l.length)throw new Error(`Unable to create the animation due to the following errors: ${l.join("\n")}`);w.forEach((T,k)=>{Object.keys(T).forEach(B=>{T[B]=this._driver.computeStyle(k,B,Gi)})});const S=qh(g.map(T=>{const k=w.get(T.element);return this._buildPlayer(T,{},k)}));return this._playersById[i]=S,S.onDestroy(()=>this.destroy(i)),this.players.push(S),S}destroy(i){const n=this._getPlayer(i);n.destroy(),delete this._playersById[i];const s=this.players.indexOf(n);s>=0&&this.players.splice(s,1)}_getPlayer(i){const n=this._playersById[i];if(!n)throw new Error(`Unable to find the timeline player referenced by ${i}`);return n}listen(i,n,s,l){const h=HR(n,"","","");return UR(this._getPlayer(i),s,h,l),()=>{}}command(i,n,s,l){if("register"==s)return void this.register(i,l[0]);if("create"==s)return void this.create(i,n,l[0]||{});const h=this._getPlayer(i);switch(s){case"play":h.play();break;case"pause":h.pause();break;case"reset":h.reset();break;case"restart":h.restart();break;case"finish":h.finish();break;case"init":h.init();break;case"setPosition":h.setPosition(parseFloat(l[0]));break;case"destroy":this.destroy(i)}}}const VO="ng-animate-queued",UO="ng-animate-disabled",GO=".ng-animate-disabled",pL=[],HO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},AL={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Go="__ng_removed";class uk{constructor(i,n=""){this.namespaceId=n;const s=i&&i.hasOwnProperty("value");if(this.value=function(r){return null!=r?r:null}(s?i.value:i),s){const h=x_(i);delete h.value,this.options=h}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(i){const n=i.params;if(n){const s=this.options.params;Object.keys(n).forEach(l=>{null==s[l]&&(s[l]=n[l])})}}}const Pb="void",ck=new uk(Pb);class mL{constructor(i,n,s){this.id=i,this.hostElement=n,this._engine=s,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,Ho(n,this._hostClassName)}listen(i,n,s,l){if(!this._triggers.hasOwnProperty(n))throw new Error(`Unable to listen on the animation trigger event "${s}" because the animation trigger "${n}" doesn't exist!`);if(null==s||0==s.length)throw new Error(`Unable to listen on the animation trigger "${n}" because the provided event is undefined!`);if(!function(r){return"start"==r||"done"==r}(s))throw new Error(`The provided animation trigger event "${s}" for the animation trigger "${n}" is not supported!`);const h=io(this._elementListeners,i,[]),g={name:n,phase:s,callback:l};h.push(g);const w=io(this._engine.statesByElement,i,{});return w.hasOwnProperty(n)||(Ho(i,bD),Ho(i,bD+"-"+n),w[n]=ck),()=>{this._engine.afterFlush(()=>{const C=h.indexOf(g);C>=0&&h.splice(C,1),this._triggers[n]||delete w[n]})}}register(i,n){return!this._triggers[i]&&(this._triggers[i]=n,!0)}_getTrigger(i){const n=this._triggers[i];if(!n)throw new Error(`The provided animation trigger "${i}" has not been registered!`);return n}trigger(i,n,s,l=!0){const h=this._getTrigger(n),g=new dk(this.id,n,i);let w=this._engine.statesByElement.get(i);w||(Ho(i,bD),Ho(i,bD+"-"+n),this._engine.statesByElement.set(i,w={}));let C=w[n];const S=new uk(s,this.id);if(!(s&&s.hasOwnProperty("value"))&&C&&S.absorbOptions(C.options),w[n]=S,C||(C=ck),S.value!==Pb&&C.value===S.value){if(!function(r,i){const n=Object.keys(r),s=Object.keys(i);if(n.length!=s.length)return!1;for(let l=0;l<n.length;l++){const h=n[l];if(!i.hasOwnProperty(h)||r[h]!==i[h])return!1}return!0}(C.params,S.params)){const Ae=[],Se=h.matchStyles(C.value,C.params,Ae),ke=h.matchStyles(S.value,S.params,Ae);Ae.length?this._engine.reportError(Ae):this._engine.afterFlush(()=>{eA(i,Se),Hl(i,ke)})}return}const B=io(this._engine.playersByElement,i,[]);B.forEach(Ae=>{Ae.namespaceId==this.id&&Ae.triggerName==n&&Ae.queued&&Ae.destroy()});let G=h.matchTransition(C.value,S.value,i,S.params),q=!1;if(!G){if(!l)return;G=h.fallbackTransition,q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:n,transition:G,fromState:C,toState:S,player:g,isFallbackTransition:q}),q||(Ho(i,VO),g.onStart(()=>{I_(i,VO)})),g.onDone(()=>{let Ae=this.players.indexOf(g);Ae>=0&&this.players.splice(Ae,1);const Se=this._engine.playersByElement.get(i);if(Se){let ke=Se.indexOf(g);ke>=0&&Se.splice(ke,1)}}),this.players.push(g),B.push(g),g}deregister(i){delete this._triggers[i],this._engine.statesByElement.forEach((n,s)=>{delete n[i]}),this._elementListeners.forEach((n,s)=>{this._elementListeners.set(s,n.filter(l=>l.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const n=this._engine.playersByElement.get(i);n&&(n.forEach(s=>s.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,n){const s=this._engine.driver.query(i,CD,!0);s.forEach(l=>{if(l[Go])return;const h=this._engine.fetchNamespacesByElement(l);h.size?h.forEach(g=>g.triggerLeaveAnimation(l,n,!1,!0)):this.clearElementCache(l)}),this._engine.afterFlushAnimationsDone(()=>s.forEach(l=>this.clearElementCache(l)))}triggerLeaveAnimation(i,n,s,l){const h=this._engine.statesByElement.get(i);if(h){const g=[];if(Object.keys(h).forEach(w=>{if(this._triggers[w]){const C=this.trigger(i,w,Pb,l);C&&g.push(C)}}),g.length)return this._engine.markElementAsRemoved(this.id,i,!0,n),s&&qh(g).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const n=this._elementListeners.get(i),s=this._engine.statesByElement.get(i);if(n&&s){const l=new Set;n.forEach(h=>{const g=h.name;if(l.has(g))return;l.add(g);const C=this._triggers[g].fallbackTransition,S=s[g]||ck,T=new uk(Pb),k=new dk(this.id,g,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:g,transition:C,fromState:S,toState:T,player:k,isFallbackTransition:!0})})}}removeNode(i,n){const s=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,n),this.triggerLeaveAnimation(i,n,!0))return;let l=!1;if(s.totalAnimations){const h=s.players.length?s.playersByQueriedElement.get(i):[];if(h&&h.length)l=!0;else{let g=i;for(;g=g.parentNode;)if(s.statesByElement.get(g)){l=!0;break}}}if(this.prepareLeaveAnimationListeners(i),l)s.markElementAsRemoved(this.id,i,!1,n);else{const h=i[Go];(!h||h===HO)&&(s.afterFlush(()=>this.clearElementCache(i)),s.destroyInnerAnimations(i),s._onRemovalComplete(i,n))}}insertNode(i,n){Ho(i,this._hostClassName)}drainQueuedTransitions(i){const n=[];return this._queue.forEach(s=>{const l=s.player;if(l.destroyed)return;const h=s.element,g=this._elementListeners.get(h);g&&g.forEach(w=>{if(w.name==s.triggerName){const C=HR(h,s.triggerName,s.fromState.value,s.toState.value);C._data=i,UR(s.player,w.phase,C,w.callback)}}),l.markedForDestroy?this._engine.afterFlush(()=>{l.destroy()}):n.push(s)}),this._queue=[],n.sort((s,l)=>{const h=s.transition.ast.depCount,g=l.transition.ast.depCount;return 0==h||0==g?h-g:this._engine.driver.containsElement(s.element,l.element)?1:-1})}destroy(i){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}elementContainsData(i){let n=!1;return this._elementListeners.has(i)&&(n=!0),n=!!this._queue.find(s=>s.element===i)||n,n}}class yL{constructor(i,n,s){this.bodyNode=i,this.driver=n,this._normalizer=s,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(l,h)=>{}}_onRemovalComplete(i,n){this.onRemovalComplete(i,n)}get queuedPlayers(){const i=[];return this._namespaceList.forEach(n=>{n.players.forEach(s=>{s.queued&&i.push(s)})}),i}createNamespace(i,n){const s=new mL(i,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(s,n):(this.newHostElements.set(n,s),this.collectEnterElement(n)),this._namespaceLookup[i]=s}_balanceNamespaceList(i,n){const s=this._namespaceList.length-1;if(s>=0){let l=!1;for(let h=s;h>=0;h--)if(this.driver.containsElement(this._namespaceList[h].hostElement,n)){this._namespaceList.splice(h+1,0,i),l=!0;break}l||this._namespaceList.splice(0,0,i)}else this._namespaceList.push(i);return this.namespacesByHostElement.set(n,i),i}register(i,n){let s=this._namespaceLookup[i];return s||(s=this.createNamespace(i,n)),s}registerTrigger(i,n,s){let l=this._namespaceLookup[i];l&&l.register(n,s)&&this.totalAnimations++}destroy(i,n){if(!i)return;const s=this._fetchNamespace(i);this.afterFlush(()=>{this.namespacesByHostElement.delete(s.hostElement),delete this._namespaceLookup[i];const l=this._namespaceList.indexOf(s);l>=0&&this._namespaceList.splice(l,1)}),this.afterFlushAnimationsDone(()=>s.destroy(n))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const n=new Set,s=this.statesByElement.get(i);if(s){const l=Object.keys(s);for(let h=0;h<l.length;h++){const g=s[l[h]].namespaceId;if(g){const w=this._fetchNamespace(g);w&&n.add(w)}}}return n}trigger(i,n,s,l){if(FD(n)){const h=this._fetchNamespace(i);if(h)return h.trigger(n,s,l),!0}return!1}insertNode(i,n,s,l){if(!FD(n))return;const h=n[Go];if(h&&h.setForRemoval){h.setForRemoval=!1,h.setForMove=!0;const g=this.collectedLeaveElements.indexOf(n);g>=0&&this.collectedLeaveElements.splice(g,1)}if(i){const g=this._fetchNamespace(i);g&&g.insertNode(n,s)}l&&this.collectEnterElement(n)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,n){n?this.disabledNodes.has(i)||(this.disabledNodes.add(i),Ho(i,UO)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),I_(i,UO))}removeNode(i,n,s,l){if(FD(n)){const h=i?this._fetchNamespace(i):null;if(h?h.removeNode(n,l):this.markElementAsRemoved(i,n,!1,l),s){const g=this.namespacesByHostElement.get(n);g&&g.id!==i&&g.removeNode(n,l)}}else this._onRemovalComplete(n,l)}markElementAsRemoved(i,n,s,l){this.collectedLeaveElements.push(n),n[Go]={namespaceId:i,setForRemoval:l,hasAnimation:s,removedBeforeQueried:!1}}listen(i,n,s,l,h){return FD(n)?this._fetchNamespace(i).listen(n,s,l,h):()=>{}}_buildInstruction(i,n,s,l,h){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,s,l,i.fromState.options,i.toState.options,n,h)}destroyInnerAnimations(i){let n=this.driver.query(i,CD,!0);n.forEach(s=>this.destroyActiveAnimationsForElement(s)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(i,KR,!0),n.forEach(s=>this.finishActiveQueriedAnimationOnElement(s)))}destroyActiveAnimationsForElement(i){const n=this.playersByElement.get(i);n&&n.forEach(s=>{s.queued?s.markedForDestroy=!0:s.destroy()})}finishActiveQueriedAnimationOnElement(i){const n=this.playersByQueriedElement.get(i);n&&n.forEach(s=>s.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return qh(this.players).onDone(()=>i());i()})}processLeaveNode(i){const n=i[Go];if(n&&n.setForRemoval){if(i[Go]=HO,n.namespaceId){this.destroyInnerAnimations(i);const s=this._fetchNamespace(n.namespaceId);s&&s.clearElementCache(i)}this._onRemovalComplete(i,n.setForRemoval)}this.driver.matchesElement(i,GO)&&this.markElementAsDisabled(i,!1),this.driver.query(i,GO,!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(i=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((s,l)=>this._balanceNamespaceList(s,l)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let s=0;s<this.collectedEnterElements.length;s++)Ho(this.collectedEnterElements[s],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const s=[];try{n=this._flushAnimations(s,i)}finally{for(let l=0;l<s.length;l++)s[l]()}}else for(let s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(s=>s()),this._flushFns=[],this._whenQuietFns.length){const s=this._whenQuietFns;this._whenQuietFns=[],n.length?qh(n).onDone(()=>{s.forEach(l=>l())}):s.forEach(l=>l())}}reportError(i){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${i.join("\n")}`)}_flushAnimations(i,n){const s=new kD,l=[],h=new Map,g=[],w=new Map,C=new Map,S=new Map,T=new Set;this.disabledNodes.forEach(et=>{T.add(et);const dt=this.driver.query(et,".ng-animate-queued",!0);for(let bt=0;bt<dt.length;bt++)T.add(dt[bt])});const k=this.bodyNode,B=Array.from(this.statesByElement.keys()),G=zO(B,this.collectedEnterElements),q=new Map;let Ae=0;G.forEach((et,dt)=>{const bt=JR+Ae++;q.set(dt,bt),et.forEach(zt=>Ho(zt,bt))});const Se=[],ke=new Set,We=new Set;for(let et=0;et<this.collectedLeaveElements.length;et++){const dt=this.collectedLeaveElements[et],bt=dt[Go];bt&&bt.setForRemoval&&(Se.push(dt),ke.add(dt),bt.hasAnimation?this.driver.query(dt,".ng-star-inserted",!0).forEach(zt=>ke.add(zt)):We.add(dt))}const Ke=new Map,Xe=zO(B,Array.from(ke));Xe.forEach((et,dt)=>{const bt=ED+Ae++;Ke.set(dt,bt),et.forEach(zt=>Ho(zt,bt))}),i.push(()=>{G.forEach((et,dt)=>{const bt=q.get(dt);et.forEach(zt=>I_(zt,bt))}),Xe.forEach((et,dt)=>{const bt=Ke.get(dt);et.forEach(zt=>I_(zt,bt))}),Se.forEach(et=>{this.processLeaveNode(et)})});const Zt=[],oi=[];for(let et=this._namespaceList.length-1;et>=0;et--)this._namespaceList[et].drainQueuedTransitions(n).forEach(bt=>{const zt=bt.player,sr=bt.element;if(Zt.push(zt),this.collectedEnterElements.length){const Yl=sr[Go];if(Yl&&Yl.setForMove)return void zt.destroy()}const ql=!k||!this.driver.containsElement(k,sr),ao=Ke.get(sr),$h=q.get(sr),ai=this._buildInstruction(bt,s,$h,ao,ql);if(ai.errors&&ai.errors.length)oi.push(ai);else{if(ql)return zt.onStart(()=>eA(sr,ai.fromStyles)),zt.onDestroy(()=>Hl(sr,ai.toStyles)),void l.push(zt);if(bt.isFallbackTransition)return zt.onStart(()=>eA(sr,ai.fromStyles)),zt.onDestroy(()=>Hl(sr,ai.toStyles)),void l.push(zt);ai.timelines.forEach(Yl=>Yl.stretchStartingKeyframe=!0),s.append(sr,ai.timelines),g.push({instruction:ai,player:zt,element:sr}),ai.queriedElements.forEach(Yl=>io(w,Yl,[]).push(zt)),ai.preStyleProps.forEach((Yl,zb)=>{const eS=Object.keys(Yl);if(eS.length){let lA=C.get(zb);lA||C.set(zb,lA=new Set),eS.forEach(Uk=>lA.add(Uk))}}),ai.postStyleProps.forEach((Yl,zb)=>{const eS=Object.keys(Yl);let lA=S.get(zb);lA||S.set(zb,lA=new Set),eS.forEach(Uk=>lA.add(Uk))})}});if(oi.length){const et=[];oi.forEach(dt=>{et.push(`@${dt.triggerName} has failed due to:\n`),dt.errors.forEach(bt=>et.push(`- ${bt}\n`))}),Zt.forEach(dt=>dt.destroy()),this.reportError(et)}const Hi=new Map,es=new Map;g.forEach(et=>{const dt=et.element;s.has(dt)&&(es.set(dt,dt),this._beforeAnimationBuild(et.player.namespaceId,et.instruction,Hi))}),l.forEach(et=>{const dt=et.element;this._getPreviousPlayers(dt,!1,et.namespaceId,et.triggerName,null).forEach(zt=>{io(Hi,dt,[]).push(zt),zt.destroy()})});const oo=Se.filter(et=>YO(et,C,S)),kc=new Map;QO(kc,this.driver,We,S,Gi).forEach(et=>{YO(et,C,S)&&oo.push(et)});const Qb=new Map;G.forEach((et,dt)=>{QO(Qb,this.driver,new Set(et),C,"!")}),oo.forEach(et=>{const dt=kc.get(et),bt=Qb.get(et);kc.set(et,Object.assign(Object.assign({},dt),bt))});const aA=[],dP=[],hP={};g.forEach(et=>{const{element:dt,player:bt,instruction:zt}=et;if(s.has(dt)){if(T.has(dt))return bt.onDestroy(()=>Hl(dt,zt.toStyles)),bt.disabled=!0,bt.overrideTotalTime(zt.totalTime),void l.push(bt);let sr=hP;if(es.size>1){let ao=dt;const $h=[];for(;ao=ao.parentNode;){const ai=es.get(ao);if(ai){sr=ai;break}$h.push(ao)}$h.forEach(ai=>es.set(ai,sr))}const ql=this._buildAnimation(bt.namespaceId,zt,Hi,h,Qb,kc);if(bt.setRealPlayer(ql),sr===hP)aA.push(bt);else{const ao=this.playersByElement.get(sr);ao&&ao.length&&(bt.parentPlayer=qh(ao)),l.push(bt)}}else eA(dt,zt.fromStyles),bt.onDestroy(()=>Hl(dt,zt.toStyles)),dP.push(bt),T.has(dt)&&l.push(bt)}),dP.forEach(et=>{const dt=h.get(et.element);if(dt&&dt.length){const bt=qh(dt);et.setRealPlayer(bt)}}),l.forEach(et=>{et.parentPlayer?et.syncPlayerEvents(et.parentPlayer):et.destroy()});for(let et=0;et<Se.length;et++){const dt=Se[et],bt=dt[Go];if(I_(dt,ED),bt&&bt.hasAnimation)continue;let zt=[];if(w.size){let ql=w.get(dt);ql&&ql.length&&zt.push(...ql);let ao=this.driver.query(dt,KR,!0);for(let $h=0;$h<ao.length;$h++){let ai=w.get(ao[$h]);ai&&ai.length&&zt.push(...ai)}}const sr=zt.filter(ql=>!ql.destroyed);sr.length?EL(this,dt,sr):this.processLeaveNode(dt)}return Se.length=0,aA.forEach(et=>{this.players.push(et),et.onDone(()=>{et.destroy();const dt=this.players.indexOf(et);this.players.splice(dt,1)}),et.play()}),aA}elementContainsData(i,n){let s=!1;const l=n[Go];return l&&l.setForRemoval&&(s=!0),this.playersByElement.has(n)&&(s=!0),this.playersByQueriedElement.has(n)&&(s=!0),this.statesByElement.has(n)&&(s=!0),this._fetchNamespace(i).elementContainsData(n)||s}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,n,s,l,h){let g=[];if(n){const w=this.playersByQueriedElement.get(i);w&&(g=w)}else{const w=this.playersByElement.get(i);if(w){const C=!h||h==Pb;w.forEach(S=>{S.queued||!C&&S.triggerName!=l||g.push(S)})}}return(s||l)&&(g=g.filter(w=>!(s&&s!=w.namespaceId||l&&l!=w.triggerName))),g}_beforeAnimationBuild(i,n,s){const h=n.element,g=n.isRemovalTransition?void 0:i,w=n.isRemovalTransition?void 0:n.triggerName;for(const C of n.timelines){const S=C.element,T=S!==h,k=io(s,S,[]);this._getPreviousPlayers(S,T,g,w,n.toState).forEach(G=>{const q=G.getRealPlayer();q.beforeDestroy&&q.beforeDestroy(),G.destroy(),k.push(G)})}eA(h,n.fromStyles)}_buildAnimation(i,n,s,l,h,g){const w=n.triggerName,C=n.element,S=[],T=new Set,k=new Set,B=n.timelines.map(q=>{const Ae=q.element;T.add(Ae);const Se=Ae[Go];if(Se&&Se.removedBeforeQueried)return new Tc(q.duration,q.delay);const ke=Ae!==C,We=function(r){const i=[];return qO(r,i),i}((s.get(Ae)||pL).map(Hi=>Hi.getRealPlayer())).filter(Hi=>!!Hi.element&&Hi.element===Ae),Ke=h.get(Ae),Xe=g.get(Ae),Zt=mO(0,this._normalizer,0,q.keyframes,Ke,Xe),oi=this._buildPlayer(q,Zt,We);if(q.subTimeline&&l&&k.add(Ae),ke){const Hi=new dk(i,w,Ae);Hi.setRealPlayer(oi),S.push(Hi)}return oi});S.forEach(q=>{io(this.playersByQueriedElement,q.element,[]).push(q),q.onDone(()=>function(r,i,n){let s;if(r instanceof Map){if(s=r.get(i),s){if(s.length){const l=s.indexOf(n);s.splice(l,1)}0==s.length&&r.delete(i)}}else if(s=r[i],s){if(s.length){const l=s.indexOf(n);s.splice(l,1)}0==s.length&&delete r[i]}return s}(this.playersByQueriedElement,q.element,q))}),T.forEach(q=>Ho(q,xO));const G=qh(B);return G.onDestroy(()=>{T.forEach(q=>I_(q,xO)),Hl(C,n.toStyles)}),k.forEach(q=>{io(l,q,[]).push(G)}),G}_buildPlayer(i,n,s){return n.length>0?this.driver.animate(i.element,n,i.duration,i.delay,i.easing,s):new Tc(i.duration,i.delay)}}class dk{constructor(i,n,s){this.namespaceId=i,this.triggerName=n,this.element=s,this._player=new Tc,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,Object.keys(this._queuedCallbacks).forEach(n=>{this._queuedCallbacks[n].forEach(s=>UR(i,n,void 0,s))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const n=this._player;n.triggerCallback&&i.onStart(()=>n.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,n){io(this._queuedCallbacks,i,[]).push(n)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const n=this._player;n.triggerCallback&&n.triggerCallback(i)}}function FD(r){return r&&1===r.nodeType}function jO(r,i){const n=r.style.display;return r.style.display=null!=i?i:"none",n}function QO(r,i,n,s,l){const h=[];n.forEach(C=>h.push(jO(C)));const g=[];s.forEach((C,S)=>{const T={};C.forEach(k=>{const B=T[k]=i.computeStyle(S,k,l);(!B||0==B.length)&&(S[Go]=AL,g.push(S))}),r.set(S,T)});let w=0;return n.forEach(C=>jO(C,h[w++])),g}function zO(r,i){const n=new Map;if(r.forEach(w=>n.set(w,[])),0==i.length)return n;const l=new Set(i),h=new Map;function g(w){if(!w)return 1;let C=h.get(w);if(C)return C;const S=w.parentNode;return C=n.has(S)?S:l.has(S)?1:g(S),h.set(w,C),C}return i.forEach(w=>{const C=g(w);1!==C&&n.get(C).push(w)}),n}const PD="$$classes";function Ho(r,i){if(r.classList)r.classList.add(i);else{let n=r[PD];n||(n=r[PD]={}),n[i]=!0}}function I_(r,i){if(r.classList)r.classList.remove(i);else{let n=r[PD];n&&delete n[i]}}function EL(r,i,n){qh(n).onDone(()=>r.processLeaveNode(i))}function qO(r,i){for(let n=0;n<r.length;n++){const s=r[n];s instanceof Gl?qO(s.players,i):i.push(s)}}function YO(r,i,n){const s=n.get(r);if(!s)return!1;let l=i.get(r);return l?s.forEach(h=>l.add(h)):i.set(r,s),n.delete(r),!0}class LD{constructor(i,n,s){this.bodyNode=i,this._driver=n,this._normalizer=s,this._triggerCache={},this.onRemovalComplete=(l,h)=>{},this._transitionEngine=new yL(i,n,s),this._timelineEngine=new dL(i,n,s),this._transitionEngine.onRemovalComplete=(l,h)=>this.onRemovalComplete(l,h)}registerTrigger(i,n,s,l,h){const g=i+"-"+l;let w=this._triggerCache[g];if(!w){const C=[],S=nk(this._driver,h,C);if(C.length)throw new Error(`The animation trigger "${l}" has failed to build due to the following errors:\n - ${C.join("\n - ")}`);w=function(r,i,n){return new lL(r,i,n)}(l,S,this._normalizer),this._triggerCache[g]=w}this._transitionEngine.registerTrigger(n,l,w)}register(i,n){this._transitionEngine.register(i,n)}destroy(i,n){this._transitionEngine.destroy(i,n)}onInsert(i,n,s,l){this._transitionEngine.insertNode(i,n,s,l)}onRemove(i,n,s,l){this._transitionEngine.removeNode(i,n,l||!1,s)}disableAnimations(i,n){this._transitionEngine.markElementAsDisabled(i,n)}process(i,n,s,l){if("@"==s.charAt(0)){const[h,g]=yO(s);this._timelineEngine.command(h,n,g,l)}else this._transitionEngine.trigger(i,n,s,l)}listen(i,n,s,l,h){if("@"==s.charAt(0)){const[g,w]=yO(s);return this._timelineEngine.listen(g,n,w,h)}return this._transitionEngine.listen(i,n,s,l,h)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function WO(r,i){let n=null,s=null;return Array.isArray(i)&&i.length?(n=hk(i[0]),i.length>1&&(s=hk(i[i.length-1]))):i&&(n=hk(i)),n||s?new xL(r,n,s):null}let xL=(()=>{class r{constructor(n,s,l){this._element=n,this._startStyles=s,this._endStyles=l,this._state=0;let h=r.initialStylesByElement.get(n);h||r.initialStylesByElement.set(n,h={}),this._initialStyles=h}start(){this._state<1&&(this._startStyles&&Hl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Hl(this._element,this._initialStyles),this._endStyles&&(Hl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(eA(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(eA(this._element,this._endStyles),this._endStyles=null),Hl(this._element,this._initialStyles),this._state=3)}}return r.initialStylesByElement=new WeakMap,r})();function hk(r){let i=null;const n=Object.keys(r);for(let s=0;s<n.length;s++){const l=n[s];IL(l)&&(i=i||{},i[l]=r[l])}return i}function IL(r){return"display"===r||"position"===r}const ZO="animation",JO="animationend";class TL{constructor(i,n,s,l,h,g,w){this._element=i,this._name=n,this._duration=s,this._delay=l,this._easing=h,this._fillMode=g,this._onDoneFn=w,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=C=>this._handleCallback(C)}apply(){(function(r,i){const n=gk(r,"").trim();let s=0;n.length&&(function(r,i){let n=0;for(let s=0;s<r.length;s++)","===r.charAt(s)&&n++;return n}(n)+1,i=`${n}, ${i}`),BD(r,"",i)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),XO(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){KO(this._element,this._name,"paused")}resume(){KO(this._element,this._name,"running")}setPosition(i){const n=$O(this._element,this._name);this._position=i*this._duration,BD(this._element,"Delay",`-${this._position}ms`,n)}getPosition(){return this._position}_handleCallback(i){const n=i._ngTestManualTimestamp||Date.now(),s=1e3*parseFloat(i.elapsedTime.toFixed(3));i.animationName==this._name&&Math.max(n-this._startTime,0)>=this._delay&&s>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),XO(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(r,i){const s=gk(r,"").split(","),l=fk(s,i);l>=0&&(s.splice(l,1),BD(r,"",s.join(",")))}(this._element,this._name))}}function KO(r,i,n){BD(r,"PlayState",n,$O(r,i))}function $O(r,i){const n=gk(r,"");return n.indexOf(",")>0?fk(n.split(","),i):fk([n],i)}function fk(r,i){for(let n=0;n<r.length;n++)if(r[n].indexOf(i)>=0)return n;return-1}function XO(r,i,n){n?r.removeEventListener(JO,i):r.addEventListener(JO,i)}function BD(r,i,n,s){const l=ZO+i;if(null!=s){const h=r.style[l];if(h.length){const g=h.split(",");g[s]=n,n=g.join(",")}}r.style[l]=n}function gk(r,i){return r.style[ZO+i]||""}class eN{constructor(i,n,s,l,h,g,w,C){this.element=i,this.keyframes=n,this.animationName=s,this._duration=l,this._delay=h,this._finalStyles=w,this._specialStyles=C,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=g||"linear",this.totalTime=l+h,this._buildStyler()}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(i=>i()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(i){this._styler.setPosition(i)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new TL(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(i){const n="start"==i?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}beforeDestroy(){this.init();const i={};if(this.hasStarted()){const n=this._state>=3;Object.keys(this._finalStyles).forEach(s=>{"offset"!=s&&(i[s]=n?this._finalStyles[s]:tk(this.element,s))})}this.currentSnapshot=i}}class FL extends Tc{constructor(i,n){super(),this.element=i,this._startingStyles={},this.__initialized=!1,this._styles=EO(n)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(i=>{this._startingStyles[i]=this.element.style[i]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(i=>this.element.style.setProperty(i,this._styles[i])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(i=>{const n=this._startingStyles[i];n?this.element.style.setProperty(i,n):this.element.style.removeProperty(i)}),this._startingStyles=null,super.destroy())}}class nN{constructor(){this._count=0}validateStyleProperty(i){return zR(i)}matchesElement(i,n){return qR(i,n)}containsElement(i,n){return YR(i,n)}query(i,n,s){return WR(i,n,s)}computeStyle(i,n,s){return window.getComputedStyle(i)[n]}buildKeyframeElement(i,n,s){s=s.map(w=>EO(w));let l=`@keyframes ${n} {\n`,h="";s.forEach(w=>{h=" ";const C=parseFloat(w.offset);l+=`${h}${100*C}% {\n`,h+=" ",Object.keys(w).forEach(S=>{const T=w[S];switch(S){case"offset":return;case"easing":return void(T&&(l+=`${h}animation-timing-function: ${T};\n`));default:return void(l+=`${h}${S}: ${T};\n`)}}),l+=`${h}}\n`}),l+="}\n";const g=document.createElement("style");return g.textContent=l,g}animate(i,n,s,l,h,g=[],w){const C=g.filter(Se=>Se instanceof eN),S={};MO(s,l)&&C.forEach(Se=>{let ke=Se.currentSnapshot;Object.keys(ke).forEach(We=>S[We]=ke[We])});const T=function(r){let i={};return r&&(Array.isArray(r)?r:[r]).forEach(s=>{Object.keys(s).forEach(l=>{"offset"==l||"easing"==l||(i[l]=s[l])})}),i}(n=RO(i,n,S));if(0==s)return new FL(i,T);const k="gen_css_kf_"+this._count++,B=this.buildKeyframeElement(i,k,n);(function(r){var i;const n=null===(i=r.getRootNode)||void 0===i?void 0:i.call(r);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(i).appendChild(B);const q=WO(i,n),Ae=new eN(i,n,k,s,l,h,T,q);return Ae.onDestroy(()=>function(r){r.parentNode.removeChild(r)}(B)),Ae}}class rN{constructor(i,n,s,l){this.element=i,this.keyframes=n,this.options=s,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=s.duration,this._delay=s.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(i,n,s){return i.animate(n,s)}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(n=>{"offset"!=n&&(i[n]=this._finished?this._finalKeyframe[n]:tk(this.element,n))}),this.currentSnapshot=i}triggerCallback(i){const n="start"==i?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}}class UL{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(sN().toString()),this._cssKeyframesDriver=new nN}validateStyleProperty(i){return zR(i)}matchesElement(i,n){return qR(i,n)}containsElement(i,n){return YR(i,n)}query(i,n,s){return WR(i,n,s)}computeStyle(i,n,s){return window.getComputedStyle(i)[n]}overrideWebAnimationsSupport(i){this._isNativeImpl=i}animate(i,n,s,l,h,g=[],w){if(!w&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(i,n,s,l,h,g);const T={duration:s,delay:l,fill:0==l?"both":"forwards"};h&&(T.easing=h);const k={},B=g.filter(q=>q instanceof rN);MO(s,l)&&B.forEach(q=>{let Ae=q.currentSnapshot;Object.keys(Ae).forEach(Se=>k[Se]=Ae[Se])});const G=WO(i,n=RO(i,n=n.map(q=>Yh(q,!1)),k));return new rN(i,n,T,G)}}function sN(){return AO()&&Element.prototype.animate||{}}let HL=(()=>{class r extends pD{constructor(n,s){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(s.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(n){const s=this._nextAnimationId.toString();this._nextAnimationId++;const l=Array.isArray(n)?Sc(n):n;return oN(this._renderer,null,s,"register",[l]),new jL(s,this._renderer)}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(c.FYo),c.LFG(oe))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})();class jL extends class{}{constructor(i,n){super(),this._id=i,this._renderer=n}create(i,n){return new QL(this._id,i,n||{},this._renderer)}}class QL{constructor(i,n,s,l){this.id=i,this.element=n,this._renderer=l,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",s)}_listen(i,n){return this._renderer.listen(this.element,`@@${this.id}:${i}`,n)}_command(i,...n){return oN(this._renderer,this.element,this.id,i,n)}onDone(i){this._listen("done",i)}onStart(i){this._listen("start",i)}onDestroy(i){this._listen("destroy",i)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(i){this._command("setPosition",i)}getPosition(){var i,n;return null!==(n=null===(i=this._renderer.engine.players[+this.id])||void 0===i?void 0:i.getPosition())&&void 0!==n?n:0}}function oN(r,i,n,s,l){return r.setProperty(i,`@@${n}:${s}`,l)}const aN="@.disabled";let zL=(()=>{class r{constructor(n,s,l){this.delegate=n,this.engine=s,this._zone=l,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),s.onRemovalComplete=(h,g)=>{g&&g.parentNode(h)&&g.removeChild(h.parentNode,h)}}createRenderer(n,s){const h=this.delegate.createRenderer(n,s);if(!(n&&s&&s.data&&s.data.animation)){let T=this._rendererCache.get(h);return T||(T=new lN("",h,this.engine),this._rendererCache.set(h,T)),T}const g=s.id,w=s.id+"-"+this._currentId;this._currentId++,this.engine.register(w,n);const C=T=>{Array.isArray(T)?T.forEach(C):this.engine.registerTrigger(g,w,n,T.name,T)};return s.data.animation.forEach(C),new qL(this,w,h,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(n,s,l){n>=0&&n<this._microtaskId?this._zone.run(()=>s(l)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(h=>{const[g,w]=h;g(w)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([s,l]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(c.FYo),c.LFG(LD),c.LFG(c.R0b))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})();class lN{constructor(i,n,s){this.namespaceId=i,this.delegate=n,this.engine=s,this.destroyNode=this.delegate.destroyNode?l=>n.destroyNode(l):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(i,n){return this.delegate.createElement(i,n)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,n){this.delegate.appendChild(i,n),this.engine.onInsert(this.namespaceId,n,i,!1)}insertBefore(i,n,s,l=!0){this.delegate.insertBefore(i,n,s),this.engine.onInsert(this.namespaceId,n,i,l)}removeChild(i,n,s){this.engine.onRemove(this.namespaceId,n,this.delegate,s)}selectRootElement(i,n){return this.delegate.selectRootElement(i,n)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,n,s,l){this.delegate.setAttribute(i,n,s,l)}removeAttribute(i,n,s){this.delegate.removeAttribute(i,n,s)}addClass(i,n){this.delegate.addClass(i,n)}removeClass(i,n){this.delegate.removeClass(i,n)}setStyle(i,n,s,l){this.delegate.setStyle(i,n,s,l)}removeStyle(i,n,s){this.delegate.removeStyle(i,n,s)}setProperty(i,n,s){"@"==n.charAt(0)&&n==aN?this.disableAnimations(i,!!s):this.delegate.setProperty(i,n,s)}setValue(i,n){this.delegate.setValue(i,n)}listen(i,n,s){return this.delegate.listen(i,n,s)}disableAnimations(i,n){this.engine.disableAnimations(i,n)}}class qL extends lN{constructor(i,n,s,l){super(n,s,l),this.factory=i,this.namespaceId=n}setProperty(i,n,s){"@"==n.charAt(0)?"."==n.charAt(1)&&n==aN?this.disableAnimations(i,s=void 0===s||!!s):this.engine.process(this.namespaceId,i,n.substr(1),s):this.delegate.setProperty(i,n,s)}listen(i,n,s){if("@"==n.charAt(0)){const l=function(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(i);let h=n.substr(1),g="";return"@"!=h.charAt(0)&&([h,g]=function(r){const i=r.indexOf(".");return[r.substring(0,i),r.substr(i+1)]}(h)),this.engine.listen(this.namespaceId,l,h,g,w=>{this.factory.scheduleListenerCallback(w._data||-1,s,w)})}return this.delegate.listen(i,n,s)}}let ZL=(()=>{class r extends LD{constructor(n,s,l){super(n.body,s,l)}ngOnDestroy(){this.flush()}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(oe),c.LFG(ZR),c.LFG(ak))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})();const UD=new c.OlP("AnimationModuleType"),uN=[{provide:pD,useClass:HL},{provide:ak,useFactory:function(){return new nL}},{provide:LD,useClass:ZL},{provide:c.FYo,useFactory:function(r,i,n){return new zL(r,i,n)},deps:[Wn,LD,c.R0b]}],cN=[{provide:ZR,useFactory:function(){return"function"==typeof sN()?new UL:new nN}},{provide:UD,useValue:"BrowserAnimations"},...uN],dN=[{provide:ZR,useClass:bO},{provide:UD,useValue:"NoopAnimations"},...uN];let XL=(()=>{class r{static withConfig(n){return{ngModule:r,providers:n.disableAnimations?dN:cN}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({providers:cN,imports:[wf]}),r})();const eB=["myModal"],tB=["myImg"],nB=["img01"],iB=["caption"],rB=["close"];function sB(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"span",17),c.NdJ("click",function(){c.CHM(n);const l=c.oxw().$implicit;return c.oxw(2).viewFullScreen(l)}),c._uU(1,"\u2750"),c.qZA()}}const hN=function(r,i,n){return{full:r,half:i,bottom:n}};function oB(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"div",13),c.NdJ("mouseenter",function(){const h=c.CHM(n).index;return c.oxw(2).mouseenter(h)})("mouseleave",function(){return c.CHM(n),c.oxw(2).mouseleave()}),c.TgZ(1,"img",14),c.NdJ("click",function(l){const g=c.CHM(n).$implicit;return c.oxw(2).imageSelected(l,g)}),c.qZA(),c.TgZ(2,"div",15),c.NdJ("click",function(l){const g=c.CHM(n).$implicit;return c.oxw(2).imageSelected(l,g)}),c._uU(3),c.qZA(),c.YNc(4,sB,2,0,"span",16),c.qZA()}if(2&r){const n=i.$implicit,s=i.index,l=c.oxw(2);c.Q6J("ngClass",l.calculateStyle(s)),c.xp6(1),c.Q6J("src",n.imageData.value,c.LSH),c.xp6(1),c.Q6J("ngClass",c.kEZ(5,hN,"full"===n.imageData.subtextOverlay,"half"===n.imageData.subtextOverlay,"bottom"===n.imageData.subtextOverlay||!n.imageData.subtextOverlay&&n.imageData.subtext)),c.xp6(1),c.Oqu(n.imageData.subtext),c.xp6(1),c.Q6J("ngIf",l.displayconfig.fullScreenView)}}const fN=function(r,i){return{"grid-template-columns":r,"grid-template-rows":i}};function aB(r,i){if(1&r&&(c.TgZ(0,"main",11),c.YNc(1,oB,5,9,"div",12),c.qZA()),2&r){const n=c.oxw();c.Q6J("ngStyle",c.WLB(2,fN,n.gridcolumns,n.gridrows)),c.xp6(1),c.Q6J("ngForOf",n.images)}}function lB(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"span",17),c.NdJ("click",function(){c.CHM(n);const l=c.oxw().$implicit;return c.oxw(2).viewFullScreen(l)}),c._uU(1,"\u2750"),c.qZA()}}const uB=function(r,i){return{"background-image":r,"min-height":i}};function cB(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"div",13),c.NdJ("mouseenter",function(){const h=c.CHM(n).index;return c.oxw(2).mouseenter(h)})("mouseleave",function(){return c.CHM(n),c.oxw(2).mouseleave()}),c.TgZ(1,"div",18),c.NdJ("click",function(l){const g=c.CHM(n).$implicit;return c.oxw(2).imageSelected(l,g)}),c.qZA(),c.TgZ(2,"div",15),c.NdJ("click",function(l){const g=c.CHM(n).$implicit;return c.oxw(2).imageSelected(l,g)}),c._uU(3),c.qZA(),c.YNc(4,lB,2,0,"span",16),c.qZA()}if(2&r){const n=i.$implicit,s=i.index,l=c.oxw(2);c.Q6J("ngClass",l.calculateStyle(s)),c.xp6(1),c.Q6J("ngStyle",c.WLB(5,uB," url("+n.imageData.value+")",l.sameSize.imgContainerHeight)),c.xp6(1),c.Q6J("ngClass",c.kEZ(8,hN,"full"===n.imageData.subtextOverlay,"half"===n.imageData.subtextOverlay,"bottom"===n.imageData.subtextOverlay||!n.imageData.subtextOverlay&&n.imageData.subtext)),c.xp6(1),c.Oqu(n.imageData.subtext),c.xp6(1),c.Q6J("ngIf",l.displayconfig.fullScreenView)}}function dB(r,i){if(1&r&&(c.TgZ(0,"main",11),c.YNc(1,cB,5,12,"div",12),c.qZA()),2&r){const n=c.oxw();c.Q6J("ngStyle",c.WLB(2,fN,n.gridcolumns,n.gridrows)),c.xp6(1),c.Q6J("ngForOf",n.images)}}const hB=function(r,i){return{width:r,height:i}};var bs=(()=>(function(r){r.zoom="zoom",r.lighten="lighten",r.darken="darken",r.greyscale="greyscale",r.sepia="sepia"}(bs||(bs={})),bs))();let fB=(()=>{class r{constructor(n){this.renderer=n,this.defaultdisplayconfig={imageminwidth:"250px",containerwidth:"65%",containerheight:"600px"},this.defaultImageEffect={hoverEffectActive:!1},this.onImageSelected=new c.vpe}ngOnInit(){this.displayconfig||(this.displayconfig=this.defaultdisplayconfig),this.imageEffect||(this.imageEffect=this.defaultImageEffect),this.setContainerLayout(),this.setContainer(),this.setHoverEffect(),this.setSameSize()}setContainer(){this.displayconfig&&this.displayconfig.containerwidth&&(this.containerwidth=this.displayconfig.containerwidth),this.displayconfig&&this.displayconfig.containerheight&&(this.containerheight=this.displayconfig.containerheight)}setContainerLayout(){this.gridcolumns=this.displayconfig&&this.displayconfig.imageminwidth&&this.displayconfig.columns?"repeat("+this.displayconfig.columns+", minmax("+this.displayconfig.imageminwidth+", 1fr))":this.displayconfig&&this.displayconfig.imageminwidth?"repeat(auto-fit, minmax("+this.displayconfig.imageminwidth+", 1fr))":"repeat(auto-fit, minmax(300px, 1fr))"}setHoverEffect(){if(this.imageEffect.hoverEffectActive&&this.imageEffect.hoverEffect)switch(this.imageEffect.hoverEffect){case"zoom":this.zoomlvl=bs.zoom;break;case"lighten":this.zoomlvl=bs.lighten;break;case"darken":this.zoomlvl=bs.darken;break;case"greyscale":this.zoomlvl=bs.greyscale;break;case"sepia":this.zoomlvl=bs.sepia}else this.imageEffect.hoverEffectActive&&(this.zoomlvl=bs.zoom)}viewFullScreen(n){this.renderer.setStyle(this.myModal.nativeElement,"display","block"),this.renderer.setProperty(this.img01.nativeElement,"src",n.imageData.value),this.renderer.setProperty(this.caption.nativeElement,"innerHTML",n.imageData.subtext?n.imageData.subtext:"")}closeImage(){this.renderer.setStyle(this.myModal.nativeElement,"display","none")}calculateStyle(n){return{initialEffect:!this.hovering===n,zoom:this.hovering===n&&this.zoomlvl===bs.zoom,lighten:this.hovering===n&&this.zoomlvl===bs.lighten,darken:this.hovering===n&&this.zoomlvl===bs.darken,greyscale:this.hovering===n&&this.zoomlvl===bs.greyscale,sepia:this.hovering===n&&this.zoomlvl===bs.sepia}}setSameSize(){this.sameSize||(this.sameSize={active:!1,imgContainerHeight:"300px"})}mouseenter(n){this.imageEffect.hoverEffectActive&&(this.hovering=n)}mouseleave(){this.hovering=-1}imageSelected(n,s){this.onImageSelected.emit({imageData:s.imageData,type:s.type,mouseEvent:n})}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.Qsj))},r.\u0275cmp=c.Xpm({type:r,selectors:[["ngx-image-display"]],viewQuery:function(n,s){if(1&n&&(c.Gf(eB,5),c.Gf(tB,5),c.Gf(nB,5),c.Gf(iB,5),c.Gf(rB,5)),2&n){let l;c.iGM(l=c.CRH())&&(s.myModal=l.first),c.iGM(l=c.CRH())&&(s.myImg=l.first),c.iGM(l=c.CRH())&&(s.img01=l.first),c.iGM(l=c.CRH())&&(s.caption=l.first),c.iGM(l=c.CRH())&&(s.close=l.first)}},inputs:{displayconfig:"displayconfig",imageEffect:"imageEffect",sameSize:"sameSize",images:"images"},outputs:{onImageSelected:"onImageSelected"},decls:13,vars:6,consts:[[1,"bodymain"],[1,"imageDiv",3,"ngStyle"],[3,"ngStyle",4,"ngIf"],[1,"modal"],["myModal",""],[1,"close",3,"click"],["close",""],[1,"modal-content"],["img01",""],[1,"caption"],["caption",""],[3,"ngStyle"],["class","overlay",3,"ngClass","mouseenter","mouseleave",4,"ngFor","ngForOf"],[1,"overlay",3,"ngClass","mouseenter","mouseleave"],[1,"imagecontainer",3,"src","click"],[1,"subtext",3,"ngClass","click"],["class","fullview",3,"click",4,"ngIf"],[1,"fullview",3,"click"],[1,"img","imagecontainer",3,"ngStyle","click"]],template:function(n,s){1&n&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.YNc(2,aB,2,5,"main",2),c.YNc(3,dB,2,5,"main",2),c.qZA(),c.qZA(),c.TgZ(4,"div",3,4),c.TgZ(6,"span",5,6),c.NdJ("click",function(){return s.closeImage()}),c._uU(8,"\xd7"),c.qZA(),c._UZ(9,"img",7,8),c._UZ(11,"div",9,10),c.qZA()),2&n&&(c.xp6(1),c.Q6J("ngStyle",c.WLB(3,hB,s.containerwidth,s.containerheight)),c.xp6(1),c.Q6J("ngIf",!s.sameSize.active),c.xp6(1),c.Q6J("ngIf",s.sameSize.active))},directives:[Hn,mt,qn,rs],styles:['.bodymain[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%}.bodymain[_ngcontent-%COMP%]   .imageDiv[_ngcontent-%COMP%]{overflow:auto}.overlay[_ngcontent-%COMP%]:hover   .fullview[_ngcontent-%COMP%]{display:initial}.fullview[_ngcontent-%COMP%]{color:#f1f1f1;display:none;font-size:25px;font-weight:700;position:absolute;right:25px;top:15px;transition:.3s}.fullview[_ngcontent-%COMP%]:focus, .fullview[_ngcontent-%COMP%]:hover{color:#bbb;cursor:pointer;text-decoration:none}main[_ngcontent-%COMP%]{box-sizing:border-box;display:grid;grid-column-gap:10px;grid-row-gap:10px}main[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{align-self:center;display:flex;overflow:hidden;position:relative}main[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .imagecontainer[_ngcontent-%COMP%]{transition:transform .5s ease}main[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{align-self:center;display:flex;width:100%}main[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{background-position:50% 50%;background-repeat:no-repeat;background-size:cover}main[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .subtext[_ngcontent-%COMP%]{align-items:center;background-color:rgba(0,0,0,.4);bottom:0;color:#fff;display:flex;justify-content:center;left:0;overflow:hidden;position:absolute;right:0;transition:.5s ease}main[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .subtext.full[_ngcontent-%COMP%]{background-size:cover;height:100%;width:100%}main[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .subtext.half[_ngcontent-%COMP%]{background-size:cover;height:45%;width:100%}main[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .subtext.bottom[_ngcontent-%COMP%]{background-size:cover;height:20%;width:100%}main[_ngcontent-%COMP%]   .initialEffect[_ngcontent-%COMP%]{filter:brightness(100%);overflow:hidden;transform:scale(1);z-index:"initial"}main[_ngcontent-%COMP%]   .zoom[_ngcontent-%COMP%]{overflow:hidden;z-index:"999"}main[_ngcontent-%COMP%]   .zoom[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .zoom[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.3);transition:transform .3s ease}main[_ngcontent-%COMP%]   .lighten[_ngcontent-%COMP%]{filter:brightness(150%)}main[_ngcontent-%COMP%]   .darken[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .lighten[_ngcontent-%COMP%]{transition:.2s ease-in-out;z-index:"999"}main[_ngcontent-%COMP%]   .darken[_ngcontent-%COMP%]{filter:brightness(50%)}main[_ngcontent-%COMP%]   .greyscale[_ngcontent-%COMP%]{filter:grayscale(100%)}main[_ngcontent-%COMP%]   .greyscale[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .sepia[_ngcontent-%COMP%]{transition:.2s ease-in-out;z-index:"999"}main[_ngcontent-%COMP%]   .sepia[_ngcontent-%COMP%]{filter:sepia(100%)}#myImg[_ngcontent-%COMP%]{border-radius:5px;cursor:pointer;transition:.3s}#myImg[_ngcontent-%COMP%]:hover{opacity:.7}.modal[_ngcontent-%COMP%]{background-color:#000;background-color:rgba(0,0,0,.9);display:none;height:100%;left:0;overflow:auto;padding-top:100px;position:fixed;top:0;width:100%;z-index:1}.caption[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]{display:block;margin:auto;max-width:700px;width:80%}.caption[_ngcontent-%COMP%]{color:#ccc;height:150px;padding:10px 0;text-align:center}#caption[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]{-webkit-animation-duration:.6s;-webkit-animation-name:zoom;animation-duration:.6s;animation-name:zoom}@-webkit-keyframes zoom{0%{-webkit-transform:scale(0)}to{-webkit-transform:scale(1)}}@keyframes zoom{0%{transform:scale(0)}to{transform:scale(1)}}.close[_ngcontent-%COMP%]{color:#f1f1f1;font-size:40px;font-weight:700;position:absolute;right:35px;top:15px;transition:.3s}.close[_ngcontent-%COMP%]:focus, .close[_ngcontent-%COMP%]:hover{color:#bbb;cursor:pointer;text-decoration:none}@media only screen and (max-width:700px){.modal-content[_ngcontent-%COMP%]{width:100%}}']}),r})(),gB=(()=>{class r{static forRoot(){return{ngModule:r}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[[Xl]]}),r})();const AB={provide:c.tb,useFactory:function(r,i){return()=>{if(Br(i)){const n=Array.from(r.querySelectorAll(`[class*=${gN}]`)),s=/\bflex-layout-.+?\b/g;n.forEach(l=>{l.classList.contains(`${gN}ssr`)&&l.parentNode?l.parentNode.removeChild(l):l.className.replace(s,"")})}}},deps:[oe,c.Lbi],multi:!0},gN="flex-layout-";let pk=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({providers:[AB]}),r})();const Ak={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},Na=new c.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>Ak}),iA=new c.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),mk=new c.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function HD(r,i=0){return function(r){return!isNaN(parseFloat(r))&&!isNaN(Number(r))}(r)?Number(r):i}function jl(r){return i=>i.lift(new BB(r))}class BB{constructor(i){this.notifier=i}call(i,n){const s=new VB(i),l=(0,ks.ft)(this.notifier,new ks.IY(s));return l&&!s.seenValue?(s.add(l),n.subscribe(s)):s}}class VB extends ks.Ds{constructor(i){super(i),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}let PN=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[[pk]]}),r})();const LN=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,c.f3M)(oe)}});let jD=(()=>{class r{constructor(n){if(this.value="ltr",this.change=new c.vpe,n){const l=n.documentElement?n.documentElement.dir:null,h=(n.body?n.body.dir:null)||l;this.value="ltr"===h||"rtl"===h?h:"ltr"}}ngOnDestroy(){this.change.complete()}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(LN,8))},r.\u0275prov=c.Yz7({factory:function(){return new r(c.LFG(LN,8))},token:r,providedIn:"root"}),r})(),vk=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({}),r})(),GN=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[[pk,vk]]}),r})(),ZN=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[[pk]]}),r})(),OU=(()=>{class r{constructor(n,s){as(s)&&!n&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(n,s=[]){return{ngModule:r,providers:n.serverLoaded?[{provide:Na,useValue:Object.assign(Object.assign({},Ak),n)},{provide:mk,useValue:s,multi:!0},{provide:iA,useValue:!0}]:[{provide:Na,useValue:Object.assign(Object.assign({},Ak),n)},{provide:mk,useValue:s,multi:!0}]}}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(iA),c.LFG(c.Lbi))},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[[GN,PN,ZN],GN,PN,ZN]}),r})();var JN=P(9773);class KN{}class $N{}class Rc{constructor(i){this.normalizedNames=new Map,this.lazyUpdate=null,i?this.lazyInit="string"==typeof i?()=>{this.headers=new Map,i.split("\n").forEach(n=>{const s=n.indexOf(":");if(s>0){const l=n.slice(0,s),h=l.toLowerCase(),g=n.slice(s+1).trim();this.maybeSetNormalizedName(l,h),this.headers.has(h)?this.headers.get(h).push(g):this.headers.set(h,[g])}})}:()=>{this.headers=new Map,Object.keys(i).forEach(n=>{let s=i[n];const l=n.toLowerCase();"string"==typeof s&&(s=[s]),s.length>0&&(this.headers.set(l,s),this.maybeSetNormalizedName(n,l))})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();const n=this.headers.get(i.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,n){return this.clone({name:i,value:n,op:"a"})}set(i,n){return this.clone({name:i,value:n,op:"s"})}delete(i,n){return this.clone({name:i,value:n,op:"d"})}maybeSetNormalizedName(i,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,i)}init(){this.lazyInit&&(this.lazyInit instanceof Rc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(n=>{this.headers.set(n,i.headers.get(n)),this.normalizedNames.set(n,i.normalizedNames.get(n))})}clone(i){const n=new Rc;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Rc?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([i]),n}applyUpdate(i){const n=i.name.toLowerCase();switch(i.op){case"a":case"s":let s=i.value;if("string"==typeof s&&(s=[s]),0===s.length)return;this.maybeSetNormalizedName(i.name,n);const l=("a"===i.op?this.headers.get(n):void 0)||[];l.push(...s),this.headers.set(n,l);break;case"d":const h=i.value;if(h){let g=this.headers.get(n);if(!g)return;g=g.filter(w=>-1===h.indexOf(w)),0===g.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,g)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>i(this.normalizedNames.get(n),this.headers.get(n)))}}class FU{encodeKey(i){return XN(i)}encodeValue(i){return XN(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}}const LU=/%(\d[a-f0-9])/gi,BU={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function XN(r){return encodeURIComponent(r).replace(LU,(i,n)=>{var s;return null!==(s=BU[n])&&void 0!==s?s:i})}function eF(r){return`${r}`}class Ql{constructor(i={}){if(this.updates=null,this.cloneFrom=null,this.encoder=i.encoder||new FU,i.fromString){if(i.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(r,i){const n=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(l=>{const h=l.indexOf("="),[g,w]=-1==h?[i.decodeKey(l),""]:[i.decodeKey(l.slice(0,h)),i.decodeValue(l.slice(h+1))],C=n.get(g)||[];C.push(w),n.set(g,C)}),n}(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(n=>{const s=i.fromObject[n];this.map.set(n,Array.isArray(s)?s:[s])})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();const n=this.map.get(i);return n?n[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,n){return this.clone({param:i,value:n,op:"a"})}appendAll(i){const n=[];return Object.keys(i).forEach(s=>{const l=i[s];Array.isArray(l)?l.forEach(h=>{n.push({param:s,value:h,op:"a"})}):n.push({param:s,value:l,op:"a"})}),this.clone(n)}set(i,n){return this.clone({param:i,value:n,op:"s"})}delete(i,n){return this.clone({param:i,value:n,op:"d"})}toString(){return this.init(),this.keys().map(i=>{const n=this.encoder.encodeKey(i);return this.map.get(i).map(s=>n+"="+this.encoder.encodeValue(s)).join("&")}).filter(i=>""!==i).join("&")}clone(i){const n=new Ql({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(i),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":const n=("a"===i.op?this.map.get(i.param):void 0)||[];n.push(eF(i.value)),this.map.set(i.param,n);break;case"d":if(void 0===i.value){this.map.delete(i.param);break}{let s=this.map.get(i.param)||[];const l=s.indexOf(eF(i.value));-1!==l&&s.splice(l,1),s.length>0?this.map.set(i.param,s):this.map.delete(i.param)}}}),this.cloneFrom=this.updates=null)}}class VU{constructor(){this.map=new Map}set(i,n){return this.map.set(i,n),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}keys(){return this.map.keys()}}function tF(r){return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer}function nF(r){return"undefined"!=typeof Blob&&r instanceof Blob}function iF(r){return"undefined"!=typeof FormData&&r instanceof FormData}class Ub{constructor(i,n,s,l){let h;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=i.toUpperCase(),function(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||l?(this.body=void 0!==s?s:null,h=l):h=s,h&&(this.reportProgress=!!h.reportProgress,this.withCredentials=!!h.withCredentials,h.responseType&&(this.responseType=h.responseType),h.headers&&(this.headers=h.headers),h.context&&(this.context=h.context),h.params&&(this.params=h.params)),this.headers||(this.headers=new Rc),this.context||(this.context=new VU),this.params){const g=this.params.toString();if(0===g.length)this.urlWithParams=n;else{const w=n.indexOf("?");this.urlWithParams=n+(-1===w?"?":w<n.length-1?"&":"")+g}}else this.params=new Ql,this.urlWithParams=n}serializeBody(){return null===this.body?null:tF(this.body)||nF(this.body)||iF(this.body)||function(r){return"undefined"!=typeof URLSearchParams&&r instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ql?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||iF(this.body)?null:nF(this.body)?this.body.type||null:tF(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ql?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(i={}){var n;const s=i.method||this.method,l=i.url||this.url,h=i.responseType||this.responseType,g=void 0!==i.body?i.body:this.body,w=void 0!==i.withCredentials?i.withCredentials:this.withCredentials,C=void 0!==i.reportProgress?i.reportProgress:this.reportProgress;let S=i.headers||this.headers,T=i.params||this.params;const k=null!==(n=i.context)&&void 0!==n?n:this.context;return void 0!==i.setHeaders&&(S=Object.keys(i.setHeaders).reduce((B,G)=>B.set(G,i.setHeaders[G]),S)),i.setParams&&(T=Object.keys(i.setParams).reduce((B,G)=>B.set(G,i.setParams[G]),T)),new Ub(s,l,g,{params:T,headers:S,context:k,reportProgress:C,responseType:h,withCredentials:w})}}var Di=(()=>((Di=Di||{})[Di.Sent=0]="Sent",Di[Di.UploadProgress=1]="UploadProgress",Di[Di.ResponseHeader=2]="ResponseHeader",Di[Di.DownloadProgress=3]="DownloadProgress",Di[Di.Response=4]="Response",Di[Di.User=5]="User",Di))();class Ek{constructor(i,n=200,s="OK"){this.headers=i.headers||new Rc,this.status=void 0!==i.status?i.status:n,this.statusText=i.statusText||s,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}}class bk extends Ek{constructor(i={}){super(i),this.type=Di.ResponseHeader}clone(i={}){return new bk({headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class qD extends Ek{constructor(i={}){super(i),this.type=Di.Response,this.body=void 0!==i.body?i.body:null}clone(i={}){return new qD({body:void 0!==i.body?i.body:this.body,headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class rF extends Ek{constructor(i){super(i,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${i.url||"(unknown url)"}`:`Http failure response for ${i.url||"(unknown url)"}: ${i.status} ${i.statusText}`,this.error=i.error||null}}function Ck(r,i){return{body:i,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let T_=(()=>{class r{constructor(n){this.handler=n}request(n,s,l={}){let h;if(n instanceof Ub)h=n;else{let C,S;C=l.headers instanceof Rc?l.headers:new Rc(l.headers),l.params&&(S=l.params instanceof Ql?l.params:new Ql({fromObject:l.params})),h=new Ub(n,s,void 0!==l.body?l.body:null,{headers:C,context:l.context,params:S,reportProgress:l.reportProgress,responseType:l.responseType||"json",withCredentials:l.withCredentials})}const g=(0,m.of)(h).pipe(function(r,i){return(0,JN.zg)(r,void 0,1)}(C=>this.handler.handle(C)));if(n instanceof Ub||"events"===l.observe)return g;const w=g.pipe(Qs(C=>C instanceof qD));switch(l.observe||"body"){case"body":switch(h.responseType){case"arraybuffer":return w.pipe((0,Bt.U)(C=>{if(null!==C.body&&!(C.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return C.body}));case"blob":return w.pipe((0,Bt.U)(C=>{if(null!==C.body&&!(C.body instanceof Blob))throw new Error("Response is not a Blob.");return C.body}));case"text":return w.pipe((0,Bt.U)(C=>{if(null!==C.body&&"string"!=typeof C.body)throw new Error("Response is not a string.");return C.body}));case"json":default:return w.pipe((0,Bt.U)(C=>C.body))}case"response":return w;default:throw new Error(`Unreachable: unhandled observe type ${l.observe}}`)}}delete(n,s={}){return this.request("DELETE",n,s)}get(n,s={}){return this.request("GET",n,s)}head(n,s={}){return this.request("HEAD",n,s)}jsonp(n,s){return this.request("JSONP",n,{params:(new Ql).append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,s={}){return this.request("OPTIONS",n,s)}patch(n,s,l={}){return this.request("PATCH",n,Ck(l,s))}post(n,s,l={}){return this.request("POST",n,Ck(l,s))}put(n,s,l={}){return this.request("PUT",n,Ck(l,s))}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(KN))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})();class sF{constructor(i,n){this.next=i,this.interceptor=n}handle(i){return this.interceptor.intercept(i,this.next)}}const oF=new c.OlP("HTTP_INTERCEPTORS");let HU=(()=>{class r{intercept(n,s){return s.handle(n)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})();const jU=/^\)\]\}',?\n/;let aF=(()=>{class r{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Wi.y(s=>{const l=this.xhrFactory.build();if(l.open(n.method,n.urlWithParams),n.withCredentials&&(l.withCredentials=!0),n.headers.forEach((G,q)=>l.setRequestHeader(G,q.join(","))),n.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const G=n.detectContentTypeHeader();null!==G&&l.setRequestHeader("Content-Type",G)}if(n.responseType){const G=n.responseType.toLowerCase();l.responseType="json"!==G?G:"text"}const h=n.serializeBody();let g=null;const w=()=>{if(null!==g)return g;const G=1223===l.status?204:l.status,q=l.statusText||"OK",Ae=new Rc(l.getAllResponseHeaders()),Se=function(r){return"responseURL"in r&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null}(l)||n.url;return g=new bk({headers:Ae,status:G,statusText:q,url:Se}),g},C=()=>{let{headers:G,status:q,statusText:Ae,url:Se}=w(),ke=null;204!==q&&(ke=void 0===l.response?l.responseText:l.response),0===q&&(q=ke?200:0);let We=q>=200&&q<300;if("json"===n.responseType&&"string"==typeof ke){const Ke=ke;ke=ke.replace(jU,"");try{ke=""!==ke?JSON.parse(ke):null}catch(Xe){ke=Ke,We&&(We=!1,ke={error:Xe,text:ke})}}We?(s.next(new qD({body:ke,headers:G,status:q,statusText:Ae,url:Se||void 0})),s.complete()):s.error(new rF({error:ke,headers:G,status:q,statusText:Ae,url:Se||void 0}))},S=G=>{const{url:q}=w(),Ae=new rF({error:G,status:l.status||0,statusText:l.statusText||"Unknown Error",url:q||void 0});s.error(Ae)};let T=!1;const k=G=>{T||(s.next(w()),T=!0);let q={type:Di.DownloadProgress,loaded:G.loaded};G.lengthComputable&&(q.total=G.total),"text"===n.responseType&&!!l.responseText&&(q.partialText=l.responseText),s.next(q)},B=G=>{let q={type:Di.UploadProgress,loaded:G.loaded};G.lengthComputable&&(q.total=G.total),s.next(q)};return l.addEventListener("load",C),l.addEventListener("error",S),l.addEventListener("timeout",S),l.addEventListener("abort",S),n.reportProgress&&(l.addEventListener("progress",k),null!==h&&l.upload&&l.upload.addEventListener("progress",B)),l.send(h),s.next({type:Di.Sent}),()=>{l.removeEventListener("error",S),l.removeEventListener("abort",S),l.removeEventListener("load",C),l.removeEventListener("timeout",S),n.reportProgress&&(l.removeEventListener("progress",k),null!==h&&l.upload&&l.upload.removeEventListener("progress",B)),l.readyState!==l.DONE&&l.abort()}})}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(ja))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})();const xk=new c.OlP("XSRF_COOKIE_NAME"),Ik=new c.OlP("XSRF_HEADER_NAME");class lF{}let Sk,zU=(()=>{class r{constructor(n,s,l){this.doc=n,this.platform=s,this.cookieName=l,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ds(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(oe),c.LFG(c.Lbi),c.LFG(xk))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})(),Dk=(()=>{class r{constructor(n,s){this.tokenService=n,this.headerName=s}intercept(n,s){const l=n.url.toLowerCase();if("GET"===n.method||"HEAD"===n.method||l.startsWith("http://")||l.startsWith("https://"))return s.handle(n);const h=this.tokenService.getToken();return null!==h&&!n.headers.has(this.headerName)&&(n=n.clone({headers:n.headers.set(this.headerName,h)})),s.handle(n)}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(lF),c.LFG(Ik))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})(),qU=(()=>{class r{constructor(n,s){this.backend=n,this.injector=s,this.chain=null}handle(n){if(null===this.chain){const s=this.injector.get(oF,[]);this.chain=s.reduceRight((l,h)=>new sF(l,h),this.backend)}return this.chain.handle(n)}}return r.\u0275fac=function(n){return new(n||r)(c.LFG($N),c.LFG(c.zs3))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})(),YU=(()=>{class r{static disable(){return{ngModule:r,providers:[{provide:Dk,useClass:HU}]}}static withOptions(n={}){return{ngModule:r,providers:[n.cookieName?{provide:xk,useValue:n.cookieName}:[],n.headerName?{provide:Ik,useValue:n.headerName}:[]]}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({providers:[Dk,{provide:oF,useExisting:Dk,multi:!0},{provide:lF,useClass:zU},{provide:xk,useValue:"XSRF-TOKEN"},{provide:Ik,useValue:"X-XSRF-TOKEN"}]}),r})(),uF=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({providers:[T_,{provide:KN,useClass:qU},aF,{provide:$N,useExisting:aF}],imports:[[YU.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),r})();try{Sk="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(r){Sk=!1}let zl=(()=>{class r{constructor(n){this._platformId=n,this.isBrowser=this._platformId?Br(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Sk)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(c.Lbi))},r.\u0275prov=c.Yz7({factory:function(){return new r(c.LFG(c.Lbi))},token:r,providedIn:"root"}),r})();const Zh="undefined"!=typeof window?window:{};"undefined"!=typeof Element&&Element;const xF="cdk-high-contrast-black-on-white",IF="cdk-high-contrast-white-on-black",Ok="cdk-high-contrast-active";let DF=(()=>{class r{constructor(n,s){this._platform=n,this._document=s}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);const s=this._document.defaultView||window,l=s&&s.getComputedStyle?s.getComputedStyle(n):null,h=(l&&l.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(n),h){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const n=this._document.body.classList;n.remove(Ok),n.remove(xF),n.remove(IF),this._hasCheckedHighContrastMode=!0;const s=this.getHighContrastMode();1===s?(n.add(Ok),n.add(xF)):2===s&&(n.add(Ok),n.add(IF))}}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(zl),c.LFG(oe))},r.\u0275prov=c.Yz7({factory:function(){return new r(c.LFG(zl),c.LFG(oe))},token:r,providedIn:"root"}),r})();const SF=new c.GfV("12.2.8"),TF=new c.GfV("12.2.8"),VG=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let sA,Jh=(()=>{class r{constructor(n,s,l){this._hasDoneGlobalChecks=!1,this._document=l,n._applyBodyHighContrastModeCssClasses(),this._sanityChecks=s,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return!(!(0,c.X6Q)()||void 0!==Zh.__karma__&&Zh.__karma__||void 0!==Zh.jasmine&&Zh.jasmine||void 0!==Zh.jest&&Zh.jest||void 0!==Zh.Mocha&&Zh.Mocha)&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[n])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const n=this._document.createElement("div");n.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(n);const s=getComputedStyle(n);s&&"none"!==s.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(n)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&TF.full!==SF.full&&console.warn("The Angular Material version ("+TF.full+") does not match the Angular CDK version ("+SF.full+").\nPlease ensure the versions of these two packages exactly match.")}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(DF),c.LFG(VG,8),c.LFG(oe))},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[[vk],vk]}),r})();try{sA="undefined"!=typeof Intl}catch(r){sA=!1}let RF=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[[Jh],Jh]}),r})();const BF=["*"],VF=".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}\n";class mH{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const i=Math.max(...this.tracker);return i>1?this.rowCount+i-1:this.rowCount}update(i,n){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(i),this.tracker.fill(0,0,this.tracker.length),this.positions=n.map(s=>this._trackTile(s))}_trackTile(i){const n=this._findMatchingGap(i.colspan);return this._markTilePosition(n,i),this.columnIndex=n+i.colspan,new yH(this.rowIndex,n)}_findMatchingGap(i){let n=-1,s=-1;do{this.columnIndex+i>this.tracker.length?(this._nextRow(),n=this.tracker.indexOf(0,this.columnIndex),s=this._findGapEndIndex(n)):(n=this.tracker.indexOf(0,this.columnIndex),-1!=n?(s=this._findGapEndIndex(n),this.columnIndex=n+1):(this._nextRow(),n=this.tracker.indexOf(0,this.columnIndex),s=this._findGapEndIndex(n)))}while(s-n<i||0==s);return Math.max(n,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let i=0;i<this.tracker.length;i++)this.tracker[i]=Math.max(0,this.tracker[i]-1)}_findGapEndIndex(i){for(let n=i+1;n<this.tracker.length;n++)if(0!=this.tracker[n])return n;return this.tracker.length}_markTilePosition(i,n){for(let s=0;s<n.colspan;s++)this.tracker[i+s]=n.rowspan}}class yH{constructor(i,n){this.row=i,this.col=n}}const UF=new c.OlP("MAT_GRID_LIST");let GF=(()=>{class r{constructor(n,s){this._element=n,this._gridList=s,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(n){this._rowspan=Math.round(HD(n))}get colspan(){return this._colspan}set colspan(n){this._colspan=Math.round(HD(n))}_setStyle(n,s){this._element.nativeElement.style[n]=s}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.SBq),c.Y36(UF,8))},r.\u0275cmp=c.Xpm({type:r,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(n,s){2&n&&c.uIk("rowspan",s.rowspan)("colspan",s.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:BF,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(n,s){1&n&&(c.F$t(),c.TgZ(0,"div",0),c.Hsn(1),c.qZA())},styles:[VF],encapsulation:2,changeDetection:0}),r})();const _H=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class Fk{constructor(){this._rows=0,this._rowspan=0}init(i,n,s,l){this._gutterSize=HF(i),this._rows=n.rowCount,this._rowspan=n.rowspan,this._cols=s,this._direction=l}getBaseTileSize(i,n){return`(${i}% - (${this._gutterSize} * ${n}))`}getTilePosition(i,n){return 0===n?"0":oA(`(${i} + ${this._gutterSize}) * ${n}`)}getTileSize(i,n){return`(${i} * ${n}) + (${n-1} * ${this._gutterSize})`}setStyle(i,n,s){let l=100/this._cols,h=(this._cols-1)/this._cols;this.setColStyles(i,s,l,h),this.setRowStyles(i,n,l,h)}setColStyles(i,n,s,l){let h=this.getBaseTileSize(s,l);i._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(h,n)),i._setStyle("width",oA(this.getTileSize(h,i.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(i){return`${this._rowspan} * ${this.getTileSize(i,1)}`}getComputedHeight(){return null}}class vH extends Fk{constructor(i){super(),this.fixedRowHeight=i}init(i,n,s,l){super.init(i,n,s,l),this.fixedRowHeight=HF(this.fixedRowHeight),_H.test(this.fixedRowHeight)}setRowStyles(i,n){i._setStyle("top",this.getTilePosition(this.fixedRowHeight,n)),i._setStyle("height",oA(this.getTileSize(this.fixedRowHeight,i.rowspan)))}getComputedHeight(){return["height",oA(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(i){i._setListStyle(["height",null]),i._tiles&&i._tiles.forEach(n=>{n._setStyle("top",null),n._setStyle("height",null)})}}class wH extends Fk{constructor(i){super(),this._parseRatio(i)}setRowStyles(i,n,s,l){this.baseTileHeight=this.getBaseTileSize(s/this.rowHeightRatio,l),i._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,n)),i._setStyle("paddingTop",oA(this.getTileSize(this.baseTileHeight,i.rowspan)))}getComputedHeight(){return["paddingBottom",oA(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(i){i._setListStyle(["paddingBottom",null]),i._tiles.forEach(n=>{n._setStyle("marginTop",null),n._setStyle("paddingTop",null)})}_parseRatio(i){const n=i.split(":");this.rowHeightRatio=parseFloat(n[0])/parseFloat(n[1])}}class EH extends Fk{setRowStyles(i,n){let h=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);i._setStyle("top",this.getTilePosition(h,n)),i._setStyle("height",oA(this.getTileSize(h,i.rowspan)))}reset(i){i._tiles&&i._tiles.forEach(n=>{n._setStyle("top",null),n._setStyle("height",null)})}}function oA(r){return`calc(${r})`}function HF(r){return r.match(/([A-Za-z%]+)$/)?r:`${r}px`}let CH=(()=>{class r{constructor(n,s){this._element=n,this._dir=s,this._gutter="1px"}get cols(){return this._cols}set cols(n){this._cols=Math.max(1,Math.round(HD(n)))}get gutterSize(){return this._gutter}set gutterSize(n){this._gutter=`${null==n?"":n}`}get rowHeight(){return this._rowHeight}set rowHeight(n){const s=`${null==n?"":n}`;s!==this._rowHeight&&(this._rowHeight=s,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(n){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===n?new EH:n&&n.indexOf(":")>-1?new wH(n):new vH(n)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new mH);const n=this._tileCoordinator,s=this._tiles.filter(h=>!h._gridList||h._gridList===this),l=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,s),this._tileStyler.init(this.gutterSize,n,this.cols,l),s.forEach((h,g)=>{const w=n.positions[g];this._tileStyler.setStyle(h,w.row,w.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(n){n&&(this._element.nativeElement.style[n[0]]=n[1])}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.SBq),c.Y36(jD,8))},r.\u0275cmp=c.Xpm({type:r,selectors:[["mat-grid-list"]],contentQueries:function(n,s,l){if(1&n&&c.Suo(l,GF,5),2&n){let h;c.iGM(h=c.CRH())&&(s._tiles=h)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(n,s){2&n&&c.uIk("cols",s.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[c._Bn([{provide:UF,useExisting:r}])],ngContentSelectors:BF,decls:2,vars:0,template:function(n,s){1&n&&(c.F$t(),c.TgZ(0,"div"),c.Hsn(1),c.qZA())},styles:[VF],encapsulation:2,changeDetection:0}),r})(),xH=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[[RF,Jh],RF,Jh]}),r})();function jF(r,i,n){return n?jF(r,i).pipe((0,Bt.U)(s=>(0,Eo.k)(s)?n(...s):n(s))):new Wi.y(s=>{const l=(...g)=>s.next(1===g.length?g[0]:g);let h;try{h=r(l)}catch(g){return void s.error(g)}if((0,y_.m)(i))return()=>i(l,h)})}class QF extends _.L{notifyNext(i,n,s,l,h){this.destination.next(n)}notifyError(i,n){this.destination.error(i)}notifyComplete(i){this.destination.complete()}}class IH extends _.L{constructor(i,n,s){super(),this.parent=i,this.outerValue=n,this.outerIndex=s,this.index=0}_next(i){this.parent.notifyNext(this.outerValue,i,this.outerIndex,this.index++,this)}_error(i){this.parent.notifyError(i,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var DH=P(7444);function zF(r,i,n,s,l=new IH(r,n,s)){if(!l.closed)return i instanceof Wi.y?i.subscribe(l):(0,DH.s)(i)(l)}const qF={};function Kh(...r){let i,n;return(0,Iv.K)(r[r.length-1])&&(n=r.pop()),"function"==typeof r[r.length-1]&&(i=r.pop()),1===r.length&&(0,Eo.k)(r[0])&&(r=r[0]),(0,Mb.n)(r,n).lift(new YF(i))}class YF{constructor(i){this.resultSelector=i}call(i,n){return n.subscribe(new SH(i,this.resultSelector))}}class SH extends QF{constructor(i,n){super(i),this.resultSelector=n,this.active=0,this.values=[],this.observables=[]}_next(i){this.values.push(qF),this.observables.push(i)}_complete(){const i=this.observables,n=i.length;if(0===n)this.destination.complete();else{this.active=n,this.toRespond=n;for(let s=0;s<n;s++)this.add(zF(this,i[s],void 0,s))}}notifyComplete(i){0==(this.active-=1)&&this.destination.complete()}notifyNext(i,n,s){const l=this.values,g=this.toRespond?l[s]===qF?--this.toRespond:this.toRespond:0;l[s]=n,0===g&&(this.resultSelector?this._tryResultSelector(l):this.destination.next(l.slice()))}_tryResultSelector(i){let n;try{n=this.resultSelector.apply(this,i)}catch(s){return void this.destination.error(s)}this.destination.next(n)}}var WF=P(4022),ZF=P(6328);function Pk(...r){return i=>{let n;return"function"==typeof r[r.length-1]&&(n=r.pop()),i.lift(new MH(r,n))}}class MH{constructor(i,n){this.observables=i,this.project=n}call(i,n){return n.subscribe(new RH(i,this.observables,this.project))}}class RH extends QF{constructor(i,n,s){super(i),this.observables=n,this.project=s,this.toRespond=[];const l=n.length;this.values=new Array(l);for(let h=0;h<l;h++)this.toRespond.push(h);for(let h=0;h<l;h++)this.add(zF(this,n[h],void 0,h))}notifyNext(i,n,s){this.values[s]=n;const l=this.toRespond;if(l.length>0){const h=l.indexOf(s);-1!==h&&l.splice(h,1)}}notifyComplete(){}_next(i){if(0===this.toRespond.length){const n=[i,...this.values];this.project?this._tryProject(n):this.destination.next(n)}}_tryProject(i){let n;try{n=this.project.apply(this,i)}catch(s){return void this.destination.error(s)}this.destination.next(n)}}class NH{constructor(i){this.predicate=i}call(i,n){return n.subscribe(new FH(i,this.predicate))}}class FH extends _.L{constructor(i,n){super(i),this.predicate=n,this.skipping=!0,this.index=0}_next(i){const n=this.destination;this.skipping&&this.tryCallPredicate(i),this.skipping||n.next(i)}tryCallPredicate(i){try{const n=this.predicate(i,this.index++);this.skipping=Boolean(n)}catch(n){this.destination.error(n)}}}const PH=["youtubeContainer"];let $F=(()=>{class r{constructor(n,s){this._ngZone=n,this._youtubeContainer=new Fn.xQ,this._destroyed=new Fn.xQ,this._playerChanges=new Ii(void 0),this._videoId=new Ii(void 0),this._height=new Ii(390),this._width=new Ii(640),this._startSeconds=new Ii(void 0),this._endSeconds=new Ii(void 0),this._suggestedQuality=new Ii(void 0),this._playerVars=new Ii(void 0),this.ready=this._getLazyEmitter("onReady"),this.stateChange=this._getLazyEmitter("onStateChange"),this.error=this._getLazyEmitter("onError"),this.apiChange=this._getLazyEmitter("onApiChange"),this.playbackQualityChange=this._getLazyEmitter("onPlaybackQualityChange"),this.playbackRateChange=this._getLazyEmitter("onPlaybackRateChange"),this._isBrowser=Br(s)}get videoId(){return this._videoId.value}set videoId(n){this._videoId.next(n)}get height(){return this._height.value}set height(n){this._height.next(n||390)}get width(){return this._width.value}set width(n){this._width.next(n||640)}set startSeconds(n){this._startSeconds.next(n)}set endSeconds(n){this._endSeconds.next(n)}set suggestedQuality(n){this._suggestedQuality.next(n)}get playerVars(){return this._playerVars.value}set playerVars(n){this._playerVars.next(n)}ngOnInit(){if(!this._isBrowser)return;let n=(0,m.of)(!0);if(!window.YT||!window.YT.Player){const l=new Fn.xQ;this._existingApiReadyCallback=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=()=>{this._existingApiReadyCallback&&this._existingApiReadyCallback(),this._ngZone.run(()=>l.next(!0))},n=l.pipe(f_(1),Pd(!1))}const s=function(r,i,n,s,l,h,g){const w=Kh([i,h]).pipe(Pk(Kh([s,l])),(0,Bt.U)(([C,S])=>{const[T,k]=C,[B,G]=S;return T?{videoId:T,playerVars:k,width:B,height:G}:void 0}));return Kh([r,w,(0,m.of)(g)]).pipe(function(r){return(0,WF.z)(function(...r){let i=null;return"function"==typeof r[r.length-1]&&(i=r.pop()),1===r.length&&(0,Eo.k)(r[0])&&(r=r[0].slice()),n=>n.lift.call((0,Zn.D)([n,...r]),new YF(i))}(r),function(r){return i=>i.lift(new NH(r))}(([i,n])=>!n),(0,Bt.U)(([i])=>i))}(n),mg(HH,void 0),ys())}(this._youtubeContainer,this._videoId,n,this._width,this._height,this._playerVars,this._ngZone).pipe((0,Dc.b)(l=>{this._playerChanges.next(l)}),(0,JN.zg)(i=>i?XF(i)?(0,m.of)(i):new Wi.y(n=>{let s=!1,l=!1;const h=g=>{l=!0,s||(g.target.removeEventListener("onReady",h),n.next(g.target))};return i.addEventListener("onReady",h),()=>{s=!0,l||(l=>{XF(l)||l.destroy()})(i)}}).pipe(f_(1),Pd(void 0)):(0,m.of)(void 0)),jl(this._destroyed),(0,ZF.O)(new Fn.xQ));s.subscribe(l=>{this._player=l,l&&this._pendingPlayerState&&this._initializePlayer(l,this._pendingPlayerState),this._pendingPlayerState=void 0}),function(r,i,n){Kh([r,i,n]).subscribe(([s,l,h])=>s&&s.setSize(l,h))}(s,this._width,this._height),function(r,i){Kh([r,i]).subscribe(([n,s])=>n&&s&&n.setPlaybackQuality(s))}(s,this._suggestedQuality),function(r,i,n,s,l,h){const g=Kh([n,s]).pipe((0,Bt.U)(([T,k])=>({startSeconds:T,endSeconds:k}))),w=g.pipe(Lk(r,T=>!!T&&!function(r){const i=r.getPlayerState();return i!==YT.PlayerState.UNSTARTED&&i!==YT.PlayerState.CUED}(T))),C=i.pipe(Lk(r,(T,k)=>!!T&&T.videoId!==k)),S=r.pipe(Lk(Kh([i,g]),([T,k],B)=>!(!B||T==B.videoId&&!k.startSeconds&&!k.endSeconds)));(0,el.T)(S,C,w).pipe(Pk(Kh([r,i,g,l])),(0,Bt.U)(([T,k])=>k),jl(h)).subscribe(([T,k,B,G])=>{!k||!T||(T.videoId=k,T.cueVideoById(Object.assign({videoId:k,suggestedQuality:G},B)))})}(s,this._videoId,this._startSeconds,this._endSeconds,this._suggestedQuality,this._destroyed),s.connect()}createEventsBoundInZone(){return{}}ngAfterViewInit(){this._youtubeContainer.next(this.youtubeContainer.nativeElement)}ngOnDestroy(){this._player&&(this._player.destroy(),window.onYouTubeIframeAPIReady=this._existingApiReadyCallback),this._playerChanges.complete(),this._videoId.complete(),this._height.complete(),this._width.complete(),this._startSeconds.complete(),this._endSeconds.complete(),this._suggestedQuality.complete(),this._youtubeContainer.complete(),this._playerVars.complete(),this._destroyed.next(),this._destroyed.complete()}playVideo(){this._player?this._player.playVideo():this._getPendingState().playbackState=YT.PlayerState.PLAYING}pauseVideo(){this._player?this._player.pauseVideo():this._getPendingState().playbackState=YT.PlayerState.PAUSED}stopVideo(){this._player?this._player.stopVideo():this._getPendingState().playbackState=YT.PlayerState.CUED}seekTo(n,s){this._player?this._player.seekTo(n,s):this._getPendingState().seek={seconds:n,allowSeekAhead:s}}mute(){this._player?this._player.mute():this._getPendingState().muted=!0}unMute(){this._player?this._player.unMute():this._getPendingState().muted=!1}isMuted(){return this._player?this._player.isMuted():!!this._pendingPlayerState&&!!this._pendingPlayerState.muted}setVolume(n){this._player?this._player.setVolume(n):this._getPendingState().volume=n}getVolume(){return this._player?this._player.getVolume():this._pendingPlayerState&&null!=this._pendingPlayerState.volume?this._pendingPlayerState.volume:0}setPlaybackRate(n){if(this._player)return this._player.setPlaybackRate(n);this._getPendingState().playbackRate=n}getPlaybackRate(){return this._player?this._player.getPlaybackRate():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackRate?this._pendingPlayerState.playbackRate:0}getAvailablePlaybackRates(){return this._player?this._player.getAvailablePlaybackRates():[]}getVideoLoadedFraction(){return this._player?this._player.getVideoLoadedFraction():0}getPlayerState(){if(this._isBrowser&&window.YT)return this._player?this._player.getPlayerState():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackState?this._pendingPlayerState.playbackState:YT.PlayerState.UNSTARTED}getCurrentTime(){return this._player?this._player.getCurrentTime():this._pendingPlayerState&&this._pendingPlayerState.seek?this._pendingPlayerState.seek.seconds:0}getPlaybackQuality(){return this._player?this._player.getPlaybackQuality():"default"}getAvailableQualityLevels(){return this._player?this._player.getAvailableQualityLevels():[]}getDuration(){return this._player?this._player.getDuration():0}getVideoUrl(){return this._player?this._player.getVideoUrl():""}getVideoEmbedCode(){return this._player?this._player.getVideoEmbedCode():""}_getPendingState(){return this._pendingPlayerState||(this._pendingPlayerState={}),this._pendingPlayerState}_initializePlayer(n,s){const{playbackState:l,playbackRate:h,volume:g,muted:w,seek:C}=s;switch(l){case YT.PlayerState.PLAYING:n.playVideo();break;case YT.PlayerState.PAUSED:n.pauseVideo();break;case YT.PlayerState.CUED:n.stopVideo()}null!=h&&n.setPlaybackRate(h),null!=g&&n.setVolume(g),null!=w&&(w?n.mute():n.unMute()),null!=C&&n.seekTo(C.seconds,C.allowSeekAhead)}_getLazyEmitter(n){return this._playerChanges.pipe(Oi(s=>s?jF(l=>{s.addEventListener(n,l)},l=>{try{s.removeEventListener&&s.removeEventListener(n,l)}catch(h){}}):(0,m.of)()),s=>new Wi.y(l=>s.subscribe({next:h=>this._ngZone.run(()=>l.next(h)),error:h=>l.error(h),complete:()=>l.complete()})),jl(this._destroyed))}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.R0b),c.Y36(c.Lbi))},r.\u0275cmp=c.Xpm({type:r,selectors:[["youtube-player"]],viewQuery:function(n,s){if(1&n&&c.Gf(PH,5),2&n){let l;c.iGM(l=c.CRH())&&(s.youtubeContainer=l.first)}},inputs:{videoId:"videoId",height:"height",width:"width",startSeconds:"startSeconds",endSeconds:"endSeconds",suggestedQuality:"suggestedQuality",playerVars:"playerVars",showBeforeIframeApiLoads:"showBeforeIframeApiLoads"},outputs:{ready:"ready",stateChange:"stateChange",error:"error",apiChange:"apiChange",playbackQualityChange:"playbackQualityChange",playbackRateChange:"playbackRateChange"},decls:2,vars:0,consts:[["youtubeContainer",""]],template:function(n,s){1&n&&c._UZ(0,"div",null,0)},encapsulation:2,changeDetection:0}),r})();function HH(r,[i,n,s]){if(r&&n&&r.playerVars!==n.playerVars)r.destroy();else{if(!n)return void(r&&r.destroy());if(r)return r}const l=s.runOutsideAngular(()=>new YT.Player(i,n));return l.videoId=n.videoId,l.playerVars=n.playerVars,l}function XF(r){return"getPlayerStatus"in r}function Lk(r,i){return(0,WF.z)(Pk(r),Qs(([n,s])=>i(s,n)),(0,Bt.U)(([n])=>n))}let zH=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({}),r})();function qH(r,i){1&r&&(c.ynx(0),c.TgZ(1,"p"),c._uU(2,"cargando..."),c.qZA(),c.BQk())}function YH(r,i){if(1&r&&(c.TgZ(0,"mat-grid-tile",3),c._UZ(1,"youtube-player",4),c.qZA()),2&r){const n=i.$implicit;c.xp6(1),c.Q6J("videoId",n)("height",250)("width",500)}}function WH(r,i){if(1&r){const n=c.EpF();c.ynx(0),c.TgZ(1,"mat-grid-list",1),c.NdJ("resize",function(l){return c.CHM(n),c.oxw().onResize(l)},!1,c.Jf7),c.YNc(2,YH,2,3,"mat-grid-tile",2),c.qZA(),c.BQk()}if(2&r){const n=c.oxw();c.xp6(1),c.Q6J("cols",n.columns),c.xp6(1),c.Q6J("ngForOf",n.listLinks)}}let eP=(()=>{class r{constructor(n){this.http=n,this.ytlink="UCShBlj-XQJWYdJkChg7GR5A",this.cargandoImages=!1,this.channelGetLink="https://youtube.googleapis.com/youtube/v3/channels",this.playlistGetLink="https://youtube.googleapis.com/youtube/v3/playlistItems",this.sizeImg="grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));",this.listLinks=[]}ngOnInit(){this.cargarLista(),this.columns=window.innerWidth<=480?1:3}onResize(n){this.columns=n.target.innerWidth<=480?1:3}cargarLista(){var n=this;return(0,$.Z)(function*(){const l=(yield n.getChannelInf()).items[0].contentDetails.relatedPlaylists.uploads;(yield n.gePlayListInf(l)).items.forEach(g=>{n.listLinks.push(g.contentDetails.videoId)})})()}getChannelInf(){return new Promise((s,l)=>{const h=(new Ql).set("part","contentDetails").set("id",this.ytlink).set("key",b_apiKey);this.http.get(this.channelGetLink,{params:h}).toPromise().then(g=>{s(g)},g=>{l(g)})})}gePlayListInf(n){return new Promise((l,h)=>{const g=(new Ql).set("part","contentDetails").set("playlistId",n).set("key",b_apiKey);this.http.get(this.playlistGetLink,{params:g}).toPromise().then(w=>{l(w)},w=>{h(w)})})}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(T_))},r.\u0275cmp=c.Xpm({type:r,selectors:[["app-gridvideos"]],inputs:{ytlink:"ytlink",columns:"columns"},decls:2,vars:2,consts:[[4,"ngIf"],["rowHeight","2:1",3,"cols","resize"],["style","margin: 50px;",4,"ngFor","ngForOf"],[2,"margin","50px"],["suggestedQuality","highres",3,"videoId","height","width"]],template:function(n,s){1&n&&(c.YNc(0,qH,3,0,"ng-container",0),c.YNc(1,WH,3,2,"ng-container",0)),2&n&&(c.Q6J("ngIf",s.cargandoImages),c.xp6(1),c.Q6J("ngIf",!s.cargandoImages))},directives:[mt,CH,qn,GF,$F],styles:[""]}),r})(),ZH=(()=>{class r{constructor(){this.list=["https://i.ibb.co/GnFsSQB/2-1.jpg","https://i.ibb.co/dg6nyqy/1-1.jpg","https://i.ibb.co/Ld1hhxJ/5-1.jpg","https://i.ibb.co/Y8TDZHp/3.jpg","https://i.ibb.co/ZYCwVmX/4-1.jpg"],this.title="elements"}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=c.Xpm({type:r,selectors:[["app-root"]],decls:1,vars:1,consts:[[3,"columns"]],template:function(n,s){1&n&&c._UZ(0,"app-gridvideos",0),2&n&&c.Q6J("columns",2)},directives:[eP],styles:[""]}),r})();function JH(r,i){if(1&r&&(c.TgZ(0,"option",15),c._uU(1),c.qZA()),2&r){const n=i.$implicit;c.Q6J("value",n),c.xp6(1),c.hij(" ",n," ")}}P(7983);let KH=(()=>{class r{constructor(n,s){this.fb=n,this._http=s,this.to="geniustechdevelopment@gmail.com",this.serverLink="https://desarrollointerscope.herokuapp.com/email",this.formulario=this.formInit()}get services(){return this.internalservice}set services(n){if("string"==typeof n){console.log(n);const s=n.split(",");this.internalservice=s}else this.internalservice=n}formInit(){return this.fb.group({nombre:["",yn.required],lastname:["",yn.required],email:["",yn.required],asunto:["New service request",yn.required],phone:["",yn.required],address:["",yn.required],service:["",yn.required],mensaje:["no extras",yn.required]})}ngOnInit(){}guardarDatosCliente(){this._http.post(this.serverLink,{toEmail:this.to,nombre:this.formulario.controls.nombre.value,lastname:this.formulario.controls.lastname.value,email:this.formulario.controls.email.value,asunto:this.formulario.controls.asunto.value,phone:this.formulario.controls.phone.value,address:this.formulario.controls.address.value,service:this.formulario.controls.service.value,mensaje:this.formulario.controls.mensaje.value}).subscribe(k=>{"ok"==k.msg&&console.log(k.msg)})}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(ng),c.Y36(T_))},r.\u0275cmp=c.Xpm({type:r,selectors:[["app-form"]],inputs:{to:"to",services:"services"},decls:27,vars:2,consts:[[1,"container"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-50"],["type","text","formControlName","nombre","placeholder","Name"],["type","text","formControlName","lastname","placeholder","Last name"],[1,"col-75"],["type","text","formControlName","email","placeholder","Email"],["type","text","formControlName","phone","placeholder","Phone"],["type","text","formControlName","address","placeholder","address"],["formControlName","service"],["value",""],[3,"value",4,"ngFor","ngForOf"],["id","Message","placeholder","Message","formControlName","mensaje",2,"height","200px"],["type","submit","value","Submit"],[3,"value"]],template:function(n,s){1&n&&(c.TgZ(0,"div",0),c.TgZ(1,"form",1),c.NdJ("ngSubmit",function(){return s.guardarDatosCliente()}),c.TgZ(2,"div",2),c.TgZ(3,"div",3),c._UZ(4,"input",4),c.qZA(),c.TgZ(5,"div",3),c._UZ(6,"input",5),c.qZA(),c.qZA(),c.TgZ(7,"div",2),c.TgZ(8,"div",6),c._UZ(9,"input",7),c.qZA(),c.qZA(),c.TgZ(10,"div",2),c.TgZ(11,"div",6),c._UZ(12,"input",8),c.qZA(),c.qZA(),c.TgZ(13,"div",2),c.TgZ(14,"div",6),c._UZ(15,"input",9),c.qZA(),c.qZA(),c.TgZ(16,"div",2),c.TgZ(17,"div",6),c.TgZ(18,"select",10),c.TgZ(19,"option",11),c._uU(20,"What type of service you are interested in"),c.qZA(),c.YNc(21,JH,2,2,"option",12),c.qZA(),c.qZA(),c.qZA(),c.TgZ(22,"div",2),c.TgZ(23,"div",6),c._UZ(24,"textarea",13),c.qZA(),c.qZA(),c.TgZ(25,"div",2),c._UZ(26,"input",14),c.qZA(),c.qZA(),c.qZA()),2&n&&(c.xp6(1),c.Q6J("formGroup",s.formulario),c.xp6(20),c.Q6J("ngForOf",s.services))},directives:[Gf,Ls,Ou,Xt,sa,ul,wd,ln,Ki,qn],styles:['*[_ngcontent-%COMP%]{box-sizing:border-box}input[type=text][_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #ccc;border-radius:4px;resize:vertical}label[_ngcontent-%COMP%]{padding:12px 12px 12px 0;display:inline-block}input[type=submit][_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:12px 20px;border:none;border-radius:4px;cursor:pointer;float:right}input[type=submit][_ngcontent-%COMP%]:hover{background-color:#45a049}.container[_ngcontent-%COMP%]{border-radius:5px;background-color:#f2f2f2;padding:20px;width:500px}.col-25[_ngcontent-%COMP%]{float:left;width:25%;margin-top:6px}.col-75[_ngcontent-%COMP%]{float:left;width:92%;margin-top:6px;margin-left:10px}.col-50[_ngcontent-%COMP%]{float:left;width:45%;margin-top:6px;margin-left:10px}.row[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}@media screen and (max-width: 600px){.col-25[_ngcontent-%COMP%], .col-75[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]{width:100%;margin-top:0}}']}),r})();function $H(r,i){1&r&&(c.ynx(0),c.TgZ(1,"p"),c._uU(2,"cargando..."),c.qZA(),c.BQk())}function XH(r,i){if(1&r&&(c.ynx(0),c._UZ(1,"gallery",1),c.BQk()),2&r){const n=c.oxw();c.xp6(1),c.Q6J("items",n.images)("thumbPosition",n.position)("autoPlay",n.autoplay)}}let ej=(()=>{class r{constructor(n){this.storage=n,this.autoplay=!1,this.listLinks=[],this.images=[],this.cargandoImages=!0}ngOnInit(){console.log(this.folder),this.cargarLista()}cargarLista(){var n=this;console.log("esto es al iniciar el cargado de imagenes",this.cargandoImages),this.cargandoImages=!0,console.log("",this.images),this.storage.ref(this.folder).listAll().pipe(g_()).subscribe(function(){var s=(0,$.Z)(function*(l){yield Promise.all(l.items.map(function(){var h=(0,$.Z)(function*(g){const w=yield g.getDownloadURL();n.listLinks.push(w)});return function(g){return h.apply(this,arguments)}}())),n.listLinks.forEach(h=>{const g=new Kp({src:h,thumb:h});n.images.push(g)}),console.log(n.listLinks),n.cargandoImages=!1,console.log("esto es al finalizar el cargado de imagenes",n.cargandoImages)});return function(l){return s.apply(this,arguments)}}()),console.log("",this.images)}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(Cv))},r.\u0275cmp=c.Xpm({type:r,selectors:[["app-gallery"]],inputs:{autoplay:"autoplay",position:"position",folder:"folder"},decls:2,vars:2,consts:[[4,"ngIf"],[3,"items","thumbPosition","autoPlay"]],template:function(n,s){1&n&&(c.YNc(0,$H,3,0,"ng-container",0),c.YNc(1,XH,2,3,"ng-container",0)),2&n&&(c.Q6J("ngIf",s.cargandoImages),c.xp6(1),c.Q6J("ngIf",!s.cargandoImages))},directives:[mt,mP],styles:[""]}),r})();function tj(r,i){1&r&&(c.ynx(0),c.TgZ(1,"p"),c._uU(2,"cargando..."),c.qZA(),c.BQk())}function nj(r,i){if(1&r&&(c.ynx(0),c._UZ(1,"ngx-image-display",1),c.BQk()),2&r){const n=c.oxw();c.xp6(1),c.Q6J("sameSize",n.samesizeConfig)("imageEffect",n.hovereffect)("images",n.images)("displayconfig",n.displayconfig)}}let ij=(()=>{class r{constructor(n){this.storage=n,this.images=[],this.cargandoImages=!0,this.listLinks=[]}ngOnDestroy(){this.suscrip.unsubscribe()}ngOnInit(){console.log(this.columns),console.log(this.hover),this.displayconfig={columns:this.columns,imageminwidth:"250px",fullScreenView:!0},this.samesizeConfig={active:!0,imgContainerHeight:"250px"},this.hovereffect={hoverEffectActive:!0,hoverEffect:this.hover},this.cargarLista()}cargarLista(){var n=this;console.log("esto es al iniciar el cargado de imagenes",this.cargandoImages),this.cargandoImages=!0,console.log("",this.images),this.suscrip=this.storage.ref(this.folder).listAll().pipe(g_()).subscribe(function(){var s=(0,$.Z)(function*(l){yield Promise.all(l.items.map(function(){var h=(0,$.Z)(function*(g){const w=yield g.getDownloadURL();n.listLinks.push(w)});return function(g){return h.apply(this,arguments)}}())),n.listLinks.forEach(h=>{n.images.push({type:"url",imageData:{value:h}})}),console.log(n.listLinks),n.cargandoImages=!1,console.log("esto es al finalizar el cargado de imagenes",n.cargandoImages)});return function(l){return s.apply(this,arguments)}}()),console.log("",this.images)}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(Cv))},r.\u0275cmp=c.Xpm({type:r,selectors:[["app-grid"]],inputs:{hover:"hover",columns:"columns",folder:"folder"},decls:2,vars:2,consts:[[4,"ngIf"],[3,"sameSize","imageEffect","images","displayconfig"]],template:function(n,s){1&n&&(c.YNc(0,tj,3,0,"ng-container",0),c.YNc(1,nj,2,4,"ng-container",0)),2&n&&(c.Q6J("ngIf",s.cargandoImages),c.xp6(1),c.Q6J("ngIf",!s.cargandoImages))},directives:[mt,fB],styles:[""]}),r})();function rj(r,i){1&r&&(c.TgZ(0,"div",29),c._uU(1," You must enter a valid name "),c.qZA())}function sj(r,i){1&r&&(c.TgZ(0,"div",29),c._uU(1," You must enter a valid email address. "),c.qZA())}function oj(r,i){if(1&r&&(c.TgZ(0,"div",29),c._uU(1),c.qZA()),2&r){const n=c.oxw();let s;c.xp6(1),c.hij(" The minimum length for this field is ",null==(s=n.formulario.get("phone"))||null==s.errors?null:s.errors.minlength.requiredLength," characters. ")}}let aj=(()=>{class r{constructor(n,s,l){this.fb=n,this._http=s,this.afs=l,this.formulario=this.formInit(),this.doc="",this.corpEmail="",this.image="https://files.elfsight.com/storage/21146c21-8861-4cbf-af92-8d7fc1fece02/e9dcef70-57d6-4617-884f-24d9c37b12fe.jpg",this.title="Big Dogs, Little Dogs, All Happy Dogs!",this.subtitle="Wehave dedicated our effort, knowledge and encouragement to guide each little onein their first steps and barks.",this.link="https://www.google.com",this.bgcolor="rgb(200, 55, 100)",this.txtcolor="rgb(255, 255, 255)",this.serverLink="https://desarrollointerscope.herokuapp.com/email/emailModal"}ngAfterViewInit(){}ngOnInit(){var n=this;return(0,$.Z)(function*(){var s=yield n.afs.collection("ModalFormModel").doc(n.doc).get().toPromise();if(s.data()){var l=s.data();n.corpEmail=l.CorpEmail,n.image=l.BgImage,n.title=l.Title,n.subtitle=l.Subtitle,n.link=l.Link,n.bgcolor=l.Bgcolor,n.txtcolor=l.Txtcolor}})()}formInit(){return this.fb.group({nombre:["",yn.required],email:["",[yn.email,yn.required]],phone:["",[yn.minLength(8),yn.required]]})}contactoDirecto(){if(this.formulario.invalid)return;const n=this.formulario.value;this._http.post(this.serverLink,{toEmail:this.corpEmail,nombre:n.nombre,email:n.email,asunto:"new info request",phone:n.phone,mensaje:"i need information"}).subscribe(l=>{console.log(l.msg)})}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(ng),c.Y36(T_),c.Y36(Yp))},r.\u0275cmp=c.Xpm({type:r,selectors:[["app-modal"]],inputs:{doc:"doc",corpEmail:"corpEmail",image:"image",title:"title",subtitle:"subtitle",link:"link",bgcolor:"bgcolor",txtcolor:"txtcolor"},decls:56,vars:14,consts:[[1,"fjkoeX","eapp-popup-content-component","eapp-popup-content-shape-rounded"],["tabindex","0","role","button",1,"bwFKeb","eapp-popup-control-close-component","transition-exited"],["viewBox","0 0 10 10",1,"eapp-popup-control-close-icon"],["fill-rule","nonzero","d","M6.414 5l3.293 3.293a1 1 0 0 1-1.414 1.414L5 6.414 1.707 9.707A1 1 0 1 1 .293 8.293L3.586 5 .293 1.707A1 1 0 0 1 1.707.293L5 3.586 8.293.293a1 1 0 0 1 1.414 1.414L6.414 5z"],[1,"jffqny","eapp-popup-content-banner"],[1,"eapp-popup-content-banner-component"],[1,"jffqny"],[1,"aNldD","eapp-popup-content-main"],[1,"glwoss","eapp-popup-content-outer"],[1,"eapp-popup-content-inner"],[1,"eapp-popup-content-blocks-container-component","eapp-popup-content-blocks-container-paddings-medium"],[1,"eapp-popup-content-blocks-container-item"],[1,"eapp-popup-block-variation-title-component"],[1,"eapp-popup-block-variation-text-component"],[1,"eapp-popup-block-variation-text-text"],[1,"eapp-popup-block-variation-spacing-component"],[3,"formGroup","ngSubmit"],[1,"input-group","flex-nowrap"],["id","addon-wrapping",1,"input-group-text"],["type","text","formControlName","nombre","placeholder","Name","aria-label","Name","aria-describedby","addon-wrapping",1,"form-control"],["class","alert alert-danger","role","alert",4,"ngIf"],["type","text","formControlName","email","placeholder","E-mail","aria-label","email","aria-describedby","addon-wrapping",1,"form-control"],["type","tel","formControlName","phone","placeholder","Phone number","aria-label","phone","aria-describedby","addon-wrapping",1,"form-control"],[1,"d-grid"],["type","submit",1,"btn","btn-dark",3,"disabled"],[1,"row"],[1,"col"],[1,"col-auto"],["type","button",1,"btn","btn-dark",3,"href"],["role","alert",1,"alert","alert-danger"]],template:function(n,s){if(1&n&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.O4$(),c.TgZ(2,"svg",2),c._UZ(3,"path",3),c.qZA(),c.qZA(),c.kcU(),c.TgZ(4,"div",4),c._UZ(5,"div",5),c.qZA(),c.TgZ(6,"div",6),c.TgZ(7,"div",7),c.TgZ(8,"div",8),c.TgZ(9,"div",9),c.TgZ(10,"div",10),c.TgZ(11,"div",11),c.TgZ(12,"div",12),c._uU(13),c.qZA(),c.qZA(),c.TgZ(14,"div",11),c.TgZ(15,"div",13),c.TgZ(16,"div",14),c._uU(17),c.qZA(),c.qZA(),c.qZA(),c.TgZ(18,"div",11),c._UZ(19,"div",15),c.qZA(),c.TgZ(20,"form",16),c.NdJ("ngSubmit",function(){return s.contactoDirecto()}),c.TgZ(21,"div",11),c.TgZ(22,"div",17),c.TgZ(23,"span",18),c._uU(24,"N"),c.qZA(),c._UZ(25,"input",19),c.qZA(),c._UZ(26,"br"),c.YNc(27,rj,2,0,"div",20),c.qZA(),c.TgZ(28,"div",11),c.TgZ(29,"div",17),c.TgZ(30,"span",18),c._uU(31,"@"),c.qZA(),c._UZ(32,"input",21),c.qZA(),c._UZ(33,"br"),c.YNc(34,sj,2,0,"div",20),c.qZA(),c.TgZ(35,"div",11),c.TgZ(36,"div",17),c.TgZ(37,"span",18),c._uU(38,"#"),c.qZA(),c._UZ(39,"input",22),c.qZA(),c.YNc(40,oj,2,1,"div",20),c.qZA(),c._UZ(41,"br"),c.TgZ(42,"div",23),c.TgZ(43,"button",24),c._uU(44,"Contact"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(45,"div",25),c.TgZ(46,"div",26),c._UZ(47,"hr"),c.qZA(),c.TgZ(48,"div",27),c._uU(49,"OR"),c.qZA(),c.TgZ(50,"div",26),c._UZ(51,"hr"),c.qZA(),c.qZA(),c._UZ(52,"br"),c.TgZ(53,"div",23),c.TgZ(54,"a",28),c._uU(55," Go contact page"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&n){let l,h,g;c.xp6(5),c.Jzz("background-image: url(",s.image,")"),c.xp6(3),c.Udp("background-color",s.bgcolor),c.xp6(5),c.Oqu(s.title),c.xp6(4),c.Oqu(s.subtitle),c.xp6(3),c.Q6J("formGroup",s.formulario),c.xp6(7),c.Q6J("ngIf",null==(l=s.formulario.get("nombre"))?null:l.hasError("required")),c.xp6(7),c.Q6J("ngIf",null==(h=s.formulario.get("email"))?null:h.hasError("email")),c.xp6(6),c.Q6J("ngIf",null==(g=s.formulario.get("phone"))?null:g.hasError("minlength")),c.xp6(3),c.Q6J("disabled",s.formulario.invalid),c.xp6(11),c.Q6J("href",s.link,c.LSH)}},directives:[Gf,Ls,Ou,Xt,sa,ul,mt],styles:['.eapp-popup-content-component.eapp-popup-content-shape-rounded[_ngcontent-%COMP%]{border-radius:20px;overflow:hidden}.fjkoeX[_ngcontent-%COMP%]{display:flex}.eapp-popup-content-component[_ngcontent-%COMP%]{position:relative;height:100%}.eapp-popup-control-close-component[_ngcontent-%COMP%]{top:12px;right:12px}.bwFKeb[_ngcontent-%COMP%]{position:absolute;z-index:3;pointer-events:all}.eapp-popup-control-close-component[_ngcontent-%COMP%]{padding:4px;outline:none}.eapp-popup-control-close-icon[_ngcontent-%COMP%]{display:block;width:10px;height:10px}.eapp-popup-content-banner[_ngcontent-%COMP%]{position:relative}.eapp-popup-content-banner-component[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;background-repeat:no-repeat;background-size:cover;background-position:center}.jffqny[_ngcontent-%COMP%]{flex-basis:0px;flex-grow:1;min-width:0px}.aNldD[_ngcontent-%COMP%]{flex-direction:column;display:flex}.eapp-popup-content-main[_ngcontent-%COMP%]{height:100%}.glwoss[_ngcontent-%COMP%]{min-width:0px}.eapp-popup-content-outer[_ngcontent-%COMP%]{display:flex;position:relative;flex:1 0 auto;align-items:center;min-height:200px;background-repeat:no-repeat;background-size:cover;background-position:center}.eapp-popup-content-inner[_ngcontent-%COMP%]{position:relative;z-index:2;flex-grow:1}.eapp-popup-content-blocks-container-component.eapp-popup-content-blocks-container-paddings-medium[_ngcontent-%COMP%]{padding:40px}.eapp-popup-block-variation-title-component[_ngcontent-%COMP%]{text-align:center;font-weight:700;font-size:33px;color:#fff}.eapp-popup-content-blocks-container-paddings-medium[_ngcontent-%COMP%]   .eapp-popup-content-blocks-container-item[_ngcontent-%COMP%]{margin-top:16px}.eapp-popup-block-variation-title-component[_ngcontent-%COMP%]{line-height:1.1}.eapp-popup-block-variation-text-component[_ngcontent-%COMP%]{line-height:1.38}.eapp-popup-block-variation-text-text[_ngcontent-%COMP%]{text-align:center;font-size:18px;color:#fff}.eapp-popup-block-variation-text-text[_ngcontent-%COMP%]{line-height:inherit}.eapp-popup-block-variation-spacing-component[_ngcontent-%COMP%]{height:16px}.eapp-popup-block-variation-spacing-component[_ngcontent-%COMP%]{content:""}.eapp-popup-block-variation-button-component[_ngcontent-%COMP%]{padding-top:12px}.eapp-popup-button-component[_ngcontent-%COMP%]{height:48px;border-color:#fff;background-color:#111;font-size:16px;color:#fff}.afpdk[_ngcontent-%COMP%]{display:inline-flex;cursor:pointer}.eapp-popup-button-component[_ngcontent-%COMP%]{overflow:hidden;box-sizing:border-box;justify-content:center;align-items:center;width:100%;padding:0 12px;outline:none;white-space:nowrap;text-overflow:ellipsis;font-weight:700;line-height:1;transition-property:border-color,background-color,color;transition-duration:.2s;transition-timing-function:ease}.inputsss[_ngcontent-%COMP%]{display:flex;flex-direction:column}hr[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem;border:0;border-top:1px solid rgba(0,0,0,.1)}']}),r})();function gn(r,i,n,s){var g,l=arguments.length,h=l<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(r,i,n,s);else for(var w=r.length-1;w>=0;w--)(g=r[w])&&(h=(l<3?g(h):l>3?g(i,n,h):g(i,n))||h);return l>3&&h&&Object.defineProperty(i,n,h),h}function lj(r,i){return function(n,s){i(n,s,r)}}function Vt(r,i){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,i)}const cj=["lightboxDiv"],dj=["lightboxImageDiv"];function hj(r,i){1&r&&(c.TgZ(0,"div",13),c._UZ(1,"div",14),c.qZA())}const fj=function(r){return{width:r}};function gj(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"div",15,16),c.NdJ("touchstart",function(l){return c.CHM(n),c.oxw(2).swipeLightboxImg(l,"start")})("touchend",function(l){return c.CHM(n),c.oxw(2).swipeLightboxImg(l,"end")}),c._UZ(2,"custom-img",17),c.qZA()}if(2&r){const n=i.$implicit,s=i.index,l=c.oxw(2);c.Q6J("ngStyle",c.VKq(9,fj,l.popupWidth+"px")),c.uIk("id","ng-lightbox-image-"+s),c.xp6(2),c.Q6J("imageUrl",n.image||n.video)("isVideo",!(!n.posterImage&&!n.video))("videoAutoPlay",l.videoAutoPlay)("showVideoControls",l.showVideoControls?1:0)("alt",n.alt||n.title||"")("title",n.title||n.alt||"")("direction",l.direction)}}const iP=function(r){return{disable:r}};function pj(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"a",18),c.NdJ("click",function(){return c.CHM(n),c.oxw(2).prevImageLightbox()}),c._uU(1,"\u2039"),c.qZA()}if(2&r){const n=c.oxw(2);c.Q6J("ngClass",c.VKq(1,iP,n.lightboxPrevDisable))}}function Aj(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"a",19),c.NdJ("click",function(){return c.CHM(n),c.oxw(2).nextImageLightbox()}),c._uU(1,"\u203a"),c.qZA()}if(2&r){const n=c.oxw(2);c.Q6J("ngClass",c.VKq(1,iP,n.lightboxNextDisable))}}function mj(r,i){if(1&r&&(c.TgZ(0,"div",20),c._uU(1),c.qZA()),2&r){const n=c.oxw(2);c.xp6(1),c.AsE("",n.currentImageIndex+1," of ",n.totalImages,"")}}const yj=function(r,i,n){return{"margin-left":r,"grid-template-columns":i,transition:n}},_j=function(r,i){return{show:r,hide:i}};function vj(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"div",1),c.TgZ(1,"div",2),c.TgZ(2,"a",3),c.NdJ("click",function(){return c.CHM(n),c.oxw().closeLightbox()}),c.qZA(),c.TgZ(3,"div",4,5),c.YNc(5,hj,2,0,"div",6),c.TgZ(6,"div",7),c.YNc(7,gj,3,11,"div",8),c.qZA(),c.TgZ(8,"div",9),c._uU(9),c.qZA(),c.YNc(10,pj,2,3,"a",10),c.YNc(11,Aj,2,3,"a",11),c.qZA(),c.qZA(),c.YNc(12,mj,2,2,"div",12),c.qZA()}if(2&r){const n=c.oxw();c.xp6(5),c.Q6J("ngIf",n.showLoading),c.xp6(1),c.Q6J("ngStyle",c.kEZ(9,yj,n.marginLeft+"px","repeat("+n.images.length+",1fr)",n.effectStyle)),c.xp6(1),c.Q6J("ngForOf",n.images),c.xp6(1),c.Q6J("dir",n.direction)("ngClass",c.WLB(13,_j,n.title,!n.title)),c.xp6(1),c.Oqu(n.title),c.xp6(1),c.Q6J("ngIf",n.images.length>1),c.xp6(1),c.Q6J("ngIf",n.images.length>1),c.xp6(1),c.Q6J("ngIf",n.paginationShow)}}function wj(r,i){if(1&r&&c._UZ(0,"img",7),2&r){const n=c.oxw(2);c.Q6J("src",n.fileUrl,c.LSH)("alt",n.alt)("title",n.title)}}function Ej(r,i){if(1&r&&c._UZ(0,"iframe",8),2&r){const n=c.oxw(2);c.Q6J("src",n.fileUrl,c.uOi)}}function bj(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"video",9),c.NdJ("click",function(l){return c.CHM(n),c.oxw(2).videoClickHandler(l)}),c._UZ(1,"source",10),c._uU(2," Your browser does not support the video tag. "),c.qZA()}if(2&r){const n=c.oxw(2);c.Q6J("autoplay",n.videoAutoPlay),c.uIk("controls",n.showVideoControls?n.showVideoControls:null),c.xp6(1),c.Q6J("src",n.fileUrl,c.LSH)}}function Cj(r,i){if(1&r&&(c.TgZ(0,"div",11),c._uU(1,"Invalid file format"),c.qZA()),2&r){const n=c.oxw(2);c.Q6J("dir",n.direction)}}function xj(r,i){1&r&&c._UZ(0,"span",12)}function Ij(r,i){if(1&r&&(c.TgZ(0,"div",1),c.YNc(1,wj,1,3,"img",2),c.YNc(2,Ej,1,1,"iframe",3),c.YNc(3,bj,3,3,"video",4),c.YNc(4,Cj,2,1,"div",5),c.YNc(5,xj,1,0,"span",6),c.qZA()),2&r){const n=c.oxw();c.xp6(1),c.Q6J("ngIf",n.type===n.IMAGE&&n.fileUrl),c.xp6(1),c.Q6J("ngIf",n.type===n.YOUTUBE&&n.fileUrl),c.xp6(1),c.Q6J("ngIf",n.type===n.VIDEO),c.xp6(1),c.Q6J("ngIf",!n.fileUrl),c.xp6(1),c.Q6J("ngIf",n.type===n.YOUTUBE||n.type===n.VIDEO||n.isVideo)}}let KD=(()=>{let r=class{constructor(){}isBase64(n){return/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(n)}base64FileExtension(n){return n.substring("data:image/".length,n.indexOf(";base64"))}};return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=(0,c.Yz7)({factory:function(){return new r},token:r,providedIn:"root"}),r=gn([Vt("design:paramtypes",[])],r),r})(),Dj=(()=>{let r=class{constructor(n,s,l,h,g){this.cdRef=n,this.sanitizer=s,this.elRef=l,this.imageFullscreenViewService=h,this.document=g,this.totalImages=0,this.nextImageIndex=-1,this.popupWidth=1200,this.marginLeft=0,this.imageFullscreenView=!1,this.lightboxPrevDisable=!1,this.lightboxNextDisable=!1,this.showLoading=!0,this.effectStyle="none",this.speed=1,this.title="",this.currentImageIndex=0,this.images=[],this.videoAutoPlay=!1,this.direction="ltr",this.paginationShow=!1,this.infinite=!1,this.arrowKeyMove=!0,this.showVideoControls=!0,this.close=new c.vpe,this.prevImage=new c.vpe,this.nextImage=new c.vpe}set imageIndex(n){void 0!==n&&n>-1&&n<this.images.length&&(this.currentImageIndex=n),this.nextPrevDisable()}set show(n){this.imageFullscreenView=n,this.elRef.nativeElement.ownerDocument.body.style.overflow="",!0===n&&(this.elRef.nativeElement.ownerDocument.body.style.overflow="hidden",this.setPopupSliderWidth())}set animationSpeed(n){n&&"number"==typeof n&&n>=.1&&n<=5&&(this.speed=n)}onResize(n){this.effectStyle="none",this.setPopupSliderWidth()}handleKeyboardEvent(n){n&&n.key&&this.arrowKeyMove&&("arrowright"===n.key.toLowerCase()&&this.nextImageLightbox(),"arrowleft"===n.key.toLowerCase()&&this.prevImageLightbox(),"escape"===n.key.toLowerCase()&&this.closeLightbox())}ngOnDestroy(){this.resetState()}setPopupSliderWidth(){window&&window.innerWidth&&(this.popupWidth=window.innerWidth,this.totalImages=this.images.length,"number"==typeof this.currentImageIndex&&void 0!==this.currentImageIndex&&(this.marginLeft=-1*this.popupWidth*this.currentImageIndex,this.getImageData(),this.nextPrevDisable(),setTimeout(()=>{this.showLoading=!1},500)))}closeLightbox(){this.close.emit()}prevImageLightbox(){this.effectStyle=`all ${this.speed}s ease-in-out`,this.currentImageIndex>0&&!this.lightboxPrevDisable&&(this.currentImageIndex--,this.prevImage.emit(),this.marginLeft=-1*this.popupWidth*this.currentImageIndex,this.getImageData(),this.nextPrevDisable())}nextImageLightbox(){this.effectStyle=`all ${this.speed}s ease-in-out`,this.currentImageIndex<this.images.length-1&&!this.lightboxNextDisable&&(this.currentImageIndex++,this.nextImage.emit(),this.marginLeft=-1*this.popupWidth*this.currentImageIndex,this.getImageData(),this.nextPrevDisable())}nextPrevDisable(){this.lightboxNextDisable=!0,this.lightboxPrevDisable=!0,setTimeout(()=>{this.applyButtonDisableCondition()},1e3*this.speed)}applyButtonDisableCondition(){this.lightboxNextDisable=!1,this.lightboxPrevDisable=!1,!this.infinite&&this.currentImageIndex>=this.images.length-1&&(this.lightboxNextDisable=!0),!this.infinite&&this.currentImageIndex<=0&&(this.lightboxPrevDisable=!0)}getImageData(){if(this.images&&this.images.length&&"number"==typeof this.currentImageIndex&&void 0!==this.currentImageIndex&&this.images[this.currentImageIndex]&&(this.images[this.currentImageIndex].image||this.images[this.currentImageIndex].video)){this.title=this.images[this.currentImageIndex].title||"",this.totalImages=this.images.length;for(const n in this.document.getElementsByTagName("iframe"))this.document.getElementsByTagName("iframe")[n]&&this.document.getElementsByTagName("iframe")[n].contentWindow&&this.document.getElementsByTagName("iframe")[n].contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*");for(const n in this.document.getElementsByTagName("video"))this.document.getElementsByTagName("video")[n]&&this.document.getElementsByTagName("video")[n].pause&&this.document.getElementsByTagName("video")[n].pause()}}resetState(){this.images=[]}swipeLightboxImg(n,s){const l=[n.changedTouches[0].pageX,n.changedTouches[0].pageY],h=(new Date).getTime();if("start"===s)this.swipeLightboxImgCoord=l,this.swipeLightboxImgTime=h;else if("end"===s){const g=[l[0]-this.swipeLightboxImgCoord[0],l[1]-this.swipeLightboxImgCoord[1]];h-this.swipeLightboxImgTime<1e3&&Math.abs(g[0])>30&&Math.abs(g[0])>Math.abs(3*g[1])&&(g[0]<0?this.nextImageLightbox():this.prevImageLightbox())}}};return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.sBO),c.Y36(Nn),c.Y36(c.SBq),c.Y36(KD),c.Y36(oe))},r.\u0275cmp=c.Xpm({type:r,selectors:[["ng-image-fullscreen-view"]],viewQuery:function(n,s){if(1&n&&(c.Gf(cj,5),c.Gf(dj,5)),2&n){let l;c.iGM(l=c.CRH())&&(s.lightboxDiv=l.first),c.iGM(l=c.CRH())&&(s.lightboxImageDiv=l.first)}},hostBindings:function(n,s){1&n&&c.NdJ("resize",function(h){return s.onResize(h)},!1,c.Jf7)("keyup",function(h){return s.handleKeyboardEvent(h)},!1,c.evT)},inputs:{images:"images",videoAutoPlay:"videoAutoPlay",direction:"direction",paginationShow:"paginationShow",infinite:"infinite",arrowKeyMove:"arrowKeyMove",showVideoControls:"showVideoControls",imageIndex:"imageIndex",show:"show",animationSpeed:"animationSpeed"},outputs:{close:"close",prevImage:"prevImage",nextImage:"nextImage"},decls:1,vars:1,consts:[["class","ng-image-fullscreen-view",4,"ngIf"],[1,"ng-image-fullscreen-view"],[1,"lightbox-wrapper"],[1,"close",3,"click"],[1,"lightbox-div"],["lightboxDiv",""],["class","pre-loader",4,"ngIf"],[1,"lightbox-image-main",3,"ngStyle"],["class","lightbox-image",3,"ngStyle","touchstart","touchend",4,"ngFor","ngForOf"],[1,"caption",3,"dir","ngClass"],["class","prev icons prev-icon",3,"ngClass","click",4,"ngIf"],["class","next icons next-icon",3,"ngClass","click",4,"ngIf"],["class","popup-pagination",4,"ngIf"],[1,"pre-loader"],[1,"mnml-spinner"],[1,"lightbox-image",3,"ngStyle","touchstart","touchend"],["lightboxImageDiv",""],[3,"imageUrl","isVideo","videoAutoPlay","showVideoControls","alt","title","direction"],[1,"prev","icons","prev-icon",3,"ngClass","click"],[1,"next","icons","next-icon",3,"ngClass","click"],[1,"popup-pagination"]],template:function(n,s){1&n&&c.YNc(0,vj,13,16,"div",0),2&n&&c.Q6J("ngIf",s.imageFullscreenView)},directives:function(){return[mt,Hn,qn,rs,Tj]},styles:["ng-image-fullscreen-view .ng-image-fullscreen-view{position:fixed;z-index:1031;background-color:rgba(0,0,0,.6);width:100%;height:100%;top:0;overflow:hidden;transition:.5s ease-in-out;left:0;text-align:center}ng-image-fullscreen-view .ng-image-fullscreen-view.image-fullview-hide{display:none!important}ng-image-fullscreen-view .ng-image-fullscreen-view .lightbox-wrapper{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#1f1f1f;transition:.5s;display:flex;justify-content:center;align-items:center}ng-image-fullscreen-view .ng-image-fullscreen-view .lightbox-wrapper.ng-ligthbox-pagination{height:calc(100% - 30px)}ng-image-fullscreen-view .ng-image-fullscreen-view .lightbox-wrapper .lightbox-div{width:100%;height:100%;border:1px solid rgba(0,0,0,.35);position:relative;overflow:hidden}ng-image-fullscreen-view .ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .pre-loader{background-color:inherit;width:100%;height:100%}ng-image-fullscreen-view .ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .pre-loader .mnml-spinner{background-image:url(data:image/gif;base64,R0lGODlhQABAAKUAAAQCBISChMTCxDQ2NOzq7KyqrExOTBweHJSSlNTW1PT29FxaXLS2tCwqLAwKDIyKjMzKzERCRPTy9FRWVCQmJJyanNze3Pz+/GRiZLy+vExKTAQGBISGhMTGxOzu7KyurFRSVCQiJJSWlNza3Pz6/FxeXLy6vCwuLAwODIyOjMzOzERGRAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCQAsACwAAAAAQABAAAAG/kCWcEgsGo/IpHLJbDqf0CgRtXg8FiipdjshXL4XwmRLdk7A6Mu4zD6ivOkvIduuCzFxNMbOHCwWA0opeWApfEkgI2gWIEgPhF8Ph0cBhAFHJZAXe0gHHBkmHAdaZ5BrUx6EHnRGGhJoChpRABaaFgBGpXELna9pEqNPA5pfgUYLcHKnRg8keZJPeMScRiglViWsRwKEAlDSmtRkGd1Qw8TGZY/PULS2uGwHvmjAUbp5vHUaCrCyUpV5LvE58EBAhgfBSNUCY2HZpDoDSpRI97CixYsYM2pkgoICBW0bo0Rg4OwCCQYRQkLZIIJQBXgql1TQhCDmkhXELqwIeaCA/gcJBRIOIUcsw8YGyS54CEHEQUlNJBxo/BDnA5ETOb+c0DgPjAQiDbJe2Jqx65evQ5zmjDq1ahGimoxqRIrGA4UiEXKm3NhTAlChQ2ZCqmlTyQbBcSpsKMwkgomSJEzsZdzEAYUGUilr3sw5yYkUCSR4SJCCbGciLJ+CISFi8WkWG+DmyeC6c0tiIk43UE2IRAM+FJhKuZ0zd5sQEL5AEP4kgdgEdZKDgRCFNyQSx+PcfWK9dxsK2qE4zwq9jXTlUYjjrhNCxRcVzJ2c6J7GN/DfWhBDqpBkgwEDmWXkADeQCFBbEQ64d4EKAWLEEiGtIYJGIyE1gEBoEoyAAH4SG4JB4WtGbCAdBAeCSAQABoAAk4kstujii00EAQAh+QQJCQApACwAAAAAQABAAIUEAgSEgoTEwsREQkSsrqwcGhzk5uRsamyUkpT09vQMDgxcWlwkJiR0dnTMysxMSky8urycmpwMCgyMiowkIiTs7ux0cnT8/vwEBgTExsRERkS0trQcHhzs6uxsbmyUlpT8+vwUFhQsLix8fnzMzsxMTky8vrycnpyMjowAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/sCUcEgsGo/IpHLJbDqf0Kh0Sl0uMheQY1HtOj+XsPjjLSMX4vSFa24LHWqxw90GgOJhEICeFE02GxMiSQAJeFl7fEUAE3dpE4lGcHhzikUThxNnh2xIEiMZGSMSUyKHYYNHCHERSgokaSQKUpinmmeTW0sBcQFSEKcXEG1YapVQwKfDZpNpx08owShtvGq+UaanqWWvsbNS0XjTbhIBGQ4BpFMA4WkokZZdIigQGyjb8fn6+/z9/v8AAxLB8MCDhwcYBD7x0CFNhQMKmZw4dCJikgPBPASkwMBThWAV1PHjkIuCkRLBwmjw1+zCMyEWUl5o0I9CnI5EYqakyY/B/s0iKFM+YOnMiISPp0L64wDrAgmTRjwEgwiQAU4kE/FUtJjEAtIwFSxwXSKhoIUHIseqXcu2bRIFVr+5JTJggyMQGwbMTYEBDJ4I8NRGCIagrQaZK9eakGnCTYgGFkJIkeAoGIi0AylQSMikgIEwBgpgk4nKyAMIdyGUWDIizYjRpPFJIHCIgFwjrcW8hkJZ5uUhGAQEE8DZSIGGFzqIjrI4ZeMhtYLdOvK4wfIoA2TqFRKi8qkEki0NPlV4CEbSVBVhGM+qeAr2KbfGG4A6D4TtRGiTJsBPQlwk8AUjn0XnyZSeRQV4dwgI4Y0V3SnjqCVBMYc4gBlXCugXh217CZVgwl0mrOZGEAAh+QQJCQAyACwAAAAAQABAAIUEAgSEgoREQkTEwsQkIiSkoqRsamzk4uT08vQUFhRUVlQ0MjS0srSUlpR0dnQMCgxMSkzU0tSsqqzs6uz8+vw8OjzMyswsLix0cnQcHhxcXly8vrycnpwEBgSEhoRERkTExsQkJiSkpqRsbmzk5uT09vQcGhxcWlw0NjS0trScmpx8fnwMDgxMTkysrqzs7uz8/vw8PjwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/kCZcEgsGo/IpHLJbDqf0Kh0Sq1ar8lLilJKXbBg5AUBK8MQ37BamDKbU2s1gOIuUwBxZYdA6CwBJXUwd3lHDwETZS8BD0ptdXCFRR0bght+SAtkZmhNHXhVAYJlAUpaFBQpC0wsHAglHCxTHYmjE5hgIm4iUyGjZiFhD3RmFLhPvr8wwWAdxHbHTrS/t2oSbhJUHr8eaywFrwWyswOCA9FgAKBVDx4vZQiMkmEAIX3z+Pn6+/z9/v8AA06p0AAECBUVBDLpwEEQB3QKhzQcxSHikRjKYMTwl8ABhgRIJv6qyM8EiTIkTByxkNFCvxVuVqxs+TLmEZEU+5moNUGl/hGMyjb26+jA55ECvwpYPNIBaZ0CEJfKiKHCoAqhUrNq3cq1q8IKATgUCJCwSgcII0ZAiEoFBcs6FlBMGVFLkYEwCp7VKXEiCk43JK2g0CuIglwnBjKOsAIgQsYyEdYpefBO2YtGVAQ8NiOgSYvNH6ps2wyjGxMMmx0gAYDixAkUkodcI53tdGojAAwccEPCQGxdtD1vhjDJxS8Xx0ZvNr2EcsbLRVRkbEDkA2kYnZuMyHiXyALCglYJabw58pO/ZgIPkf5YBZEK4N1QKPsEQ2V4i404fhyhSN5fFPQlxQNoYbAWErs9doARbgkSFz77ZdQfbjF4UEABHsQQWx4NKWzmnlQobHaYVOi58WFWHTDwCwNsCZTbSWZM4JtXMgBQgQYaVLDhFUEAACH5BAkJACoALAAAAABAAEAAhQQCBISChDw6PMTGxOTm5CQiJFRWVKSipNTW1CwuLAwODJSWlERGRGxqbMzOzPT29LS2tNze3AwKDERCRCwqLGRiZDQ2NJyenPz+/AQGBISGhDw+PMzKzCQmJFxaXKyqrNza3DQyNBQWFJyanExKTGxubNTS1Pz6/Ly6vOTi5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAb+QJVwSCwaj8ikcslsOp/QqHRKrVqvS0oHy10WHBiMqdAtF03hsMPM7qTTFHaZ8g7H5UqRyIlOm/BJJH0IJEwFfWOARwx1GAxNFHdNEgYeElYIjQhsEpkYCJdTIo1he2UVbxVUo6SmXahpqlQgjSBsCp4gClWMdYWcHpZXJLQYIL+KXHrJzM3Oz9DR0tPUzgIBFwcBAtVMFhyNHBZJEiEhGdEGJ6QYDx5GGRoPYQ8a6M0C8+wYJ+NDCn3eONiVDEDAfSYADFnAbgGzCfvqTBCiQF+jBwQBaYj4RoOQEBH9AfrAMc0HIRZCJiNZEsNJFQrWkToRSmNLDB6FMCTlMFn+r5ITKR4MYyIjIIMlExKJJ/OEPWsy2Z3gZkSChRA1namT+q7bkW/hRHo1AmCDhgMHNGxQOLat27djJVSAAAIBhAb3pghYMGDACKpdLKRolEKskwwXGl3IayUfuweAnSQmdQGLhMH7UjBesiHihisNSjZ4MpldZSsoSqJ4Am4fhysRSkZgHfE1kgQBPqRNgCQ2x9mSI54uImHnmxGbVaTmuNpJ532fiwBY3ggF2yElSpaAcoDdgSOh940mIoFAxBRGmWToXudAchW+2QEnMsFinalTNozoOyK6kQIlkVGEAJi9kUJkcoDEkWFCSNAAXSCgUEFWeADIkYBuxUdKCnAgqRAeO+O9lQF1dVjXoQqINYLciUOEoMEHH2gQAovQBAEAIfkECQkAMAAsAAAAAEAAQACFBAIEhIKEREJExMbEJCIk5ObkbGpsrKqsFBIUNDI09Pb03NrcVFJUdHZ0tLa0DAoMlJKULCos7O7sHBocPDo8zM7MtLK0/P785OLkXFpcfH58BAYEhIaETEpMzMrMJCYk7OrsbG5srK6sFBYUNDY0/Pr83N7cVFZUfHp8vLq8DA4MlJaULC4s9PL0HB4cPD48AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABv5AmHBILBqPyKRyyWw6n9CodEqtWq/YbHaiCUy0YCNBcrlICEwAi8FgAcJMTbkcUG5QhfmlgNrAkwF6GkkjA3p6AyN/R2NlZ0gbHoeHA35SGwIvD04TAV5JDSWTh4NRCSZlJglZAHmjeiBvTw+ocwWbVwmvkyRQL5MvWBm7hxm+wMLEesazrmW3WLrKZb1Qp6mrWBsg0yCWUA8CArhZDdOli1GRxB7f6VCFr4nvVHfccyB99FYACWwJsvYJHEiwoMEwDww4WLDAgQF3B5WQqKUHQ7UjAD58CDjwhahRCigcOYGhDIYTBGkRwwDxxCSUAg1MM0Ck1SQMHNOlmJaCyP6HVx8EUtxlwidQgSWVFR1i81CBnIt2KutJxGWxgTKVhTCSIenJlM5GYVCBMUIEqPQ8viohMqISCkkrtnVrRyHDFA/p6t3Lt69fOA/MkqvyIEECiFk+HFBQpsSBoFM2cGB8QQEHxFU6tJjUooMUFRUmVSCLJcJmkBGirHi1IssBYgegqPg4SQFpwrRHlRi8RNqri1RYTGPxhAQx4Ece8C4iXBlxJ7PXLhfyoMGCMgv0GXmQe9JuKKtHtT6CwNAhDwiOvN4VW3boQxXSHxHxysKRD6c5p47ygMPHEhxMB4NvoyAnhGaceUbFAyQkIKAQcuyCThERiPCfCPvRAwExEC8o8QALLDwIBwrEoPCXEMbtYiBfFtR34hAIvKdHfC8O8QAKtZiAgoh+qcBjjYsEAQAh+QQJCQAuACwAAAAAQABAAIUEAgSMioxEQkTMysxkYmTk5uQkIiSsqqxUUlT09vSUlpTc2tx0cnQcGhwsLiwMCgxMSkzU0tRsamzs7uxcWlyUkpQsKiy0trT8/vycnpwEBgSMjoxERkTMzsxkZmTs6uwkJiSsrqxUVlT8+vycmpzk4uR8enw0MjQMDgxMTkzU1tRsbmz08vRcXlwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/kCXcEgsGo8ayCYU2kAAx6h0Sp1yVJisdiGoer9fz0hLxowk4LR6yBmXy921nKrBvssqzXx/TN3vCHyCQxV/bxWDgxeGZRdHBisKFSsGiVOLjFqORA8kblkjGQ+WR4WZWYhDDwN/A6OkRAinWYFDCowZcycBGydRAHaMC1BCBp93I5VqDglZCQ5RbZlxQgynDGu3WgpSYn9nRSSnuWqmWdxSAgtvXEYZ42sObiPQUwBKTBVPR9aZ2GsnNvQiZYzRCBCwBL0zRC7hngcd/nR45XAPioVkMqComMgAAwUkGCjjSLKkyZMoU6o0+cCCBYorwYA40MzMAYQxvUBg8YYF/gQpKCBA2KjSAs87CSwcETAhywRqJw8wOmAERVMtE4iyrPkNpgs/ZVKgdHCq3hCwZMSePFG2iFUyWVE+OPZmhFcXAo6ygGpSqiGqR4IOXWn0DwulOafs7PkzMRULIeaFQOy4ygMHDu5W3sy5s+fPoCuioBAgAAWtcwCAAEEMlogPZD6I2COiRJYSs0mJ+JNbze4yvQWhgH3nA2ovAAq8KdGaDwFGBNSA+INT0AZGG6RTTxSAUQA1yd8UaG4EAAcTJjiQJ/LcUHTfbyhMARGBTATKbq++ibuGgm0MuE3RgHJlFNBAFL/FtwcALq1XhDZvoHMEBcRlIRtKBIo3BQoELpTWwnEcacCIHqFVWMYHoQkBYRkSgjbgGx8cmKILFgSDgQr4pWgeevvM6CNnQQAAIfkECQkAJgAsAAAAAEAAQACFBAIEhIaEREJExMbEJCIkZGJktLK07OrsnJqcVFZUDA4MNDI0/Pr8jI6M5OLkdHZ0TEpMzM7MLCosvL689PL0XF5cFBYUBAYEjIqMzMrMJCYkZGZk7O7snJ6cXFpcFBIUNDY0/P78lJKUfHp8TE5MxMLEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABv5Ak3BILBqPyKRyyWyaPo/BwTF4KJzYrBJyCHm/B4h2PIYwvugQQ0xuLxWcdJrzcduPI7l8dGcSAhkOBwMBBEcDemkDfUkAAWdpDBgARXGJXxSMRxcGlyEGlEMUnl6ZRgAFE1MTBRdaAaQhGESIpItFFrVoAxZYGpCeDBpDeaR8RAC6iq5NDbFeDUMflol0RQWeG04RzyERRGaXbEQlnhNOo8+mQwLUXxzjRO5yHE7zl+vSI1IHGSNXR9JV29btm5tyl841EdEtmpsN2Zz8isVAgh0AGRJlCNUEQ6xZdyxkTJOhFxZOngwwuwNgQ4kDB0ps4IgFAAZgXyTR1NRHQ/6ACDAjYDDEs6jRo0iTKl3KtKlTIQo8YMDgAeBTLQm6gElwNUuCRFyRgOiAAERXBVrlHLBKZEG6ilexXSpwBAGaDledXXJYpMPdqx4vgSyyABKDBVcreKJ7REKHDoivwqnGtmuSr3o8WHbiIW2IA2E3N1FQYGqFOqJTq17NurXr17Bj90kwgAGFAaHbKIAAoTIjhmlEuGnnhYOAopjl5MYy+Z1vNyPl3NJCQg4JTQBwomGws0n1NNcZARAYqTuT5sWft4muqI2AdBSOM1kwYoRZJcnTLM+yuzcTAH590YF5QwCHhnBOPSDHA0t4UBsDA2j2lANyOCCbEAAkQiBrFBqmYeGFJiiYBoMgAnjXhq6BUN99ILboYmxBAAAh+QQJCQAnACwAAAAAQABAAIUEAgSMiozExsRUUlQkIiSkpqTk5uQUEhQ0MjS0srT09vScmpx8enwMCgw8Ojzk4uRcWlwsKiysrqz08vQcHhy8urz8/vykoqQEBgSUkpTMzsxUVlQkJiSsqqzs6uwUFhQ0NjS0trT8+vycnpx8fnwMDgw8PjwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/sCTcEgsGo/IpHLJbA4PINDBSa02ESGRxSIKIazg8Gmj3ZpFG7GaiVCY39zIen4MweEhuhNDoWCSB2V3WyJTekkOEm4WChIORw6DcI+HRgABkgEARSCSb5RHBAMDHGKYngFFB55mhkUEFW8VBFYmrFsmRXaeFUcUBnceFFUJtxZ5RAiCcCJyRrGDvXuLrAp/RBDLhGlGHKylTd7GFuDJFWUiFV9HG6zcTOLG5aogDq5HA+572oMi12IEvlEpdisBHWh3pDmxdSvXHAIegtGqcirToQ8SZE2scinTpkqiSK1JhC4BqEooMRDwg7Kly5cnMHyEqcfBCGAWDIw4SdNK/oMCkgo06GmlhAZWGu4RXdLBWIelQjYIEKFAwDshkcbxfFnRTAYiQMcVIApB0jucxgwQFSBJwJBxZobCBMCP0Ee4W+S+BECN2ceI4zysbTskrLGxPcsOepfV2FaXGe58BesU6gkIU0UIgGDEKFK9lpWUaDqoA+jQSxxceLDlwYXHqJlg+Be7tu3buHPr3s3bSYQsCkI4UwNixAIQLiNMeDNhOJg2hJzr2fUGWZgFb0agpHtHxEwrI7Jv72tXjDJC6ypRN2M9TIQLI9JXUs5cOtEBBToMaPJbRBf7PTHwBgO9HVHCMiKUUGARCNwh34IHvpHggkUIaAYJFBoxQAf6CWXo4YcghmhEEAA7YnVPZzU3UnNDZXVsS2VVYlhjelFTNkFCd2NQbHA4Umg0WUJramlqdElnNVhRWVphVGtSTmNwSno1Zm5mZ0ZOWA==);background-repeat:no-repeat;background-position:center center;width:100%;height:100%}ng-image-fullscreen-view .ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main{display:grid;grid-template-columns:repeat(6,1fr);grid-template-rows:100%;grid-column-gap:0;height:100%}ng-image-fullscreen-view .ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main .lightbox-image{width:1299px;height:100%;position:relative}ng-image-fullscreen-view .ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main .lightbox-image .custom-image-main{background-image:url(data:image/gif;base64,R0lGODlhQABAAKUAAAQCBISChMTCxDQ2NOzq7KyqrExOTBweHJSSlNTW1PT29FxaXLS2tCwqLAwKDIyKjMzKzERCRPTy9FRWVCQmJJyanNze3Pz+/GRiZLy+vExKTAQGBISGhMTGxOzu7KyurFRSVCQiJJSWlNza3Pz6/FxeXLy6vCwuLAwODIyOjMzOzERGRAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCQAsACwAAAAAQABAAAAG/kCWcEgsGo/IpHLJbDqf0CgRtXg8FiipdjshXL4XwmRLdk7A6Mu4zD6ivOkvIduuCzFxNMbOHCwWA0opeWApfEkgI2gWIEgPhF8Ph0cBhAFHJZAXe0gHHBkmHAdaZ5BrUx6EHnRGGhJoChpRABaaFgBGpXELna9pEqNPA5pfgUYLcHKnRg8keZJPeMScRiglViWsRwKEAlDSmtRkGd1Qw8TGZY/PULS2uGwHvmjAUbp5vHUaCrCyUpV5LvE58EBAhgfBSNUCY2HZpDoDSpRI97CixYsYM2pkgoICBW0bo0Rg4OwCCQYRQkLZIIJQBXgql1TQhCDmkhXELqwIeaCA/gcJBRIOIUcsw8YGyS54CEHEQUlNJBxo/BDnA5ETOb+c0DgPjAQiDbJe2Jqx65evQ5zmjDq1ahGimoxqRIrGA4UiEXKm3NhTAlChQ2ZCqmlTyQbBcSpsKMwkgomSJEzsZdzEAYUGUilr3sw5yYkUCSR4SJCCbGciLJ+CISFi8WkWG+DmyeC6c0tiIk43UE2IRAM+FJhKuZ0zd5sQEL5AEP4kgdgEdZKDgRCFNyQSx+PcfWK9dxsK2qE4zwq9jXTlUYjjrhNCxRcVzJ2c6J7GN/DfWhBDqpBkgwEDmWXkADeQCFBbEQ64d4EKAWLEEiGtIYJGIyE1gEBoEoyAAH4SG4JB4WtGbCAdBAeCSAQABoAAk4kstujii00EAQAh+QQJCQApACwAAAAAQABAAIUEAgSEgoTEwsREQkSsrqwcGhzk5uRsamyUkpT09vQMDgxcWlwkJiR0dnTMysxMSky8urycmpwMCgyMiowkIiTs7ux0cnT8/vwEBgTExsRERkS0trQcHhzs6uxsbmyUlpT8+vwUFhQsLix8fnzMzsxMTky8vrycnpyMjowAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/sCUcEgsGo/IpHLJbDqf0Kh0Sl0uMheQY1HtOj+XsPjjLSMX4vSFa24LHWqxw90GgOJhEICeFE02GxMiSQAJeFl7fEUAE3dpE4lGcHhzikUThxNnh2xIEiMZGSMSUyKHYYNHCHERSgokaSQKUpinmmeTW0sBcQFSEKcXEG1YapVQwKfDZpNpx08owShtvGq+UaanqWWvsbNS0XjTbhIBGQ4BpFMA4WkokZZdIigQGyjb8fn6+/z9/v8AAxLB8MCDhwcYBD7x0CFNhQMKmZw4dCJikgPBPASkwMBThWAV1PHjkIuCkRLBwmjw1+zCMyEWUl5o0I9CnI5EYqakyY/B/s0iKFM+YOnMiISPp0L64wDrAgmTRjwEgwiQAU4kE/FUtJjEAtIwFSxwXSKhoIUHIseqXcu2bRIFVr+5JTJggyMQGwbMTYEBDJ4I8NRGCIagrQaZK9eakGnCTYgGFkJIkeAoGIi0AylQSMikgIEwBgpgk4nKyAMIdyGUWDIizYjRpPFJIHCIgFwjrcW8hkJZ5uUhGAQEE8DZSIGGFzqIjrI4ZeMhtYLdOvK4wfIoA2TqFRKi8qkEki0NPlV4CEbSVBVhGM+qeAr2KbfGG4A6D4TtRGiTJsBPQlwk8AUjn0XnyZSeRQV4dwgI4Y0V3SnjqCVBMYc4gBlXCugXh217CZVgwl0mrOZGEAAh+QQJCQAyACwAAAAAQABAAIUEAgSEgoREQkTEwsQkIiSkoqRsamzk4uT08vQUFhRUVlQ0MjS0srSUlpR0dnQMCgxMSkzU0tSsqqzs6uz8+vw8OjzMyswsLix0cnQcHhxcXly8vrycnpwEBgSEhoRERkTExsQkJiSkpqRsbmzk5uT09vQcGhxcWlw0NjS0trScmpx8fnwMDgxMTkysrqzs7uz8/vw8PjwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/kCZcEgsGo/IpHLJbDqf0Kh0Sq1ar8lLilJKXbBg5AUBK8MQ37BamDKbU2s1gOIuUwBxZYdA6CwBJXUwd3lHDwETZS8BD0ptdXCFRR0bght+SAtkZmhNHXhVAYJlAUpaFBQpC0wsHAglHCxTHYmjE5hgIm4iUyGjZiFhD3RmFLhPvr8wwWAdxHbHTrS/t2oSbhJUHr8eaywFrwWyswOCA9FgAKBVDx4vZQiMkmEAIX3z+Pn6+/z9/v8AA06p0AAECBUVBDLpwEEQB3QKhzQcxSHikRjKYMTwl8ABhgRIJv6qyM8EiTIkTByxkNFCvxVuVqxs+TLmEZEU+5moNUGl/hGMyjb26+jA55ECvwpYPNIBaZ0CEJfKiKHCoAqhUrNq3cq1q8IKATgUCJCwSgcII0ZAiEoFBcs6FlBMGVFLkYEwCp7VKXEiCk43JK2g0CuIglwnBjKOsAIgQsYyEdYpefBO2YtGVAQ8NiOgSYvNH6ps2wyjGxMMmx0gAYDixAkUkodcI53tdGojAAwccEPCQGxdtD1vhjDJxS8Xx0ZvNr2EcsbLRVRkbEDkA2kYnZuMyHiXyALCglYJabw58pO/ZgIPkf5YBZEK4N1QKPsEQ2V4i404fhyhSN5fFPQlxQNoYbAWErs9doARbgkSFz77ZdQfbjF4UEABHsQQWx4NKWzmnlQobHaYVOi58WFWHTDwCwNsCZTbSWZM4JtXMgBQgQYaVLDhFUEAACH5BAkJACoALAAAAABAAEAAhQQCBISChDw6PMTGxOTm5CQiJFRWVKSipNTW1CwuLAwODJSWlERGRGxqbMzOzPT29LS2tNze3AwKDERCRCwqLGRiZDQ2NJyenPz+/AQGBISGhDw+PMzKzCQmJFxaXKyqrNza3DQyNBQWFJyanExKTGxubNTS1Pz6/Ly6vOTi5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAb+QJVwSCwaj8ikcslsOp/QqHRKrVqvS0oHy10WHBiMqdAtF03hsMPM7qTTFHaZ8g7H5UqRyIlOm/BJJH0IJEwFfWOARwx1GAxNFHdNEgYeElYIjQhsEpkYCJdTIo1he2UVbxVUo6SmXahpqlQgjSBsCp4gClWMdYWcHpZXJLQYIL+KXHrJzM3Oz9DR0tPUzgIBFwcBAtVMFhyNHBZJEiEhGdEGJ6QYDx5GGRoPYQ8a6M0C8+wYJ+NDCn3eONiVDEDAfSYADFnAbgGzCfvqTBCiQF+jBwQBaYj4RoOQEBH9AfrAMc0HIRZCJiNZEsNJFQrWkToRSmNLDB6FMCTlMFn+r5ITKR4MYyIjIIMlExKJJ/OEPWsy2Z3gZkSChRA1namT+q7bkW/hRHo1AmCDhgMHNGxQOLat27djJVSAAAIBhAb3pghYMGDACKpdLKRolEKskwwXGl3IayUfuweAnSQmdQGLhMH7UjBesiHihisNSjZ4MpldZSsoSqJ4Am4fhysRSkZgHfE1kgQBPqRNgCQ2x9mSI54uImHnmxGbVaTmuNpJ532fiwBY3ggF2yElSpaAcoDdgSOh940mIoFAxBRGmWToXudAchW+2QEnMsFinalTNozoOyK6kQIlkVGEAJi9kUJkcoDEkWFCSNAAXSCgUEFWeADIkYBuxUdKCnAgqRAeO+O9lQF1dVjXoQqINYLciUOEoMEHH2gQAovQBAEAIfkECQkAMAAsAAAAAEAAQACFBAIEhIKEREJExMbEJCIk5ObkbGpsrKqsFBIUNDI09Pb03NrcVFJUdHZ0tLa0DAoMlJKULCos7O7sHBocPDo8zM7MtLK0/P785OLkXFpcfH58BAYEhIaETEpMzMrMJCYk7OrsbG5srK6sFBYUNDY0/Pr83N7cVFZUfHp8vLq8DA4MlJaULC4s9PL0HB4cPD48AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABv5AmHBILBqPyKRyyWw6n9CodEqtWq/YbHaiCUy0YCNBcrlICEwAi8FgAcJMTbkcUG5QhfmlgNrAkwF6GkkjA3p6AyN/R2NlZ0gbHoeHA35SGwIvD04TAV5JDSWTh4NRCSZlJglZAHmjeiBvTw+ocwWbVwmvkyRQL5MvWBm7hxm+wMLEesazrmW3WLrKZb1Qp6mrWBsg0yCWUA8CArhZDdOli1GRxB7f6VCFr4nvVHfccyB99FYACWwJsvYJHEiwoMEwDww4WLDAgQF3B5WQqKUHQ7UjAD58CDjwhahRCigcOYGhDIYTBGkRwwDxxCSUAg1MM0Ck1SQMHNOlmJaCyP6HVx8EUtxlwidQgSWVFR1i81CBnIt2KutJxGWxgTKVhTCSIenJlM5GYVCBMUIEqPQ8viohMqISCkkrtnVrRyHDFA/p6t3Lt69fOA/MkqvyIEECiFk+HFBQpsSBoFM2cGB8QQEHxFU6tJjUooMUFRUmVSCLJcJmkBGirHi1IssBYgegqPg4SQFpwrRHlRi8RNqri1RYTGPxhAQx4Ece8C4iXBlxJ7PXLhfyoMGCMgv0GXmQe9JuKKtHtT6CwNAhDwiOvN4VW3boQxXSHxHxysKRD6c5p47ygMPHEhxMB4NvoyAnhGaceUbFAyQkIKAQcuyCThERiPCfCPvRAwExEC8o8QALLDwIBwrEoPCXEMbtYiBfFtR34hAIvKdHfC8O8QAKtZiAgoh+qcBjjYsEAQAh+QQJCQAuACwAAAAAQABAAIUEAgSMioxEQkTMysxkYmTk5uQkIiSsqqxUUlT09vSUlpTc2tx0cnQcGhwsLiwMCgxMSkzU0tRsamzs7uxcWlyUkpQsKiy0trT8/vycnpwEBgSMjoxERkTMzsxkZmTs6uwkJiSsrqxUVlT8+vycmpzk4uR8enw0MjQMDgxMTkzU1tRsbmz08vRcXlwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/kCXcEgsGo8ayCYU2kAAx6h0Sp1yVJisdiGoer9fz0hLxowk4LR6yBmXy921nKrBvssqzXx/TN3vCHyCQxV/bxWDgxeGZRdHBisKFSsGiVOLjFqORA8kblkjGQ+WR4WZWYhDDwN/A6OkRAinWYFDCowZcycBGydRAHaMC1BCBp93I5VqDglZCQ5RbZlxQgynDGu3WgpSYn9nRSSnuWqmWdxSAgtvXEYZ42sObiPQUwBKTBVPR9aZ2GsnNvQiZYzRCBCwBL0zRC7hngcd/nR45XAPioVkMqComMgAAwUkGCjjSLKkyZMoU6o0+cCCBYorwYA40MzMAYQxvUBg8YYF/gQpKCBA2KjSAs87CSwcETAhywRqJw8wOmAERVMtE4iyrPkNpgs/ZVKgdHCq3hCwZMSePFG2iFUyWVE+OPZmhFcXAo6ygGpSqiGqR4IOXWn0DwulOafs7PkzMRULIeaFQOy4ygMHDu5W3sy5s+fPoCuioBAgAAWtcwCAAEEMlogPZD6I2COiRJYSs0mJ+JNbze4yvQWhgH3nA2ovAAq8KdGaDwFGBNSA+INT0AZGG6RTTxSAUQA1yd8UaG4EAAcTJjiQJ/LcUHTfbyhMARGBTATKbq++ibuGgm0MuE3RgHJlFNBAFL/FtwcALq1XhDZvoHMEBcRlIRtKBIo3BQoELpTWwnEcacCIHqFVWMYHoQkBYRkSgjbgGx8cmKILFgSDgQr4pWgeevvM6CNnQQAAIfkECQkAJgAsAAAAAEAAQACFBAIEhIaEREJExMbEJCIkZGJktLK07OrsnJqcVFZUDA4MNDI0/Pr8jI6M5OLkdHZ0TEpMzM7MLCosvL689PL0XF5cFBYUBAYEjIqMzMrMJCYkZGZk7O7snJ6cXFpcFBIUNDY0/P78lJKUfHp8TE5MxMLEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABv5Ak3BILBqPyKRyyWyaPo/BwTF4KJzYrBJyCHm/B4h2PIYwvugQQ0xuLxWcdJrzcduPI7l8dGcSAhkOBwMBBEcDemkDfUkAAWdpDBgARXGJXxSMRxcGlyEGlEMUnl6ZRgAFE1MTBRdaAaQhGESIpItFFrVoAxZYGpCeDBpDeaR8RAC6iq5NDbFeDUMflol0RQWeG04RzyERRGaXbEQlnhNOo8+mQwLUXxzjRO5yHE7zl+vSI1IHGSNXR9JV29btm5tyl841EdEtmpsN2Zz8isVAgh0AGRJlCNUEQ6xZdyxkTJOhFxZOngwwuwNgQ4kDB0ps4IgFAAZgXyTR1NRHQ/6ACDAjYDDEs6jRo0iTKl3KtKlTIQo8YMDgAeBTLQm6gElwNUuCRFyRgOiAAERXBVrlHLBKZEG6ilexXSpwBAGaDledXXJYpMPdqx4vgSyyABKDBVcreKJ7REKHDoivwqnGtmuSr3o8WHbiIW2IA2E3N1FQYGqFOqJTq17NurXr17Bj90kwgAGFAaHbKIAAoTIjhmlEuGnnhYOAopjl5MYy+Z1vNyPl3NJCQg4JTQBwomGws0n1NNcZARAYqTuT5sWft4muqI2AdBSOM1kwYoRZJcnTLM+yuzcTAH590YF5QwCHhnBOPSDHA0t4UBsDA2j2lANyOCCbEAAkQiBrFBqmYeGFJiiYBoMgAnjXhq6BUN99ILboYmxBAAAh+QQJCQAnACwAAAAAQABAAIUEAgSMiozExsRUUlQkIiSkpqTk5uQUEhQ0MjS0srT09vScmpx8enwMCgw8Ojzk4uRcWlwsKiysrqz08vQcHhy8urz8/vykoqQEBgSUkpTMzsxUVlQkJiSsqqzs6uwUFhQ0NjS0trT8+vycnpx8fnwMDgw8PjwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/sCTcEgsGo/IpHLJbA4PINDBSa02ESGRxSIKIazg8Gmj3ZpFG7GaiVCY39zIen4MweEhuhNDoWCSB2V3WyJTekkOEm4WChIORw6DcI+HRgABkgEARSCSb5RHBAMDHGKYngFFB55mhkUEFW8VBFYmrFsmRXaeFUcUBnceFFUJtxZ5RAiCcCJyRrGDvXuLrAp/RBDLhGlGHKylTd7GFuDJFWUiFV9HG6zcTOLG5aogDq5HA+572oMi12IEvlEpdisBHWh3pDmxdSvXHAIegtGqcirToQ8SZE2scinTpkqiSK1JhC4BqEooMRDwg7Kly5cnMHyEqcfBCGAWDIw4SdNK/oMCkgo06GmlhAZWGu4RXdLBWIelQjYIEKFAwDshkcbxfFnRTAYiQMcVIApB0jucxgwQFSBJwJBxZobCBMCP0Ee4W+S+BECN2ceI4zysbTskrLGxPcsOepfV2FaXGe58BesU6gkIU0UIgGDEKFK9lpWUaDqoA+jQSxxceLDlwYXHqJlg+Be7tu3buHPr3s3bSYQsCkI4UwNixAIQLiNMeDNhOJg2hJzr2fUGWZgFb0agpHtHxEwrI7Jv72tXjDJC6ypRN2M9TIQLI9JXUs5cOtEBBToMaPJbRBf7PTHwBgO9HVHCMiKUUGARCNwh34IHvpHggkUIaAYJFBoxQAf6CWXo4YcghmhEEAA7YnVPZzU3UnNDZXVsS2VVYlhjelFTNkFCd2NQbHA4Umg0WUJramlqdElnNVhRWVphVGtSTmNwSno1Zm5mZ0ZOWA==);background-repeat:no-repeat;background-position:center center;width:100%;height:100%}ng-image-fullscreen-view .ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main .lightbox-image.ng-image-slider-show{opacity:1;display:block}ng-image-fullscreen-view .ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main .lightbox-image.ng-image-slider-hide{opacity:0;display:none}ng-image-fullscreen-view .ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main .lightbox-image .custom-image-main img{transition:.5s ease-in-out;width:auto;height:auto;max-height:100%;max-width:100%;position:absolute;z-index:11;top:0;bottom:0;margin:auto;left:0;right:0}ng-image-fullscreen-view .ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main .lightbox-image .custom-image-main iframe,ng-image-fullscreen-view .ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main .lightbox-image .custom-image-main video{top:0;left:0;right:0;bottom:0;margin:auto;width:100%;height:100%;border:0}ng-image-fullscreen-view .ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .caption{position:absolute;z-index:11;top:0;margin:auto;padding:5px;color:#fff;background-color:rgba(0,0,0,.35);max-width:100%;left:0;right:0}ng-image-fullscreen-view .ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .caption.show{display:block}ng-image-fullscreen-view .ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .caption.hide{display:none}ng-image-fullscreen-view .ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .next,ng-image-fullscreen-view .ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .prev{position:absolute;right:10px;top:50%;background-color:#fff;border-radius:50%;cursor:pointer;margin-top:-16px;width:38px;height:38px;font-size:35px;z-index:12;line-height:30px;outline:0;color:#000;transition:.3s ease-in-out}ng-image-fullscreen-view .ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .next:hover,ng-image-fullscreen-view .ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .prev:hover{background-color:#d4cdcd}ng-image-fullscreen-view .ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .next.disable,ng-image-fullscreen-view .ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .prev.disable{color:#bbb;background-color:#fff}ng-image-fullscreen-view .ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .prev{left:10px}ng-image-fullscreen-view .ng-image-fullscreen-view .lightbox-wrapper .close{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAQK0lEQVRYCQEgEN/vAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIyMjLuvr60L8/Pwz/Pz8HAQEBBYAAAAA/Pz86gQEBOQEBATPFRUVvt3d3dAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPT09DNPT02T4+Php/v7+FgQEBLwBAQHHCAgI4AQEBO4AAAAA/Pz8Evn5+SD+/v43/Pz8RAICAu4ICAiZKysrmsXFxfIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVFRVcBQUF5wkJCcEYGBhOZGRkBgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY2NjBBgYGEwJCQm9BgYG6xQUFGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMTExDgwMDK0FBQXhGBgYSgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGRkZRgYGBt8LCwuvLCwsDgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAuLi4WBwcH0QsLC7EzMzMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADU1NQ4LCwutBwcH0ygoKBgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAwMA4ICAjRDQ0NnWxsbAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABycnICDQ0NlwcHB9UqKioQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsLC7ELCwuvcHBwBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAd3d3AgwMDKkLCwu3d3d3AgAAAAAAAAAAAAAAAAAAAAAAFBQUYgYGBt01NTUOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADk5OQwGBgbZFBQUagAAAAAAAAAAAAAAAAA3NzcQBgYG6xoaGkQAAAAAAAAAAAAAAAAAAAAACAgIkQMDA/sHBweZPz8/BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPz8/BAcHB5kDAwP7CAgIkwAAAAAAAAAAAAAAAAAAAAAaGho8BgYG7zIyMhQAAAAAAAAAAAAODg56CgoKuQAAAAAAAAAAAAAAAAAAAAAAAAAAAwMD+wAAAP8AAAD/BwcHoz8/PwQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz8EBwcHowAAAP8AAAD/AgIC/QAAAAAAAAAAAAAAAAAAAAAAAAAACQkJsQ4ODoEAAAAAAHNzcwIHBwfjHBwcRAAAAAAAAAAAAAAAAAAAAAAAAAAABwcHmwAAAP8AAAD/AAAA/wcHB6M/Pz8EAAAAAAAAAAAAAAAAAAAAAD8/PwQHBwejAAAA/wAAAP8AAAD/BwcHmwAAAAAAAAAAAAAAAAAAAAAAAAAAHh4ePgYGBudqamoEACAgIDwGBgblbW1tAgAAAAAAAAAAAAAAAAAAAAAAAAAAOjo6BAcHB6UAAAD/AAAA/wAAAP8HBwejPz8/BAAAAAAAAAAAPz8/BAcHB6MAAAD/AAAA/wAAAP8HBwelOjo6BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcHB98cHBxCAA4ODn4LCwudAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADo6OgQHBwelAAAA/wAAAP8AAAD/BwcHoz8/PwQ/Pz8EBwcHowAAAP8AAAD/AAAA/wcHB6U6OjoEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwMDJcNDQ2FAAoKCrESEhJoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA6OjoEBwcHpQAAAP8AAAD/AAAA/wcHB6MHBwejAAAA/wAAAP8AAAD/BwcHpTo6OgQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABISEmIICAi1AAkJCdUZGRlEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOjo6BAcHB6UAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8HBwelOjo6BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB0dHT4JCQnbAAUFBeElJSUyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADo6OgQHBwelAAAA/wAAAP8AAAD/AAAA/wcHB6U6OjoEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ODiQCAgLjAv///wD+/v7+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUFBQAAAAD+AAAAAAAAAAAAAAAAAAAAAAAAAP4FBQUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP7+/v4AAAACAAoKCtkcHBxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPz8/BAcHB6MAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8HBwejPz8/BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACMjIzwJCQnfAAgICLcTExNgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz8EBwcHowAAAP8AAAD/AAAA/wcHB6UHBwelAAAA/wAAAP8AAAD/BwcHoz8/PwQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQEFgHBwe7AA0NDYkMDAyTAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD8/PwQHBwejAAAA/wAAAP8AAAD/BwcHpTo6OgQ6OjoEBwcHpQAAAP8AAAD/AAAA/wcHB6M/Pz8EAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwMDI0NDQ2PABcXF0YICAjZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPz8/BAcHB6MAAAD/AAAA/wAAAP8HBwelOjo6BAAAAAAAAAAAOjo6BAcHB6UAAAD/AAAA/wAAAP8HBwejPz8/BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgICNMVFRVOAFtbWwYFBQXtIiIiMgAAAAAAAAAAAAAAAAAAAAAAAAAABwcHmQAAAP8AAAD/AAAA/wcHB6U6OjoEAAAAAAAAAAAAAAAAAAAAADo6OgQHBwelAAAA/wAAAP8AAAD/BwcHmwAAAAAAAAAAAAAAAAAAAAAAAAAAJSUlLAYGBvFLS0sIAAAAAAAMDAyPCwsLowAAAAAAAAAAAAAAAAAAAAAAAAAAAwMD+wAAAP8AAAD/BwcHpTo6OgQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA6OjoEBwcHpQAAAP8AAAD/AgIC/QAAAAAAAAAAAAAAAAAAAAAAAAAADAwMnQwMDJUAAAAAAAAAAAAnJyccBQUF8x8fHy4AAAAAAAAAAAAAAAAAAAAACAgIkwICAv0HBwebOjo6BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOjo6BAcHB5sCAgL9CAgIlQAAAAAAAAAAAAAAAAAAAAAhISEoBQUF9SgoKCAAAAAAAAAAAAAAAAAAEBAQfggICMlaWloEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGpqagQJCQnDDw8PhQAAAAAAAAAAAAAAAAAAAAAASkpKBggICMsPDw+PAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8PD4cICAjPPz8/CAAAAAAAAAAAAAAAAAAAAAAAAAAAACIiIh4GBgbnEBAQcgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAExMTbgYGBukhISEgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAaGhooBgYG5xAQEItoaGgEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHBwcAQPDw+FBQUF6RkZGSwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIyMjIAgICM8JCQnDICAgJgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIyMjJAkJCb8HBwfRISEhIgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEFBQQgODg6HBQUF9QwMDJcmJiYmAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACYmJiIMDAyTBQUF9Q4ODo1BQUEKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIiIiJOnp6Xf7+/taAgIC1AUFBbgLCwvLDg4O3DExMfYAAAD+0NDQDPLy8iT09PQy+/v7R/7+/jAFBQWoGBgYid3d3doAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA3NzcM3t7eTvX19UH///8y/f39HgICAhQAAAAA/v7+7gMDA+ABAQHQCgoKvScnJ7TFxcXyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAx6aIH59j4jkAAAAASUVORK5CYII=);background-repeat:no-repeat;background-position:center center;background-size:32px;position:absolute;top:10px;right:10px;color:#000;background-color:#fff;padding:0;opacity:1;border-radius:50%;height:36px;width:36px;z-index:12;cursor:pointer;transition:.2s}ng-image-fullscreen-view .ng-image-fullscreen-view .lightbox-wrapper.error-msg{background-image:none}ng-image-fullscreen-view .ng-image-fullscreen-view .invalid-msg{color:#fff;font-size:18px;position:absolute;top:45%;left:45%}ng-image-fullscreen-view .ng-image-fullscreen-view .popup-pagination{background-color:#1f1f1f;color:#fff;position:absolute;height:30px;width:100%;text-align:center;bottom:0;font-size:16px;line-height:30px}@media (max-width:768px){ng-image-fullscreen-view .ng-image-fullscreen-view .lightbox-wrapper{width:100%;height:100%}ng-image-fullscreen-view .ng-image-fullscreen-view .lightbox-wrapper.error-msg{background-image:none}}"],encapsulation:2}),gn([(0,c.i9L)("lightboxDiv"),Vt("design:type",Object)],r.prototype,"lightboxDiv",void 0),gn([(0,c.i9L)("lightboxImageDiv"),Vt("design:type",Object)],r.prototype,"lightboxImageDiv",void 0),gn([(0,c.IIB)(),Vt("design:type",Array)],r.prototype,"images",void 0),gn([(0,c.IIB)(),Vt("design:type",Number),Vt("design:paramtypes",[Number])],r.prototype,"imageIndex",null),gn([(0,c.IIB)(),Vt("design:type",Boolean),Vt("design:paramtypes",[Boolean])],r.prototype,"show",null),gn([(0,c.IIB)(),Vt("design:type",Boolean)],r.prototype,"videoAutoPlay",void 0),gn([(0,c.IIB)(),Vt("design:type",String)],r.prototype,"direction",void 0),gn([(0,c.IIB)(),Vt("design:type",Boolean)],r.prototype,"paginationShow",void 0),gn([(0,c.IIB)(),Vt("design:type",Number),Vt("design:paramtypes",[Number])],r.prototype,"animationSpeed",null),gn([(0,c.IIB)(),Vt("design:type",Boolean)],r.prototype,"infinite",void 0),gn([(0,c.IIB)(),Vt("design:type",Boolean)],r.prototype,"arrowKeyMove",void 0),gn([(0,c.IIB)(),Vt("design:type",Boolean)],r.prototype,"showVideoControls",void 0),gn([(0,c.r_U)(),Vt("design:type",Object)],r.prototype,"close",void 0),gn([(0,c.r_U)(),Vt("design:type",Object)],r.prototype,"prevImage",void 0),gn([(0,c.r_U)(),Vt("design:type",Object)],r.prototype,"nextImage",void 0),gn([(0,c.L6J)("window:resize",["$event"]),Vt("design:type",Function),Vt("design:paramtypes",[Object]),Vt("design:returntype",void 0)],r.prototype,"onResize",null),gn([(0,c.L6J)("document:keyup",["$event"]),Vt("design:type",Function),Vt("design:paramtypes",[KeyboardEvent]),Vt("design:returntype",void 0)],r.prototype,"handleKeyboardEvent",null),r=gn([lj(4,(0,c.tBr)(oe)),Vt("design:paramtypes",[c.sBO,Nn,c.SBq,KD,Object])],r),r})();const Sj=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=|\?v=)([^#\&\?]*).*/,rP=["jpeg","jpg","gif","png"],sP=["mp4"];let Tj=(()=>{let r=class{constructor(n,s){this.imageFullscreenViewService=n,this.sanitizer=s,this.YOUTUBE="youtube",this.IMAGE="image",this.VIDEO="video",this.fileUrl="",this.fileExtension="",this.type=this.IMAGE,this.videoAutoPlay=!1,this.showVideoControls=1,this.isVideo=!1,this.alt="",this.title="",this.direction="ltr"}set imageUrl(n){if(n&&"string"==typeof n){this.fileUrl=this.sanitizer.bypassSecurityTrustResourceUrl(n),this.fileExtension=n.replace(/^.*\./,""),this.imageFullscreenViewService.base64FileExtension(n)&&(rP.indexOf(this.imageFullscreenViewService.base64FileExtension(n).toLowerCase())>-1||sP.indexOf(this.imageFullscreenViewService.base64FileExtension(n).toLowerCase())>-1)&&(this.fileExtension=this.imageFullscreenViewService.base64FileExtension(n));const s=n.match(Sj);s&&11===s[2].length?(this.type=this.YOUTUBE,this.fileUrl=this.sanitizer.bypassSecurityTrustResourceUrl(`//www.youtube.com/embed/${s[2]}${this.videoAutoPlay?"?autoplay=1&enablejsapi=1":"?autoplay=0&enablejsapi=1"}&controls=${this.showVideoControls}`)):this.fileExtension&&rP.indexOf(this.fileExtension.toLowerCase())>-1?this.type=this.IMAGE:this.fileExtension&&sP.indexOf(this.fileExtension.toLowerCase())>-1&&(this.type=this.VIDEO)}}videoClickHandler(n){n&&n.srcElement&&!this.showVideoControls&&(n.srcElement.paused?n.srcElement.play():n.srcElement.pause())}};return r.\u0275fac=function(n){return new(n||r)(c.Y36(KD),c.Y36(Nn))},r.\u0275cmp=c.Xpm({type:r,selectors:[["custom-img"]],inputs:{videoAutoPlay:"videoAutoPlay",showVideoControls:"showVideoControls",isVideo:"isVideo",alt:"alt",title:"title",direction:"direction",imageUrl:"imageUrl"},decls:1,vars:1,consts:[["class","custom-image-main",4,"ngIf"],[1,"custom-image-main"],["class","image",3,"src","alt","title",4,"ngIf"],["class","youtube","frameborder","0","allowfullscreen","",3,"src",4,"ngIf"],["class","video","type","video/mp4","controlsList","nodownload",3,"autoplay","click",4,"ngIf"],["class","invalid-msg",3,"dir",4,"ngIf"],["class","youtube-icon",4,"ngIf"],[1,"image",3,"src","alt","title"],["frameborder","0","allowfullscreen","",1,"youtube",3,"src"],["type","video/mp4","controlsList","nodownload",1,"video",3,"autoplay","click"],["type","video/mp4",3,"src"],[1,"invalid-msg",3,"dir"],[1,"youtube-icon"]],template:function(n,s){1&n&&c.YNc(0,Ij,6,5,"div",0),2&n&&c.Q6J("ngIf",s.fileUrl)},directives:[mt],encapsulation:2}),gn([(0,c.IIB)(),Vt("design:type",Boolean)],r.prototype,"videoAutoPlay",void 0),gn([(0,c.IIB)(),Vt("design:type",Number)],r.prototype,"showVideoControls",void 0),gn([(0,c.IIB)(),Vt("design:type",Object),Vt("design:paramtypes",[Object])],r.prototype,"imageUrl",null),gn([(0,c.IIB)(),Vt("design:type",Object)],r.prototype,"isVideo",void 0),gn([(0,c.IIB)(),Vt("design:type",String)],r.prototype,"alt",void 0),gn([(0,c.IIB)(),Vt("design:type",String)],r.prototype,"title",void 0),gn([(0,c.IIB)(),Vt("design:type",String)],r.prototype,"direction",void 0),r=gn([Vt("design:paramtypes",[KD,Nn])],r),r})(),Mj=(()=>{let r=class{};return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[[Xl]]}),r})();function Rj(r,i){1&r&&(c.ynx(0),c.TgZ(1,"p"),c._uU(2,"cargando..."),c.qZA(),c.BQk())}function kj(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"div",4),c.NdJ("click",function(){const h=c.CHM(n).index;return c.oxw(2).showLightbox(h+1)}),c._UZ(1,"img",5),c.qZA()}if(2&r){const n=i.$implicit;c.xp6(1),c.Q6J("src",n,c.LSH)}}function Oj(r,i){if(1&r&&(c.ynx(0),c.TgZ(1,"div",2),c.YNc(2,kj,2,1,"div",3),c.qZA(),c.BQk()),2&r){const n=c.oxw();c.xp6(1),c.Akn(n.sizeImg),c.xp6(1),c.Q6J("ngForOf",n.items)}}let Nj=(()=>{class r{constructor(n){this.storage=n,this.showFlag=!1,this.selectedImageIndex=0,this.imageObject=[{}],this.cargandoImages=!0,this.items=[],this.sizeImg="grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));"}ngAfterViewInit(){console.log(this.columns),this.sizeImg=`grid-template-columns: repeat(auto-fit, minmax(${this.columns}px, 1fr));`,console.log(this.sizeImg)}ngOnDestroy(){this.suscrip.unsubscribe()}ngOnInit(){this.cargarLista()}cargarLista(){var n=this;this.cargandoImages=!0,console.log("",this.items),this.suscrip=this.storage.ref(this.folder).listAll().pipe(g_()).subscribe(function(){var s=(0,$.Z)(function*(l){yield Promise.all(l.items.map(function(){var h=(0,$.Z)(function*(g){const w=yield g.getDownloadURL();n.imageObject.push({image:w}),n.items.push(w)});return function(g){return h.apply(this,arguments)}}())),console.log(n.imageObject),n.cargandoImages=!1});return function(l){return s.apply(this,arguments)}}())}showLightbox(n){this.selectedImageIndex=n,this.showFlag=!0}closeEventHandler(){this.showFlag=!1,this.selectedImageIndex=0}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(Cv))},r.\u0275cmp=c.Xpm({type:r,selectors:[["app-grid-masonry"]],inputs:{columns:"columns",folder:"folder"},decls:3,vars:5,consts:[[4,"ngIf"],[3,"images","imageIndex","show","close"],[1,"grid-wrapper"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[3,"src"]],template:function(n,s){1&n&&(c.YNc(0,Rj,3,0,"ng-container",0),c.YNc(1,Oj,3,3,"ng-container",0),c.TgZ(2,"ng-image-fullscreen-view",1),c.NdJ("close",function(){return s.closeEventHandler()}),c.qZA()),2&n&&(c.Q6J("ngIf",s.cargandoImages),c.xp6(1),c.Q6J("ngIf",!s.cargandoImages),c.xp6(1),c.Q6J("images",s.imageObject)("imageIndex",s.selectedImageIndex)("show",s.showFlag))},directives:[mt,Dj,qn],styles:[".card[_ngcontent-%COMP%]{background-color:#faebd7}.hvr-grow[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;transform:perspective(1px) translateZ(0);box-shadow:0 0 1px #0000;transition-duration:.3s;transition-property:transform}.hvr-grow[_ngcontent-%COMP%]:hover, .hvr-grow[_ngcontent-%COMP%]:focus, .hvr-grow[_ngcontent-%COMP%]:active{transform:scale(1.1)}img[_ngcontent-%COMP%]{max-width:100%;height:auto;vertical-align:middle;display:inline-block}.grid-wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.grid-wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:5px}.grid-wrapper[_ngcontent-%COMP%]{display:grid;grid-gap:20px;grid-auto-rows:350px;grid-auto-flow:dense}"]}),r})(),Vk=(()=>{class r{constructor(){}isBase64(n){return/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(n)}base64FileExtension(n){return n.substring("data:image/".length,n.indexOf(";base64"))}orderArray(n=[],s="ASC"){return(null==n?void 0:n.length)&&s?n.sort((l,h)=>null!==l.order&&l.order?null!==h.order&&h.order?l.order>h.order?"DESC"===s?-1:1:l.order<h.order?"DESC"===s?1:-1:void 0:-1:1):n}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})(),S3=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({providers:[Vk],imports:[[Xl,uF]]}),r})(),T3=(()=>{class r{constructor(n){this.injector=n}ngDoBootstrap(){const n=ra(ZH,{injector:this.injector});customElements.define("my-own-element",n);const s=ra(KH,{injector:this.injector});customElements.define("form-contact",s);const l=ra(ej,{injector:this.injector});customElements.define("gallery-slide",l);const h=ra(ij,{injector:this.injector});customElements.define("grid-gallery",h);const g=ra(eP,{injector:this.injector});customElements.define("grid-videos",g);const w=ra(Nj,{injector:this.injector});customElements.define("grid-masonry",w);const C=ra(aj,{injector:this.injector});customElements.define("modal-contact",C)}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(c.zs3))},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({providers:[{provide:vD,useValue:{dots:!0,imageSize:"cover"}}],imports:[[wf,uF,Bu,WA,Hr.hO.initializeApp(b_firebase),sx,dD.enablePersistence(),TP,S3,XL,gB.forRoot(),OU,Mj,zH,xH]]}),r})();(0,c.G48)(),du().bootstrapModule(T3).catch(r=>console.error(r))},4762:(qe,Ce,P)=>{"use strict";P.d(Ce,{ZT:()=>ae,pi:()=>j,_T:()=>le,mG:()=>fe,Jh:()=>V,XA:()=>Y,CR:()=>z,ev:()=>ve});var c=function(se,pe){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(be,ge){be.__proto__=ge}||function(be,ge){for(var he in ge)Object.prototype.hasOwnProperty.call(ge,he)&&(be[he]=ge[he])})(se,pe)};function ae(se,pe){if("function"!=typeof pe&&null!==pe)throw new TypeError("Class extends value "+String(pe)+" is not a constructor or null");function be(){this.constructor=se}c(se,pe),se.prototype=null===pe?Object.create(pe):(be.prototype=pe.prototype,new be)}var j=function(){return(j=Object.assign||function(pe){for(var be,ge=1,he=arguments.length;ge<he;ge++)for(var te in be=arguments[ge])Object.prototype.hasOwnProperty.call(be,te)&&(pe[te]=be[te]);return pe}).apply(this,arguments)};function le(se,pe){var be={};for(var ge in se)Object.prototype.hasOwnProperty.call(se,ge)&&pe.indexOf(ge)<0&&(be[ge]=se[ge]);if(null!=se&&"function"==typeof Object.getOwnPropertySymbols){var he=0;for(ge=Object.getOwnPropertySymbols(se);he<ge.length;he++)pe.indexOf(ge[he])<0&&Object.prototype.propertyIsEnumerable.call(se,ge[he])&&(be[ge[he]]=se[ge[he]])}return be}function fe(se,pe,be,ge){return new(be||(be=Promise))(function(te,Be){function $e(It){try{at(ge.next(It))}catch(qt){Be(qt)}}function xt(It){try{at(ge.throw(It))}catch(qt){Be(qt)}}function at(It){It.done?te(It.value):function(te){return te instanceof be?te:new be(function(Be){Be(te)})}(It.value).then($e,xt)}at((ge=ge.apply(se,pe||[])).next())})}function V(se,pe){var ge,he,te,Be,be={label:0,sent:function(){if(1&te[0])throw te[1];return te[1]},trys:[],ops:[]};return Be={next:$e(0),throw:$e(1),return:$e(2)},"function"==typeof Symbol&&(Be[Symbol.iterator]=function(){return this}),Be;function $e(at){return function(It){return function(at){if(ge)throw new TypeError("Generator is already executing.");for(;be;)try{if(ge=1,he&&(te=2&at[0]?he.return:at[0]?he.throw||((te=he.return)&&te.call(he),0):he.next)&&!(te=te.call(he,at[1])).done)return te;switch(he=0,te&&(at=[2&at[0],te.value]),at[0]){case 0:case 1:te=at;break;case 4:return be.label++,{value:at[1],done:!1};case 5:be.label++,he=at[1],at=[0];continue;case 7:at=be.ops.pop(),be.trys.pop();continue;default:if(!(te=(te=be.trys).length>0&&te[te.length-1])&&(6===at[0]||2===at[0])){be=0;continue}if(3===at[0]&&(!te||at[1]>te[0]&&at[1]<te[3])){be.label=at[1];break}if(6===at[0]&&be.label<te[1]){be.label=te[1],te=at;break}if(te&&be.label<te[2]){be.label=te[2],be.ops.push(at);break}te[2]&&be.ops.pop(),be.trys.pop();continue}at=pe.call(se,be)}catch(It){at=[6,It],he=0}finally{ge=te=0}if(5&at[0])throw at[1];return{value:at[0]?at[1]:void 0,done:!0}}([at,It])}}}function Y(se){var pe="function"==typeof Symbol&&Symbol.iterator,be=pe&&se[pe],ge=0;if(be)return be.call(se);if(se&&"number"==typeof se.length)return{next:function(){return se&&ge>=se.length&&(se=void 0),{value:se&&se[ge++],done:!se}}};throw new TypeError(pe?"Object is not iterable.":"Symbol.iterator is not defined.")}function z(se,pe){var be="function"==typeof Symbol&&se[Symbol.iterator];if(!be)return se;var he,Be,ge=be.call(se),te=[];try{for(;(void 0===pe||pe-- >0)&&!(he=ge.next()).done;)te.push(he.value)}catch($e){Be={error:$e}}finally{try{he&&!he.done&&(be=ge.return)&&be.call(ge)}finally{if(Be)throw Be.error}}return te}function ve(se,pe,be){if(be||2===arguments.length)for(var te,ge=0,he=pe.length;ge<he;ge++)(te||!(ge in pe))&&(te||(te=Array.prototype.slice.call(pe,0,ge)),te[ge]=pe[ge]);return se.concat(te||Array.prototype.slice.call(pe))}},8239:(qe,Ce,P)=>{"use strict";function c(j,le,ye,ce,oe,fe,V){try{var L=j[fe](V),Q=L.value}catch(Y){return void ye(Y)}L.done?le(Q):Promise.resolve(Q).then(ce,oe)}function ae(j){return function(){var le=this,ye=arguments;return new Promise(function(ce,oe){var fe=j.apply(le,ye);function V(Q){c(fe,ce,oe,V,L,"next",Q)}function L(Q){c(fe,ce,oe,V,L,"throw",Q)}V(void 0)})}}P.d(Ce,{Z:()=>ae})}},qe=>{qe(qe.s=8404)}]);